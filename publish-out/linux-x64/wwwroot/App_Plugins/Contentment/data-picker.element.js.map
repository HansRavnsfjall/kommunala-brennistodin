{"version":3,"file":"data-picker.element.js","sources":["../../../../Umbraco.Community.Contentment.Client/src/property-editor-ui/data-picker/data-picker.element.ts"],"sourcesContent":["// SPDX-License-Identifier: MPL-2.0\r\n// Copyright Â© 2024 Lee Kelleher\r\n\r\nimport { parseBoolean, parseInt } from '../../utils/index.js';\r\nimport { DataPickerService } from '../../api/sdk.gen.js';\r\nimport { customElement, html, property, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { tryExecute } from '@umbraco-cms/backoffice/resources';\r\nimport { umbHttpClient } from '@umbraco-cms/backoffice/http-client';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbPropertyEditorConfigCollection } from '@umbraco-cms/backoffice/property-editor';\r\nimport { CONTENTMENT_DATA_PICKER_MODAL } from './data-picker-modal.element.js';\r\nimport {\r\n\tUMB_PROPERTY_TYPE_BASED_PROPERTY_CONTEXT,\r\n\tUMB_CONTENT_WORKSPACE_CONTEXT,\r\n} from '@umbraco-cms/backoffice/content';\r\nimport { UMB_MODAL_MANAGER_CONTEXT, umbConfirmModal } from '@umbraco-cms/backoffice/modal';\r\nimport { UMB_PROPERTY_CONTEXT } from '@umbraco-cms/backoffice/property';\r\nimport type { ContentmentConfigurationEditorValue, ContentmentDataListEditor, ContentmentListItem } from '../types.js';\r\nimport type { UmbPropertyEditorUiElement } from '@umbraco-cms/backoffice/property-editor';\r\nimport type { UUIModalSidebarSize } from '@umbraco-cms/backoffice/external/uui';\r\n\r\nimport '../../extensions/display-mode/display-mode-ui.element.js';\r\n\r\n@customElement('contentment-property-editor-ui-data-picker')\r\nexport class ContentmentPropertyEditorUIDataPickerElement extends UmbLitElement implements UmbPropertyEditorUiElement {\r\n\t#allowDuplicates = false;\r\n\r\n\t#config?: UmbPropertyEditorConfigCollection;\r\n\r\n\t#confirmRemoval = false;\r\n\r\n\t#defaultIcon?: string;\r\n\r\n\t#disableSorting = false;\r\n\r\n\t#hideSearch = true;\r\n\r\n\t#listEditor?: ContentmentDataListEditor;\r\n\r\n\t#maxItems = Infinity;\r\n\r\n\t#overlaySize: UUIModalSidebarSize = 'small';\r\n\r\n\t#pageSize = 12;\r\n\r\n\t@state()\r\n\tprivate _dataSource?: ContentmentConfigurationEditorValue;\r\n\r\n\t@state()\r\n\tprivate _dataTypeKey?: string;\r\n\r\n\t@state()\r\n\tprivate _displayMode?: ContentmentConfigurationEditorValue;\r\n\r\n\t@state()\r\n\tprivate _entityUnique?: string | null;\r\n\r\n\t@state()\r\n\tprivate _initialized = false;\r\n\r\n\t@state()\r\n\tprivate _items?: Array<ContentmentListItem>;\r\n\r\n\t@state()\r\n\tprivate _propertyAlias?: string;\r\n\r\n\t@state()\r\n\tprivate _variantId?: string;\r\n\r\n\t@property({ type: Array })\r\n\tpublic set value(value: Array<string> | string | undefined) {\r\n\t\tthis.#value = Array.isArray(value) ? value : value ? [value] : [];\r\n\t}\r\n\tpublic get value(): Array<string> | undefined {\r\n\t\treturn this.#value;\r\n\t}\r\n\t#value?: Array<string> = [];\r\n\r\n\tpublic set config(config: UmbPropertyEditorUiElement['config']) {\r\n\t\tif (!config) return;\r\n\r\n\t\tthis.#config = config;\r\n\r\n\t\tthis._dataSource = config.getValueByAlias<Array<ContentmentConfigurationEditorValue>>('dataSource')?.[0];\r\n\t\tthis._displayMode = config.getValueByAlias<Array<ContentmentConfigurationEditorValue>>('displayMode')?.[0];\r\n\r\n\t\tthis.#allowDuplicates = parseBoolean(config.getValueByAlias('allowDuplicates') ?? true);\r\n\t\tthis.#defaultIcon = config.getValueByAlias<string>('defaultIcon');\r\n\t\tthis.#hideSearch = parseBoolean(config.getValueByAlias('hideSearch') ?? false);\r\n\t\tthis.#maxItems = parseInt(config.getValueByAlias('maxItems')) || Infinity;\r\n\t\tthis.#overlaySize = config.getValueByAlias<UUIModalSidebarSize>('overlaySize') ?? 'medium';\r\n\t\tthis.#pageSize = parseInt(config.getValueByAlias('pageSize')) || 12;\r\n\t}\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_CONTENT_WORKSPACE_CONTEXT, (contentWorkspaceContext) => {\r\n\t\t\tthis.observe(contentWorkspaceContext?.unique, (unique) => (this._entityUnique = unique));\r\n\t\t}).passContextAliasMatches();\r\n\r\n\t\tthis.consumeContext(UMB_PROPERTY_TYPE_BASED_PROPERTY_CONTEXT, (context) => {\r\n\t\t\tthis.observe(context?.dataType, (dataType) => (this._dataTypeKey = dataType?.unique));\r\n\t\t});\r\n\r\n\t\tthis.consumeContext(UMB_PROPERTY_CONTEXT, (propertyContext) => {\r\n\t\t\tthis.observe(propertyContext?.alias, (alias) => (this._propertyAlias = alias));\r\n\t\t\tthis.observe(propertyContext?.variantId, (variantId) => (this._variantId = variantId?.toString() || 'invariant'));\r\n\t\t});\r\n\t}\r\n\r\n\toverride async firstUpdated() {\r\n\t\tawait Promise.all([await this.#init().catch(() => undefined)]);\r\n\t\tthis._initialized = true;\r\n\t}\r\n\r\n\tasync #init() {\r\n\t\tthis.#listEditor = await new Promise<ContentmentDataListEditor>(async (resolve, reject) => {\r\n\t\t\tif (!this._entityUnique || !this._dataTypeKey || !this._dataSource || !this._displayMode) return reject();\r\n\r\n\t\t\tconst body = {\r\n\t\t\t\talias: this._propertyAlias,\r\n\t\t\t\tdataTypeKey: this._dataTypeKey,\r\n\t\t\t\tdataSource: this._dataSource,\r\n\t\t\t\tdisplayMode: this._displayMode,\r\n\t\t\t\tid: this._entityUnique,\r\n\t\t\t\tvalues: this.value,\r\n\t\t\t\tvariant: this._variantId,\r\n\t\t\t};\r\n\r\n\t\t\tconst { data } = await tryExecute(this, DataPickerService.postDataPickerEditor({ client: umbHttpClient, body }));\r\n\r\n\t\t\tif (!data) return reject();\r\n\r\n\t\t\tconst listEditor = {\r\n\t\t\t\tpropertyEditorUiAlias: data.propertyEditorUiAlias,\r\n\t\t\t\tconfig: new UmbPropertyEditorConfigCollection([...(data.config ?? []), ...(this.#config ?? [])]),\r\n\t\t\t};\r\n\r\n\t\t\tconst items = listEditor.config.getValueByAlias<Array<ContentmentListItem>>('items') ?? [];\r\n\t\t\tthis._items = items;\r\n\r\n\t\t\tthis.#disableSorting =\r\n\t\t\t\tthis.#maxItems === 1 ? true : parseBoolean(listEditor.config.getValueByAlias('disableSorting'));\r\n\r\n\t\t\tthis.#confirmRemoval = parseBoolean(listEditor.config.getValueByAlias('confirmRemoval'));\r\n\r\n\t\t\tresolve(listEditor);\r\n\t\t});\r\n\t}\r\n\r\n\tasync #onAdd(event: CustomEvent<{ listType: string }>) {\r\n\t\tconst modalManager = await this.getContext(UMB_MODAL_MANAGER_CONTEXT);\r\n\t\tif (!modalManager) return;\r\n\r\n\t\tconst modal = modalManager.open(this, CONTENTMENT_DATA_PICKER_MODAL, {\r\n\t\t\tdata: {\r\n\t\t\t\tallowDuplicates: this.#allowDuplicates,\r\n\t\t\t\tdefaultIcon: this.#defaultIcon,\r\n\t\t\t\tenableMultiple: this.#maxItems !== 1,\r\n\t\t\t\thideSearch: this.#hideSearch,\r\n\t\t\t\tlistType: event.detail.listType ?? 'list',\r\n\t\t\t\tmaxItems: this.#maxItems === 0 ? this.#maxItems : this.#maxItems - (this.value?.length ?? 0),\r\n\t\t\t\tpageSize: this.#pageSize,\r\n\t\t\t\tvalue: this.value ?? [],\r\n\t\t\t},\r\n\t\t\tmodal: { size: this.#overlaySize },\r\n\t\t});\r\n\r\n\t\tconst data = await modal.onSubmit().catch(() => undefined);\r\n\t\tif (!data) return;\r\n\r\n\t\tconst { selection } = data;\r\n\t\tif (!selection) return;\r\n\r\n\t\tconst index = this.value?.length ?? 0;\r\n\t\tif (index === -1) return;\r\n\r\n\t\tif (!this.value) {\r\n\t\t\tthis.value = [];\r\n\t\t}\r\n\r\n\t\tconst items = [...(this._items ?? [])];\r\n\t\titems.splice(index, 0, ...selection);\r\n\t\tthis._items = items;\r\n\r\n\t\tthis.value = this._items.map((x) => x.value);\r\n\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\tasync #onRemove(event: CustomEvent<{ item: ContentmentListItem; index: number }>) {\r\n\t\tif (!event.detail.item || !this._items || event.detail.index == -1) return;\r\n\r\n\t\tif (this.#confirmRemoval) {\r\n\t\t\tawait umbConfirmModal(this, {\r\n\t\t\t\tcolor: 'danger',\r\n\t\t\t\theadline: this.localize.term('contentment_removeItemHeadline', [event.detail.item.name]),\r\n\t\t\t\tcontent: this.localize.term('contentment_removeItemMessage'),\r\n\t\t\t\tconfirmLabel: this.localize.term('contentment_removeItemButton'),\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tconst items = [...this._items];\r\n\t\titems.splice(event.detail.index, 1);\r\n\t\tthis._items = items;\r\n\r\n\t\tthis.value = this._items.map((x) => x.value);\r\n\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\t#onSort(event: CustomEvent<{ newIndex: number; oldIndex: number }>) {\r\n\t\tconst items = [...(this._items ?? [])];\r\n\t\titems.splice(event.detail.newIndex, 0, items.splice(event.detail.oldIndex, 1)[0]);\r\n\t\tthis._items = items;\r\n\r\n\t\tthis.value = this._items.map((x) => x.value);\r\n\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tif (!this._initialized || !this.#listEditor) return html`<uui-loader></uui-loader>`;\r\n\t\tif (!this.#listEditor.propertyEditorUiAlias) return html`<lee-was-here></lee-was-here>`;\r\n\t\treturn html`\r\n\t\t\t<contentment-display-mode-ui\r\n\t\t\t\t?allowAdd=${this.value && this.value.length < this.#maxItems}\r\n\t\t\t\t?allowRemove=${true}\r\n\t\t\t\t?allowSort=${!this.#disableSorting}\r\n\t\t\t\t.config=${this.#listEditor.config}\r\n\t\t\t\t.items=${this._items}\r\n\t\t\t\t.uiAlias=${this.#listEditor.propertyEditorUiAlias}\r\n\t\t\t\t@add=${this.#onAdd}\r\n\t\t\t\t@remove=${this.#onRemove}\r\n\t\t\t\t@sort=${this.#onSort}>\r\n\t\t\t</contentment-display-mode-ui>\r\n\t\t`;\r\n\t}\r\n}\r\n\r\nexport { ContentmentPropertyEditorUIDataPickerElement as element };\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'contentment-property-editor-ui-data-picker': ContentmentPropertyEditorUIDataPickerElement;\r\n\t}\r\n}\r\n"],"names":["_allowDuplicates","_config","_confirmRemoval","_defaultIcon","_disableSorting","_hideSearch","_listEditor","_maxItems","_overlaySize","_pageSize","_value","_ContentmentPropertyEditorUIDataPickerElement_instances","init_fn","onAdd_fn","onRemove_fn","onSort_fn","ContentmentPropertyEditorUIDataPickerElement","UmbLitElement","__privateAdd","UMB_CONTENT_WORKSPACE_CONTEXT","contentWorkspaceContext","unique","UMB_PROPERTY_TYPE_BASED_PROPERTY_CONTEXT","context","dataType","UMB_PROPERTY_CONTEXT","propertyContext","alias","variantId","value","__privateSet","__privateGet","config","_a","_b","parseBoolean","parseInt","__privateMethod","html","resolve","reject","body","data","tryExecute","DataPickerService","umbHttpClient","listEditor","UmbPropertyEditorConfigCollection","items","event","modalManager","UMB_MODAL_MANAGER_CONTEXT","CONTENTMENT_DATA_PICKER_MODAL","selection","index","x","UmbChangeEvent","umbConfirmModal","__decorateClass","state","property","customElement"],"mappings":"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"}