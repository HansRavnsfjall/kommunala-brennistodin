{"version":3,"file":"display-mode-base.element.js","sources":["../../../../Umbraco.Community.Contentment.Client/src/extensions/display-mode/display-mode.context-token.ts","../../../../Umbraco.Community.Contentment.Client/src/extensions/display-mode/display-mode-base.element.ts"],"sourcesContent":["// SPDX-License-Identifier: MPL-2.0\r\n// Copyright © 2025 Lee Kelleher\r\n\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\nimport type { ContentmentDisplayModeContext } from './display-mode.context.js';\r\n\r\nexport const CONTENTMENT_DISPLAY_MODE_CONTEXT = new UmbContextToken<ContentmentDisplayModeContext>(\r\n\t'ContentmentDisplayModeContext'\r\n);\r\n","// SPDX-License-Identifier: MPL-2.0\r\n// Copyright © 2025 Lee Kelleher\r\n\r\nimport { state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { CONTENTMENT_DISPLAY_MODE_CONTEXT } from './display-mode.context-token.js';\r\nimport type { ContentmentListItem } from '../../property-editor-ui/types.js';\r\n\r\nexport abstract class ContentmentDisplayModeElement extends UmbLitElement {\r\n\t#context?: typeof CONTENTMENT_DISPLAY_MODE_CONTEXT.TYPE;\r\n\r\n\taddButtonLabelKey: string = 'general_add';\r\n\r\n\t@state()\r\n\tprotected allowAdd = false;\r\n\r\n\t@state()\r\n\tprotected allowEdit = false;\r\n\r\n\t@state()\r\n\tprotected allowRemove = false;\r\n\r\n\t@state()\r\n\tprotected allowSort = false;\r\n\r\n\t@state()\r\n\tprotected items?: Array<ContentmentListItem> = [];\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(CONTENTMENT_DISPLAY_MODE_CONTEXT, (context) => {\r\n\t\t\tthis.#context = context;\r\n\r\n\t\t\tthis.observe(context?.allowAdd, (allowAdd) => (this.allowAdd = allowAdd ?? false));\r\n\t\t\tthis.observe(context?.allowEdit, (allowEdit) => (this.allowEdit = allowEdit ?? false));\r\n\t\t\tthis.observe(context?.allowRemove, (allowRemove) => (this.allowRemove = allowRemove ?? false));\r\n\t\t\tthis.observe(context?.allowSort, (allowSort) => (this.allowSort = allowSort ?? false));\r\n\t\t\tthis.observe(context?.items, (items) => (this.items = items));\r\n\t\t});\r\n\t}\r\n\r\n\treadonly canEdit = (item: ContentmentListItem, index: number): boolean =>\r\n\t\tthis.#context?.canEdit(item, index) ?? this.allowEdit;\r\n\r\n\tgetConfigByAlias<T>(alias: string): T | undefined {\r\n\t\treturn this.#context?.getConfigByAlias<T>(alias);\r\n\t}\r\n\r\n\treadonly getItems = () => this.#context?.getItems();\r\n}\r\n"],"names":["CONTENTMENT_DISPLAY_MODE_CONTEXT","UmbContextToken","ContentmentDisplayModeElement","UmbLitElement","__privateAdd","_context","item","index","_a","__privateGet","context","__privateSet","allowAdd","allowEdit","allowRemove","allowSort","items","alias","__decorateClass","state"],"mappings":";;;;;;;;AAMO,MAAMA,IAAmC,IAAIC;AAAA,EACnD;AACD;;;;;;ACAO,MAAeC,UAAsCC,EAAc;AAAA,EAoBzE,cAAc;AACP,UAAA;AApBP,IAAAC,EAAA,MAAAC;AAE4B,SAAA,oBAAA,eAG5B,KAAU,WAAW,IAGrB,KAAU,YAAY,IAGtB,KAAU,cAAc,IAGxB,KAAU,YAAY,IAGtB,KAAU,QAAqC,CAAC,GAgBvC,KAAA,UAAU,CAACC,GAA2BC,MAC9C;;AAAA,eAAAC,IAAAC,EAAA,MAAKJ,OAAL,gBAAAG,EAAe,QAAQF,GAAMC,OAAU,KAAK;AAAA,OAM7C,KAAS,WAAW,MAAA;;AAAM,cAAAC,IAAAC,EAAA,MAAKJ,OAAL,gBAAAG,EAAe;AAAA,OAlBnC,KAAA,eAAeR,GAAkC,CAACU,MAAY;AAClE,MAAAC,EAAA,MAAKN,GAAWK,IAEX,KAAA,QAAQA,KAAA,gBAAAA,EAAS,UAAU,CAACE,MAAc,KAAK,WAAWA,KAAY,EAAM,GAC5E,KAAA,QAAQF,KAAA,gBAAAA,EAAS,WAAW,CAACG,MAAe,KAAK,YAAYA,KAAa,EAAM,GAChF,KAAA,QAAQH,KAAA,gBAAAA,EAAS,aAAa,CAACI,MAAiB,KAAK,cAAcA,KAAe,EAAM,GACxF,KAAA,QAAQJ,KAAA,gBAAAA,EAAS,WAAW,CAACK,MAAe,KAAK,YAAYA,KAAa,EAAM,GACrF,KAAK,QAAQL,KAAA,gBAAAA,EAAS,OAAO,CAACM,MAAW,KAAK,QAAQA,CAAM;AAAA,IAAA,CAC5D;AAAA,EAAA;AAAA,EAMF,iBAAoBC,GAA8B;;AAC1C,YAAAT,IAAAC,EAAA,MAAKJ,OAAL,gBAAAG,EAAe,iBAAoBS;AAAA,EAAK;AAIjD;AAzCCZ,IAAA;AAKUa,EAAA;AAAA,EADTC,EAAM;AAAA,GALcjB,EAMX,WAAA,UAAA;AAGAgB,EAAA;AAAA,EADTC,EAAM;AAAA,GARcjB,EASX,WAAA,WAAA;AAGAgB,EAAA;AAAA,EADTC,EAAM;AAAA,GAXcjB,EAYX,WAAA,aAAA;AAGAgB,EAAA;AAAA,EADTC,EAAM;AAAA,GAdcjB,EAeX,WAAA,WAAA;AAGAgB,EAAA;AAAA,EADTC,EAAM;AAAA,GAjBcjB,EAkBX,WAAA,OAAA;"}