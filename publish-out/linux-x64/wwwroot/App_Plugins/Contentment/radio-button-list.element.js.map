{"version":3,"file":"radio-button-list.element.js","sources":["../../../../Umbraco.Community.Contentment.Client/src/property-editor-ui/radio-button-list/radio-button-list.element.ts"],"sourcesContent":["// SPDX-License-Identifier: MPL-2.0\r\n// Copyright Â© 2024 Lee Kelleher\r\n\r\nimport {\r\n\tcss,\r\n\tcustomElement,\r\n\thtml,\r\n\tproperty,\r\n\trepeat,\r\n\tstate,\r\n\tunsafeHTML,\r\n\twhen,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { parseBoolean } from '../../utils/parse-boolean.function.js';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\nimport { UmbFormControlMixin, UMB_VALIDATION_EMPTY_LOCALIZATION_KEY } from '@umbraco-cms/backoffice/validation';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport type { ContentmentListItem } from '../types.js';\r\nimport type { UmbPropertyEditorUiElement } from '@umbraco-cms/backoffice/property-editor';\r\nimport type { UUIRadioEvent } from '@umbraco-cms/backoffice/external/uui';\r\n\r\n@customElement('contentment-property-editor-ui-radio-button-list')\r\nexport class ContentmentPropertyEditorUIRadioButtonListElement\r\n\textends UmbFormControlMixin<string | undefined, typeof UmbLitElement, undefined>(UmbLitElement)\r\n\timplements UmbPropertyEditorUiElement\r\n{\r\n\t@property({ type: Boolean })\r\n\tmandatory = false;\r\n\r\n\t@property({ type: String })\r\n\tmandatoryMessage = UMB_VALIDATION_EMPTY_LOCALIZATION_KEY;\r\n\r\n\t@property()\r\n\tpublic override set value(value: string | undefined) {\r\n\t\tsuper.value = Array.isArray(value) === true ? value[0] : value ?? '';\r\n\t}\r\n\tpublic override get value(): string | undefined {\r\n\t\treturn super.value;\r\n\t}\r\n\r\n\t@property({ type: Boolean, reflect: true })\r\n\treadonly = false;\r\n\r\n\tpublic set config(config: UmbPropertyEditorUiElement['config']) {\r\n\t\tif (!config) return;\r\n\t\tthis._defaultValue = config.getValueByAlias<string>('defaultValue') ?? '';\r\n\t\tthis._items = config.getValueByAlias<Array<ContentmentListItem>>('items') ?? [];\r\n\t\tthis._showDescriptions = parseBoolean(config.getValueByAlias('showDescriptions'));\r\n\t\tthis._showIcons = parseBoolean(config.getValueByAlias('showIcons'));\r\n\r\n\t\tthis._flexDirection = config.getValueByAlias('orientation') === 'horizontal' ? 'row' : 'column';\r\n\t}\r\n\r\n\t@state()\r\n\tprivate _defaultValue = '';\r\n\r\n\t@state()\r\n\tprivate _flexDirection: 'row' | 'column' = 'column';\r\n\r\n\t@state()\r\n\tprivate _items: Array<ContentmentListItem> = [];\r\n\r\n\t@state()\r\n\tprivate _showDescriptions = false;\r\n\r\n\t@state()\r\n\tprivate _showIcons = false;\r\n\r\n\t#onChange(event: UUIRadioEvent) {\r\n\t\tif (event.target.nodeName !== 'UUI-RADIO') return;\r\n\t\tthis.value = event.target.value;\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.addValidator(\r\n\t\t\t'valueMissing',\r\n\t\t\t() => this.mandatoryMessage ?? UMB_VALIDATION_EMPTY_LOCALIZATION_KEY,\r\n\t\t\t() => !this.readonly && !!this.mandatory && (this.value === undefined || this.value === null || this.value === '')\r\n\t\t);\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tif (!this._items?.length) {\r\n\t\t\treturn html`\r\n\t\t\t\t<contentment-info-box\r\n\t\t\t\t\tcompact\r\n\t\t\t\t\ttype=\"warning\"\r\n\t\t\t\t\ticon=\"icon-alert\"\r\n\t\t\t\t\theading=\"There are no items to display\"></contentment-info-box>\r\n\t\t\t`;\r\n\t\t}\r\n\r\n\t\treturn html`\r\n\t\t\t<uui-radio-group\r\n\t\t\t\tclass=${this._flexDirection}\r\n\t\t\t\t.requiredMessage=${this.mandatoryMessage}\r\n\t\t\t\t.value=${this.value || this._defaultValue}\r\n\t\t\t\t?required=${this.mandatory}\r\n\t\t\t\t?readonly=${this.readonly}\r\n\t\t\t\t@change=${this.#onChange}>\r\n\t\t\t\t${repeat(\r\n\t\t\t\t\tthis._items,\r\n\t\t\t\t\t(item) => item.value,\r\n\t\t\t\t\t(item) => this.#renderItem(item)\r\n\t\t\t\t)}\r\n\t\t\t</uui-radio-group>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderItem(item: ContentmentListItem) {\r\n\t\treturn html`\r\n\t\t\t<uui-radio value=${item.value} ?disabled=${item.disabled}>\r\n\t\t\t\t<div class=\"outer\">\r\n\t\t\t\t\t${when(this._showIcons && item.icon, (_icon) => html`<umb-icon name=${_icon}></umb-icon>`)}\r\n\t\t\t\t\t<uui-form-layout-item>\r\n\t\t\t\t\t\t<span slot=\"label\">${this.localize.string(item.name)}</span>\r\n\t\t\t\t\t\t${when(\r\n\t\t\t\t\t\t\tthis._showDescriptions && item.description,\r\n\t\t\t\t\t\t\t() => html`<span slot=\"description\">${unsafeHTML(item.description)}</span>`\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</uui-form-layout-item>\r\n\t\t\t\t</div>\r\n\t\t\t</uui-radio>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\t.row {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\tgap: 1rem;\r\n\t\t\t}\r\n\r\n\t\t\t.outer {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\tgap: 0.5rem;\r\n\t\t\t}\r\n\r\n\t\t\tuui-form-layout-item {\r\n\t\t\t\tmargin-top: 10px;\r\n\t\t\t\tmargin-bottom: 0;\r\n\t\t\t}\r\n\r\n\t\t\tumb-icon {\r\n\t\t\t\tfont-size: 1.2rem;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport { ContentmentPropertyEditorUIRadioButtonListElement as element };\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'contentment-property-editor-ui-radio-button-list': ContentmentPropertyEditorUIRadioButtonListElement;\r\n\t}\r\n}\r\n"],"names":["_ContentmentPropertyEditorUIRadioButtonListElement_instances","onChange_fn","renderItem_fn","ContentmentPropertyEditorUIRadioButtonListElement","UmbFormControlMixin","UmbLitElement","__privateAdd","UMB_VALIDATION_EMPTY_LOCALIZATION_KEY","value","config","parseBoolean","_a","html","__privateMethod","repeat","item","event","UmbChangeEvent","when","_icon","unsafeHTML","css","__decorateClass","property","state","customElement"],"mappings":"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"}