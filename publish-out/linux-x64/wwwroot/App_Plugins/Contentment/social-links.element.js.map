{"version":3,"file":"social-links.element.js","sources":["../../../../Umbraco.Community.Contentment.Client/src/property-editor-ui/social-links/social-links.element.ts"],"sourcesContent":["// SPDX-License-Identifier: MPL-2.0\r\n// Copyright Â© 2024 Lee Kelleher\r\n\r\nimport { parseBoolean, parseInt } from '../../utils/index.js';\r\nimport {\r\n\tcss,\r\n\tcustomElement,\r\n\thtml,\r\n\tifDefined,\r\n\tnothing,\r\n\tproperty,\r\n\trepeat,\r\n\twhen,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\nimport { UmbLitElement, umbFocus } from '@umbraco-cms/backoffice/lit-element';\r\nimport { CONTENTMENT_SOCIAL_LINKS_SELECTION_MODAL } from './social-links-selection-modal.element.js';\r\nimport { UMB_MODAL_MANAGER_CONTEXT, umbConfirmModal } from '@umbraco-cms/backoffice/modal';\r\nimport type {\r\n\tContentmentConfigurationEditorValue,\r\n\tContentmentSocialLinkValue,\r\n\tContentmentSocialNetworkModel,\r\n} from '../types.js';\r\nimport type { UmbPropertyEditorUiElement } from '@umbraco-cms/backoffice/property-editor';\r\nimport type { UUIInputEvent } from '@umbraco-cms/backoffice/external/uui';\r\n\r\n@customElement('contentment-property-editor-ui-social-links')\r\nexport class ContentmentPropertyEditorUISocialLinksElement extends UmbLitElement implements UmbPropertyEditorUiElement {\r\n\t#confirmRemoval = false;\r\n\r\n\t#disableSorting = false;\r\n\r\n\t#lookup: Record<string, ContentmentSocialNetworkModel> = {};\r\n\r\n\t#maxItems = Infinity;\r\n\r\n\t#modalManager?: typeof UMB_MODAL_MANAGER_CONTEXT.TYPE;\r\n\r\n\t#networks?: Array<ContentmentSocialNetworkModel>;\r\n\r\n\t@property({ type: Array })\r\n\tpublic set value(value: Array<ContentmentSocialLinkValue> | undefined) {\r\n\t\tthis.#value = value ?? [];\r\n\t}\r\n\tpublic get value(): Array<ContentmentSocialLinkValue> | undefined {\r\n\t\treturn this.#value;\r\n\t}\r\n\t#value?: Array<ContentmentSocialLinkValue> | undefined;\r\n\r\n\tset config(config: UmbPropertyEditorUiElement['config']) {\r\n\t\tif (!config) return;\r\n\r\n\t\tthis.#confirmRemoval = parseBoolean(config.getValueByAlias('confirmRemoval'));\r\n\t\tthis.#maxItems = parseInt(config.getValueByAlias('maxItems')) || Infinity;\r\n\t\tthis.#disableSorting = this.#maxItems === 1 ? true : parseBoolean(config.getValueByAlias('disableSorting'));\r\n\r\n\t\tconst networks = config.getValueByAlias<Array<ContentmentConfigurationEditorValue>>('networks');\r\n\r\n\t\tif (networks) {\r\n\t\t\tthis.#networks = [];\r\n\t\t\tnetworks.forEach((network) => {\r\n\t\t\t\tconst model = network.value as ContentmentSocialNetworkModel;\r\n\t\t\t\tthis.#lookup[model.network] = model;\r\n\t\t\t\tthis.#networks?.push(model);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_MODAL_MANAGER_CONTEXT, (modalManager) => {\r\n\t\t\tthis.#modalManager = modalManager;\r\n\t\t});\r\n\t}\r\n\r\n\t#getNetworkByKey(key: string): ContentmentSocialNetworkModel | undefined {\r\n\t\treturn this.#lookup[key];\r\n\t}\r\n\r\n\tasync #onChoose() {\r\n\t\tconst value = await this.#openSelection();\r\n\t\tif (!value) return;\r\n\r\n\t\tconst values = this.value ? [...this.value] : [];\r\n\t\tvalues.push(value);\r\n\t\tthis.value = values;\r\n\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\t#onChangeName(event: UUIInputEvent, index: number) {\r\n\t\tconst name = event.target.value as string;\r\n\t\tthis.#updateValue({ name }, index);\r\n\t}\r\n\r\n\tasync #onChangeNetwork(index: number) {\r\n\t\tconst value = await this.#openSelection();\r\n\t\tif (!value) return;\r\n\r\n\t\tconst network = value.network;\r\n\t\tthis.#updateValue({ network }, index);\r\n\t}\r\n\r\n\t#onChangeUrl(event: UUIInputEvent, index: number) {\r\n\t\tconst url = event.target.value as string;\r\n\t\tthis.#updateValue({ url }, index);\r\n\t}\r\n\r\n\tasync #onRemove(item: ContentmentSocialLinkValue, index: number) {\r\n\t\tif (this.#confirmRemoval) {\r\n\t\t\tawait umbConfirmModal(this, {\r\n\t\t\t\tcolor: 'danger',\r\n\t\t\t\theadline: this.localize.term('contentment_removeItemHeadline', [item.name]),\r\n\t\t\t\tcontent: this.localize.term('contentment_removeItemMessage'),\r\n\t\t\t\tconfirmLabel: this.localize.term('contentment_removeItemButton'),\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tconst values = [...(this.value ?? [])];\r\n\t\tvalues.splice(index, 1);\r\n\t\tthis.value = values;\r\n\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\tasync #openSelection(): Promise<ContentmentSocialLinkValue | undefined> {\r\n\t\tif (!this.#modalManager) return;\r\n\r\n\t\tconst modal = this.#modalManager.open(this, CONTENTMENT_SOCIAL_LINKS_SELECTION_MODAL, {\r\n\t\t\tdata: { items: this.#networks ?? [] },\r\n\t\t});\r\n\r\n\t\treturn await modal.onSubmit().catch(() => undefined);\r\n\t}\r\n\r\n\t#onSortEnd(event: CustomEvent<{ newIndex: number; oldIndex: number }>) {\r\n\t\tconst items = [...(this.value ?? [])];\r\n\t\titems.splice(event.detail.newIndex, 0, items.splice(event.detail.oldIndex, 1)[0]);\r\n\t\tthis.value = items;\r\n\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\t#updateValue(partial: Partial<ContentmentSocialLinkValue>, index: number) {\r\n\t\tif (!partial || index === -1) return;\r\n\r\n\t\tif (!this.value) {\r\n\t\t\tthis.value = [];\r\n\t\t}\r\n\r\n\t\tconst values = [...this.value];\r\n\t\tconst target = values[index];\r\n\t\tvalues[index] = { ...target, ...partial };\r\n\t\tthis.value = values;\r\n\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`${this.#renderItems()}${this.#renderButton()}`;\r\n\t}\r\n\r\n\t#renderButton() {\r\n\t\tif (this.value && this.value.length >= this.#maxItems) return nothing;\r\n\t\treturn html`\r\n\t\t\t<uui-button\r\n\t\t\t\tid=\"btn-add\"\r\n\t\t\t\tlabel=${this.localize.term('contentment_addSocialLink')}\r\n\t\t\t\tlook=\"placeholder\"\r\n\t\t\t\t@click=${this.#onChoose}></uui-button>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderItems() {\r\n\t\tif (!this.value || this.value.length === 0) return nothing;\r\n\t\treturn html`\r\n\t\t\t<contentment-sortable-list\r\n\t\t\t\titem-selector=\".item\"\r\n\t\t\t\thandle-selector=\".handle\"\r\n\t\t\t\t?disabled=${this.#disableSorting}\r\n\t\t\t\t@sort-end=${this.#onSortEnd}>\r\n\t\t\t\t${repeat(\r\n\t\t\t\t\tthis.value,\r\n\t\t\t\t\t(item) => item.network + item.name + item.url,\r\n\t\t\t\t\t(item, index) => this.#renderItem(item, index)\r\n\t\t\t\t)}\r\n\t\t\t</contentment-sortable-list>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderItem(item: ContentmentSocialLinkValue, index: number) {\r\n\t\tconst network = this.#getNetworkByKey(item.network);\r\n\t\treturn html`\r\n\t\t\t<div class=\"item\">\r\n\t\t\t\t${when(!this.#disableSorting, () => html`<div class=\"handle\"><uui-icon name=\"icon-grip\"></uui-icon></div>`)}\r\n\t\t\t\t${when(\r\n\t\t\t\t\t!network,\r\n\t\t\t\t\t() => html`\r\n\t\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\t\tlook=\"placeholder\"\r\n\t\t\t\t\t\t\tlabel=${this.localize.term('contentment_selectSocialNetwork')}\r\n\t\t\t\t\t\t\t@click=${() => this.#onChangeNetwork(index)}>\r\n\t\t\t\t\t\t\t<uui-icon name=\"add\"></uui-icon>\r\n\t\t\t\t\t\t</uui-button>\r\n\t\t\t\t\t`,\r\n\t\t\t\t\t() => html`\r\n\t\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\t\tlook=\"default\"\r\n\t\t\t\t\t\t\tlabel=${this.localize.term('contentment_selectSocialNetwork')}\r\n\t\t\t\t\t\t\tstyle=\"--uui-button-background-color: ${network!.backgroundColor};\"\r\n\t\t\t\t\t\t\t@click=${() => this.#onChangeNetwork(index)}>\r\n\t\t\t\t\t\t\t<uui-icon name=${network!.icon} style=\"--uui-icon-color: ${network!.iconColor};\"></uui-icon>\r\n\t\t\t\t\t\t</uui-button>\r\n\t\t\t\t\t`\r\n\t\t\t\t)}\r\n\t\t\t\t<div class=\"inputs\">\r\n\t\t\t\t\t<uui-input\r\n\t\t\t\t\t\tlabel=\"Enter a social network name\"\r\n\t\t\t\t\t\tvalue=${ifDefined(item.name)}\r\n\t\t\t\t\t\tplaceholder=${this.localize.term('placeholders_entername')}\r\n\t\t\t\t\t\t${umbFocus()}\r\n\t\t\t\t\t\t@change=${(e: UUIInputEvent) => this.#onChangeName(e, index)}></uui-input>\r\n\t\t\t\t\t<uui-input\r\n\t\t\t\t\t\tlabel=\"Enter a social network URL\"\r\n\t\t\t\t\t\tvalue=${ifDefined(item.url)}\r\n\t\t\t\t\t\tplaceholder=\"Enter a URL...\"\r\n\t\t\t\t\t\t@change=${(e: UUIInputEvent) => this.#onChangeUrl(e, index)}></uui-input>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"actions\">\r\n\t\t\t\t\t<uui-button label=${this.localize.term('general_remove')} @click=${() => this.#onRemove(item, index)}>\r\n\t\t\t\t\t\t<uui-icon name=\"delete\"></uui-icon>\r\n\t\t\t\t\t</uui-button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\t#btn-add {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t}\r\n\r\n\t\t\tcontentment-sortable-list {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tgap: 1px;\r\n\t\t\t\tmargin-bottom: var(--uui-size-1);\r\n\t\t\t}\r\n\r\n\t\t\t.item {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-6);\r\n\r\n\t\t\t\tpadding: var(--uui-size-3) var(--uui-size-6);\r\n\t\t\t\tbackground-color: var(--uui-color-surface-alt);\r\n\r\n\t\t\t\t&[drag-placeholder] {\r\n\t\t\t\t\topacity: 0.5;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t> .handle {\r\n\t\t\t\t\tcursor: grab;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t> uui-button {\r\n\t\t\t\t\t--uui-button-background-color-hover: var(--uui-button-background-color);\r\n\r\n\t\t\t\t\tflex: 0 0 var(--uui-size-10);\r\n\r\n\t\t\t\t\tfont-size: var(--uui-size-layout-2);\r\n\t\t\t\t\theight: var(--uui-size-layout-4);\r\n\t\t\t\t\twidth: var(--uui-size-layout-4);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t> .inputs {\r\n\t\t\t\t\tflex: 1;\r\n\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\tgap: var(--uui-size-1);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t> .actions {\r\n\t\t\t\t\tflex: 0 0 auto;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: flex-end;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport { ContentmentPropertyEditorUISocialLinksElement as element };\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'contentment-property-editor-ui-social-links': ContentmentPropertyEditorUISocialLinksElement;\r\n\t}\r\n}\r\n"],"names":["_confirmRemoval","_disableSorting","_lookup","_maxItems","_modalManager","_networks","_value","_ContentmentPropertyEditorUISocialLinksElement_instances","getNetworkByKey_fn","onChoose_fn","onChangeName_fn","onChangeNetwork_fn","onChangeUrl_fn","onRemove_fn","openSelection_fn","onSortEnd_fn","updateValue_fn","renderButton_fn","renderItems_fn","renderItem_fn","ContentmentPropertyEditorUISocialLinksElement","UmbLitElement","__privateAdd","UMB_MODAL_MANAGER_CONTEXT","modalManager","__privateSet","value","__privateGet","config","parseBoolean","parseInt","networks","network","model","_a","html","__privateMethod","key","values","UmbChangeEvent","event","index","name","url","item","umbConfirmModal","CONTENTMENT_SOCIAL_LINKS_SELECTION_MODAL","items","partial","target","nothing","repeat","when","ifDefined","umbFocus","e","css","__decorateClass","property","customElement"],"mappings":"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"}