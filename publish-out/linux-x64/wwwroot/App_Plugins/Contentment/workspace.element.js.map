{"version":3,"file":"workspace.element.js","sources":["../../../../Umbraco.Community.Contentment.Client/src/workspace/workspace.element.ts"],"sourcesContent":["// SPDX-License-Identifier: MPL-2.0\r\n// Copyright ¬© 2024 Lee Kelleher\r\n\r\nimport { css, customElement, html, state, unsafeHTML, when } from '@umbraco-cms/backoffice/external/lit';\r\nimport { DOMPurify } from '@umbraco-cms/backoffice/external/dompurify';\r\nimport { Marked } from '@umbraco-cms/backoffice/external/marked';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\n\r\nconst UmbMarked = new Marked({ gfm: true, breaks: true });\r\n\r\n@customElement('contentment-workspace')\r\nexport class ContentmentWorkspaceElement extends UmbLitElement {\r\n\t#emojis: { [key: string]: string } = {\r\n\t\t':no_entry_sign:': 'üö´',\r\n\t\t':confounded:': 'üòñ',\r\n\t\t':octocat:': 'üö•',\r\n\t\t':green_circle:': 'üü¢',\r\n\t\t':large_blue_circle:': 'üîµ',\r\n\t\t':warning:': '‚ö†Ô∏è',\r\n\t};\r\n\r\n\t#gfm = `\r\n### Property editors\r\n\r\n| :octocat:           | Editor              | Status        | Comment |\r\n| ------------------- | ------------------- | ------------- | ------- |\r\n| :green_circle:      | **Bytes**           | **Done**      | |\r\n| :green_circle:      | **Code Editor**     | **Done**      | |\r\n| :confounded:        | Content Blocks      | _Frustrated_  | :confounded: Burnt many hours on this, with little progress. :confounded: |\r\n| :green_circle:      | **Data List**       | **Done**      | |\r\n| :green_circle:      | **Data Picker**     | **Done**      | |\r\n| :green_circle:      | **Editor Notes**    | **Done**      | |\r\n| :green_circle:      | **Icon Picker**     | **Done**      | |\r\n| :green_circle:      | **List Items**      | **Done**      | |\r\n| :green_circle:      | **Notes**           | **Done**      | |\r\n| :green_circle:      | **Number Input**    | **Done**      | |\r\n| :no_entry_sign:     | ~Render Macro~      | _Deprecated_  | :no_entry_sign: Macros have been deprecated in Umbraco.<br>:warning: Replaced the editor with a deprecation notice. |\r\n| :green_circle:      | **Social Links**    | **Done**      | |\r\n| :green_circle:      | **Templated Label** | **Done**      | Reworked to use [Liquid template language](https://shopify.github.io/liquid/). |\r\n| :green_circle:      | **Textbox List**    | **Done**      | |\r\n| :green_circle:      | **Text Input**      | **Done**      | :warning: [Unfortunately \\`uui-input\\` doesn't support \\`datalist\\` yet](https://github.com/umbraco/Umbraco.UI/issues/999). |\r\n\r\n### Internal components\r\n\r\nStatus of components used internally within Contentment.\r\n\r\n| :octocat:       | Editor          | Status      | Comment |\r\n| --------------- | --------------- | ----------- | ------- |\r\n| :green_circle:  | **Cascading Dropdown List** | **Done** | |\r\n| :green_circle:  | **Configuration Editor** | **Done** | |\r\n| :green_circle:  | **Content Picker** | **Done** | |\r\n| :no_entry_sign: | ~Data Table~ | _Removed_ | :no_entry_sign: No longer used internally. |\r\n| :green_circle:  | **Dictionary Picker** | **Done** | |\r\n| :no_entry_sign: | ~Macro Picker~ | _Removed_ | :no_entry_sign: Macros have been removed in Umbraco 14. |\r\n| :no_entry_sign: | ~Read Only~ | _Removed_ | :no_entry_sign: Not required, as was only used in the Content Block configuration. |\r\n| :no_entry_sign: | ~Rich Text Editor~ | _Removed_ | :no_entry_sign: Not required, reuses Umbraco's RTE component. |\r\n\r\n### Data List editors\r\n\r\nStatus of list-editors used by the Data List editor.\r\n\r\n| :octocat:           | Editor                | Status    | Comment |\r\n| ------------------- | --------------------- | --------- | ------- |\r\n| :green_circle:      | **Buttons**           | **Done**  | |\r\n| :green_circle:      | **Checkbox List**     | **Done**  | |\r\n| :green_circle:      | **Dropdown List**     | **Done**  | |\r\n| :green_circle:      | **Item Picker**       | **Done**  | :warning: Done, but sorting and \"List type\" config hasn't been implemented yet. |\r\n| :green_circle:      | **Radio Button List** | **Done**  | |\r\n| :large_blue_circle: | Tags | _In progress_  | 42% done. | |\r\n| :green_circle:      | **Templated List**    | **Done**  | |\r\n\r\n### Data List sources\r\n\r\nStatus of data-sources used by the Data List editor.\r\nThe majority of this work is reliant on the internal **Configuration Editor** UI.\r\n\r\n| :octocat:       | Editor          | Status      | Comment |\r\n| --------------- | --------------- | ----------- | ------- |\r\n| :green_circle:  | **.NET Countries** | **Done** | |\r\n| :green_circle:  | **.NET Currencies** | **Done** | |\r\n| :green_circle:  | **.NET Enum** | **Done** | |\r\n| :green_circle:  | **.NET Languages** | **Done** | |\r\n| :green_circle:  | **.NET Time Zone** | **Done** | |\r\n| :green_circle:  | **Examine** | **Done** | |\r\n| :green_circle:  | **JSON** | **Done** | |\r\n| :green_circle:  | **Number Range** | **Done** | |\r\n| :green_circle:  | **Physical File System** | **Done** | |\r\n| :green_circle:  | **SQL** | **Done** | |\r\n| :green_circle:  | **Text Delimited** | **Done** | |\r\n| :green_circle:  | **uCssClassName** | **Done** | |\r\n| :green_circle:  | **Umbraco Backoffice Sections** | **Done** | |\r\n| :green_circle:  | **Umbraco Content** | **Done** | |\r\n| :green_circle:  | **Umbraco Content Properties** | **Done** | |\r\n| :green_circle:  | **Umbraco Content Property Value** | **Done**  | |\r\n| :green_circle:  | **Umbraco Content Types** | **Done** | |\r\n| :no_entry_sign: | ~Umbraco Content XPath~ | _Deprecated_ | :no_entry_sign: XPath has been removed in Umbraco 14. |\r\n| :green_circle:  | **Umbraco Dictionary** | **Done** | |\r\n| :green_circle:  | **Umbraco Entity** | **Done** | |\r\n| :green_circle:  | **Umbraco Files** | **Done** | |\r\n| :green_circle:  | **Umbraco Image Crop** | **Done** | |\r\n| :green_circle:  | **Umbraco Languages** | **Done** |  |\r\n| :green_circle:  | **Umbraco Member Group** | **Done** | |\r\n| :green_circle:  | **Umbraco Members** | **Done** | |\r\n| :green_circle:  | **Umbraco Tags** | **Done** | |\r\n| :green_circle:  | **Umbraco Templates** | **Done** | |\r\n| :green_circle:  | **Umbraco User Group** | **Done** | |\r\n| :green_circle:  | **Umbraco Users** | **Done** | |\r\n| :green_circle:  | **User Defined** | **Done** | |\r\n| :green_circle:  | **XML** | **Done** | |\r\n| :green_circle:  | **XML Sitemap Change Frequency** | **Done** | |\r\n| :green_circle:  | **XML Sitemap Priority** | **Done** | |\r\n`;\r\n\r\n\t@state()\r\n\tprivate _markup?: string;\r\n\r\n\toverride firstUpdated() {\r\n\t\tconst regex = new RegExp(Object.keys(this.#emojis).join('|'), 'gi');\r\n\t\tconst markdown = this.#gfm.replace(regex, (matched) => this.#emojis[matched]);\r\n\t\tconst markup = UmbMarked.parse(markdown) as string;\r\n\t\tthis._markup = DOMPurify.sanitize(markup);\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout headline=\"Migration status of Contentment for Umbraco 16\">\r\n\t\t\t\t<div slot=\"action-menu\"><uui-tag color=\"positive\" look=\"placeholder\">Alpha testing</uui-tag></div>\r\n\r\n\t\t\t\t<contentment-info-box\r\n\t\t\t\t\ttype=\"divider\"\r\n\t\t\t\t\ticon=\"icon-contentment\"\r\n\t\t\t\t\theading=\"Status update for Contentment v6.0.0-alpha009\">\r\n\t\t\t\t\t<p>Contentment v6.0 is in alpha. Your testing and feedback of the package is essential.</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tIf you find any bugs, or feel something is amiss, then please raise an issue on\r\n\t\t\t\t\t\t<a href=\"https://github.com/leekelleher/umbraco-contentment/issues\" target=\"_blank\" rel=\"noopener\"\r\n\t\t\t\t\t\t\t>the Contentment source-code repository on GitHub</a\r\n\t\t\t\t\t\t>.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>Please do keep in mind that I am a solo developer on this project, working on it in my own free time.</p>\r\n\t\t\t\t</contentment-info-box>\r\n\r\n\t\t\t\t${when(\r\n\t\t\t\t\tthis._markup,\r\n\t\t\t\t\t() => html`<uui-box><div class=\"gfm\">${unsafeHTML(this._markup)}</div></uui-box>`,\r\n\t\t\t\t\t() => html`<uui-loader></uui-loader>`\r\n\t\t\t\t)}\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\tdiv[slot='action-menu'] {\r\n\t\t\t\tmargin-right: var(--uui-size-layout-3);\r\n\t\t\t}\r\n\r\n\t\t\tcontentment-info-box {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tmargin-bottom: var(--uui-size-layout-1);\r\n\t\t\t}\r\n\r\n\t\t\t.gfm h3 {\r\n\t\t\t\tmargin: 1rem 0;\r\n\t\t\t\tfont-size: 1rem;\r\n\t\t\t}\r\n\r\n\t\t\t.gfm table {\r\n\t\t\t\tborder-collapse: collapse;\r\n\t\t\t\ttable-layout: fixed;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t.gfm table thead {\r\n\t\t\t\tbackground-color: var(--uui-color-border);\r\n\t\t\t}\r\n\r\n\t\t\t.gfm tbody tr:nth-child(even) {\r\n\t\t\t\tbackground-color: var(--uui-color-divider);\r\n\t\t\t}\r\n\r\n\t\t\t.gfm table thead th:nth-child(1) {\r\n\t\t\t\twidth: 2%;\r\n\t\t\t}\r\n\r\n\t\t\t.gfm table thead th:nth-child(2) {\r\n\t\t\t\twidth: 24%;\r\n\t\t\t}\r\n\r\n\t\t\t.gfm table thead th:nth-child(3) {\r\n\t\t\t\twidth: 24%;\r\n\t\t\t}\r\n\r\n\t\t\t.gfm table thead th:nth-child(4) {\r\n\t\t\t\twidth: 50%;\r\n\t\t\t}\r\n\r\n\t\t\t.gfm table th {\r\n\t\t\t\ttext-align: left;\r\n\t\t\t\tpadding: 10px;\r\n\t\t\t}\r\n\t\t\t.gfm table td {\r\n\t\t\t\tpadding: 10px;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport { ContentmentWorkspaceElement as element };\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'contentment-workspace': ContentmentWorkspaceElement;\r\n\t}\r\n}\r\n"],"names":["_emojis","_gfm","UmbMarked","Marked","ContentmentWorkspaceElement","UmbLitElement","__privateAdd","regex","__privateGet","markdown","matched","markup","DOMPurify","html","when","unsafeHTML","UmbTextStyles","css","__decorateClass","state","customElement"],"mappings":";;;;;;;;;;;uPAAAA,GAAAC;AASA,MAAMC,IAAY,IAAIC,EAAO,EAAE,KAAK,IAAM,QAAQ,IAAM;AAG3C,IAAAC,IAAN,cAA0CC,EAAc;AAAA,EAAxD,cAAA;AAAA,UAAA,GAAA,SAAA,GAC+BC,EAAA,MAAAN,GAAA;AAAA,MACpC,mBAAmB;AAAA,MACnB,gBAAgB;AAAA,MAChB,aAAa;AAAA,MACb,kBAAkB;AAAA,MAClB,uBAAuB;AAAA,MACvB,aAAa;AAAA,IAAA,CACd,GAEOM,EAAA,MAAAL,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAA;AAAA,EAAA;AAAA,EA+FE,eAAe;AACjB,UAAAM,IAAQ,IAAI,OAAO,OAAO,KAAKC,EAAK,MAAAR,CAAA,CAAO,EAAE,KAAK,GAAG,GAAG,IAAI,GAC5DS,IAAWD,EAAK,MAAAP,CAAA,EAAK,QAAQM,GAAO,CAACG,MAAYF,EAAA,MAAKR,CAAQ,EAAAU,CAAO,CAAC,GACtEC,IAAST,EAAU,MAAMO,CAAQ;AAClC,SAAA,UAAUG,EAAU,SAASD,CAAM;AAAA,EAAA;AAAA,EAGhC,SAAS;AACV,WAAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAkBHC;AAAA,MACD,KAAK;AAAA,MACL,MAAMD,8BAAiCE,EAAW,KAAK,OAAO,CAAC;AAAA,MAC/D,MAAMF;AAAA,IACN,CAAA;AAAA;AAAA;AAAA,EAAA;AA6DL;AAnMCb,IAAA,oBAAA,QAAA;AASAC,IAAA,oBAAA,QAAA;AAVYG,EA4II,SAAS;AAAA,EACxBY;AAAA,EACAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqDD;AA5FQC,EAAA;AAAA,EADPC,EAAM;AAAA,GAtGKf,EAuGJ,WAAA,WAAA,CAAA;AAvGIA,IAANc,EAAA;AAAA,EADNE,EAAc,uBAAuB;AAAA,GACzBhB,CAAA;"}