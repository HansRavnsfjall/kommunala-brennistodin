"use strict";var umbracoForms=umbracoForms||{};(function(I){var v=I.conditions||{},y=v.operators||{Is:function(e,t){return(e||"")===t},IsNot:function(e,t){return(e||"")!==t},GreaterThen:function(e,t){return parseInt(e)>parseInt(t)},LessThen:function(e,t){return parseInt(e)<parseInt(t)},StartsWith:function(e,t){return e&&e.indexOf(t)===0},EndsWith:function(e,t){return e&&e.indexOf(t)===e.length-t.length},Contains:function(e,t){return e&&e.indexOf(t)>-1}};I.conditions=v,I.conditions.operators=y,v.handle=function(e){var t,u,a=e.fsConditions||{},c=e.fieldConditions||{},T=e.values||{},F=e.dataTypes||{},b={};function g(n){var i=T[n.field],d=F[n.Field],r=y[n.operator],l=i!==null&&r(i,n.value,d);return l}function w(n){var i=!0;return c[n.field]&&(i=p(n.field,c[n.field])),i?g(n):!1}function R(n,i){var d=i.logicType==="Any",r=i.logicType==="All",l={},h=!1,o=!0,s,f;for(f=0;f<i.rules.length;f++){if(s=i.rules[f],n===s.field||n===s.fieldsetId)throw new Error("Field or fieldset "+n+" has a condition on itself.");l[s.fieldsetId]===void 0&&(a[s.fieldsetId]?(l[s.fieldsetId]=p(s.fieldsetId,a[s.fieldsetId]),l[s.fieldsetId]||(h=!0)):l[s.fieldsetId]=!0)}if(r&&h)return!1;for(f=0;f<i.rules.length&&(s=i.rules[f],l[s.fieldsetId]?o=w(i.rules[f]):o=!1,!(d&&o||r&&!o));f++);return o}function V(n,i){var d=i.actionType==="Show",r=b[n],l=r===void 0?b[n]=R(n,i):r,h=!(l^d);return h}function p(n,i){return i?V(n,i):!0}function C(n,i,d){var r=p(i,d);r?n.show():n.hide()}for(t in a)C($("#"+t),t,a[t],"Fieldset");for(u in c)C($("#"+u).closest(".contourField"),u,c[u],"Field")}})(umbracoForms);
