{"version":3,"file":"data-type-picker-property-editor.element.js","sources":["../../../../src/property-editor/data-type-picker/data-type-picker-property-editor.element.ts"],"sourcesContent":["import { PickerService } from \"../../generated/sdk.gen.js\";\nimport type { PickerItem } from \"../../generated/types.gen.js\";\nimport {\n  html,\n  customElement,\n  state,\n  property,\n} from \"@umbraco-cms/backoffice/external/lit\";\nimport type { UmbPropertyEditorUiElement } from \"@umbraco-cms/backoffice/property-editor\";\nimport { UmbLitElement } from \"@umbraco-cms/backoffice/lit-element\";\nimport type { UUISelectEvent } from \"@umbraco-cms/backoffice/external/uui\";\nimport { tryExecute } from \"@umbraco-cms/backoffice/resources\";\n\nconst elementName = \"forms-data-type-picker-property-editor\";\n\n@customElement(elementName)\nexport class FormsDataTypePickerPropertyUiElement\n  extends UmbLitElement\n  implements UmbPropertyEditorUiElement\n{\n  @state()\n  _options: Array<PickerItem> = [];\n\n  @property()\n  value = \"\";\n\n  async connectedCallback() {\n    super.connectedCallback();\n\n    await this.#loadDataTypes();\n  }\n\n  async #loadDataTypes() {\n    const { data } = await tryExecute(this, PickerService.getPickerDataType());\n\n    this._options = data;\n  }\n\n  #onChange(e: UUISelectEvent) {\n    const newValue = e.target.value.toString();\n    if (newValue === this.value) return;\n\n    this.value = newValue;\n\n    this.dispatchEvent(new CustomEvent(\"property-value-change\"));\n  }\n\n  render() {\n    return html` <uui-select\n      label=\"Data type picker\"\n      @change=${this.#onChange}\n      .options=${this._options.map((o) => ({\n        name: o.value,\n        value: o.id,\n        selected: o.id === this.value,\n      }))}\n    ></uui-select>`;\n  }\n}\n\nexport default FormsDataTypePickerPropertyUiElement;\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    [elementName]: FormsDataTypePickerPropertyUiElement;\n  }\n}\n"],"names":["_FormsDataTypePickerPropertyUiElement_instances","loadDataTypes_fn","onChange_fn","elementName","FormsDataTypePickerPropertyUiElement","UmbLitElement","__privateAdd","__privateMethod","html","o","data","tryExecute","PickerService","newValue","__decorateClass","state","property","customElement","FormsDataTypePickerPropertyUiElement$1"],"mappings":";;;;;;;;;;8OAAAA,GAAAC,GAAAC;AAaA,MAAMC,IAAc;AAGb,IAAMC,IAAN,cACGC,EAEV;AAAA,EAHO,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAN,CAAA,GAKL,KAAA,WAA8B,CAAA,GAG9B,KAAA,QAAQ;AAAA,EAAA;AAAA,EAER,MAAM,oBAAoB;AACxB,UAAM,kBAAA,GAEN,MAAMO,QAAKP,GAAAC,CAAA,EAAL,KAAA,IAAA;AAAA,EAAA;AAAA,EAkBR,SAAS;AACP,WAAOO;AAAA;AAAA,gBAEKD,QAAKP,GAAAE,CAAA,CAAS;AAAA,iBACb,KAAK,SAAS,IAAI,CAACO,OAAO;AAAA,MACnC,MAAMA,EAAE;AAAA,MACR,OAAOA,EAAE;AAAA,MACT,UAAUA,EAAE,OAAO,KAAK;AAAA,IAAA,EACxB,CAAC;AAAA;AAAA,EAAA;AAGT;AA1COT,IAAA,oBAAA,QAAA;AAgBCC,IAAc,iBAAG;AACrB,QAAM,EAAE,MAAAS,MAAS,MAAMC,EAAW,MAAMC,EAAc,mBAAmB;AAEzE,OAAK,WAAWF;AAClB;AAEAR,IAAS,SAAC,GAAmB;AAC3B,QAAMW,IAAW,EAAE,OAAO,MAAM,SAAA;AAChC,EAAIA,MAAa,KAAK,UAEtB,KAAK,QAAQA,GAEb,KAAK,cAAc,IAAI,YAAY,uBAAuB,CAAC;AAC7D;AAxBAC,EAAA;AAAA,EADCC,EAAA;AAAM,GAJIX,EAKX,WAAA,YAAA,CAAA;AAGAU,EAAA;AAAA,EADCE,EAAA;AAAS,GAPCZ,EAQX,WAAA,SAAA,CAAA;AARWA,IAANU,EAAA;AAAA,EADNG,EAAcd,CAAW;AAAA,GACbC,CAAA;AA4Cb,MAAAc,IAAed;"}