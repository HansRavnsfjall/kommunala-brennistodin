{"version":3,"file":"datasource-type-collection.repository.js","sources":["../../../../src/section/provider-types/datasource-types/repository/collection/datasource-type-collection.server.data-source.ts","../../../../src/section/provider-types/datasource-types/repository/collection/datasource-type-collection.repository.ts"],"sourcesContent":["import { tryExecute } from \"@umbraco-cms/backoffice/resources\";\nimport type { UmbCollectionDataSource } from \"@umbraco-cms/backoffice/collection\";\nimport type { UmbControllerHost } from \"@umbraco-cms/backoffice/controller-api\";\nimport type { PreValueSourceTypeWithSettings } from \"@umbraco-forms/generated\";\nimport { DataSourceTypeService } from \"@umbraco-forms/generated\";\n\nexport class FormsDataSourceTypeCollectionServerDataSource\n  implements UmbCollectionDataSource<PreValueSourceTypeWithSettings>\n{\n  #host: UmbControllerHost;\n\n  constructor(host: UmbControllerHost) {\n    this.#host = host;\n  }\n\n  async getCollection() {\n    const { data, error } = await tryExecute(\n      this.#host,\n      DataSourceTypeService.getDataSourceType(),\n    );\n\n    return error\n      ? { error }\n      : {\n          data: {\n            items: data,\n            total: data.length,\n          },\n        };\n  }\n}\n","import { FormsDataSourceTypeCollectionServerDataSource } from \"./datasource-type-collection.server.data-source.js\";\nimport type { UmbCollectionRepository } from \"@umbraco-cms/backoffice/collection\";\nimport type { UmbControllerHost } from \"@umbraco-cms/backoffice/controller-api\";\n\nexport class FormsDataSourceTypeCollectionRepository\n  implements UmbCollectionRepository\n{\n  #collectionSource: FormsDataSourceTypeCollectionServerDataSource;\n\n  constructor(host: UmbControllerHost) {\n    this.#collectionSource = new FormsDataSourceTypeCollectionServerDataSource(\n      host,\n    );\n  }\n\n  async requestCollection() {\n    return this.#collectionSource.getCollection();\n  }\n\n  destroy(): void {}\n}\n\nexport default FormsDataSourceTypeCollectionRepository;\n"],"names":["FormsDataSourceTypeCollectionServerDataSource","host","__privateAdd","_host","__privateSet","data","error","tryExecute","__privateGet","DataSourceTypeService","FormsDataSourceTypeCollectionRepository","_collectionSource"],"mappings":";;;;;;;;AAMO,MAAMA,EAEb;AAAA,EAGE,YAAYC,GAAyB;AAFrC,IAAAC,EAAA,MAAAC;AAGE,IAAAC,EAAA,MAAKD,GAAQF;AAAA,EAAA;AAAA,EAGf,MAAM,gBAAgB;AACpB,UAAM,EAAE,MAAAI,GAAM,OAAAC,EAAA,IAAU,MAAMC;AAAA,MAC5BC,EAAA,MAAKL;AAAA,MACLM,EAAsB,kBAAA;AAAA,IAAkB;AAG1C,WAAOH,IACH,EAAE,OAAAA,MACF;AAAA,MACE,MAAM;AAAA,QACJ,OAAOD;AAAA,QACP,OAAOA,EAAK;AAAA,MAAA;AAAA,IACd;AAAA,EACF;AAER;AArBEF,IAAA;;ACLK,MAAMO,EAEb;AAAA,EAGE,YAAYT,GAAyB;AAFrC,IAAAC,EAAA,MAAAS;AAGE,IAAAP,EAAA,MAAKO,GAAoB,IAAIX;AAAA,MAC3BC;AAAA,IAAA;AAAA,EACF;AAAA,EAGF,MAAM,oBAAoB;AACxB,WAAOO,EAAA,MAAKG,GAAkB,cAAA;AAAA,EAAc;AAAA,EAG9C,UAAgB;AAAA,EAAA;AAClB;AAbEA,IAAA;"}