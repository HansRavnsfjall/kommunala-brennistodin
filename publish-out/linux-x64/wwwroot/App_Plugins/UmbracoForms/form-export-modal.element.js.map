{"version":3,"file":"form-export-modal.element.js","sources":["../../../../src/section/forms/entity-actions/export/modal/form-export-modal.element.ts"],"sourcesContent":["import type { FormsFormExportModalData } from \"./index.js\";\nimport {\n  html,\n  customElement,\n  unsafeHTML,\n} from \"@umbraco-cms/backoffice/external/lit\";\nimport { UmbModalBaseElement } from \"@umbraco-cms/backoffice/modal\";\nimport { FormService } from \"@umbraco-forms/generated\";\nimport { blobDownload } from \"@umbraco-cms/backoffice/utils\";\nimport { tryExecute } from \"@umbraco-cms/backoffice/resources\";\n\nconst elementName = \"forms-form-export-modal\";\n\n@customElement(elementName)\nexport class FormsFormExportModalElement extends UmbModalBaseElement<FormsFormExportModalData> {\n  async #export() {\n    if (!this.data?.unique) throw new Error(\"unique is missing\");\n    const { data: file } = await tryExecute(\n      this,\n      FormService.getFormExport({ query: { guid: this.data.unique } }),\n    );\n    blobDownload(file, `form-${this.data.unique}.json`, \"application/json\");\n    this._submitModal();\n  }\n\n  render() {\n    return html`\n      <umb-body-layout .headline=${this.localize.term(\"actions_export\")}>\n        <uui-box\n          >${unsafeHTML(\n            this.localize.term(\"formExport_exportInstruction\"),\n          )}</uui-box\n        >\n        <uui-button\n          slot=\"actions\"\n          label=${this.localize.term(\"general_cancel\")}\n          @click=\"${this._rejectModal}\"\n        ></uui-button>\n        <uui-button\n          slot=\"actions\"\n          label=${this.localize.term(\"actions_export\")}\n          look=\"primary\"\n          color=\"positive\"\n          @click=${this.#export}\n        ></uui-button>\n      </umb-body-layout>\n    `;\n  }\n}\n\nexport default FormsFormExportModalElement;\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    [elementName]: FormsFormExportModalElement;\n  }\n}\n"],"names":["_FormsFormExportModalElement_instances","export_fn","elementName","FormsFormExportModalElement","UmbModalBaseElement","__privateAdd","html","unsafeHTML","__privateMethod","_a","file","tryExecute","FormService","blobDownload","__decorateClass","customElement","FormsFormExportModalElement$1"],"mappings":";;;;;;;;;;;8OAAAA,GAAAC;AAWA,MAAMC,IAAc;AAGb,IAAMC,IAAN,cAA0CC,EAA8C;AAAA,EAAxF,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAL,CAAA;AAAA,EAAA;AAAA,EAWL,SAAS;AACP,WAAOM;AAAA,mCACwB,KAAK,SAAS,KAAK,gBAAgB,CAAC;AAAA;AAAA,aAE1DC;AAAA,MACD,KAAK,SAAS,KAAK,8BAA8B;AAAA,IAAA,CAClD;AAAA;AAAA;AAAA;AAAA,kBAIO,KAAK,SAAS,KAAK,gBAAgB,CAAC;AAAA,oBAClC,KAAK,YAAY;AAAA;AAAA;AAAA;AAAA,kBAInB,KAAK,SAAS,KAAK,gBAAgB,CAAC;AAAA;AAAA;AAAA,mBAGnCC,QAAKR,GAAAC,CAAA,CAAO;AAAA;AAAA;AAAA;AAAA,EAAA;AAK/B;AAlCOD,IAAA,oBAAA,QAAA;AACCC,IAAO,iBAAG;;AACd,MAAI,GAACQ,IAAA,KAAK,SAAL,QAAAA,EAAW,QAAQ,OAAM,IAAI,MAAM,mBAAmB;AAC3D,QAAM,EAAE,MAAMC,EAAA,IAAS,MAAMC;AAAA,IAC3B;AAAA,IACAC,EAAY,cAAc,EAAE,OAAO,EAAE,MAAM,KAAK,KAAK,SAAO,CAAG;AAAA,EAAA;AAEjE,EAAAC,EAAaH,GAAM,QAAQ,KAAK,KAAK,MAAM,SAAS,kBAAkB,GACtE,KAAK,aAAA;AACP;AATWP,IAANW,EAAA;AAAA,EADNC,EAAcb,CAAW;AAAA,GACbC,CAAA;AAoCb,MAAAa,IAAeb;"}