{"version":3,"file":"prevaluesource-collection.repository.js","sources":["../../../../src/section/prevaluesources/repository/collection/prevaluesource-collection.server.data-source.ts","../../../../src/section/prevaluesources/repository/collection/prevaluesource-collection.repository.ts"],"sourcesContent":["import type { FormsPrevalueSourceCollectionFilterModel } from \"./types.js\";\nimport type { UmbCollectionDataSource } from \"@umbraco-cms/backoffice/collection\";\nimport type { UmbControllerHost } from \"@umbraco-cms/backoffice/controller-api\";\nimport { tryExecute } from \"@umbraco-cms/backoffice/resources\";\nimport type { FieldPreValueSource } from \"@umbraco-forms/generated\";\nimport { PrevalueSourceService } from \"@umbraco-forms/generated\";\n\nexport class FormsPrevalueSourceCollectionServerDataSource\n  implements UmbCollectionDataSource<FieldPreValueSource>\n{\n  #host: UmbControllerHost;\n\n  constructor(host: UmbControllerHost) {\n    this.#host = host;\n  }\n\n  async getCollection(filter: FormsPrevalueSourceCollectionFilterModel) {\n    const { data, error } = await tryExecute(\n      this.#host,\n      PrevalueSourceService.getPrevalueSource({ query: filter }),\n    );\n\n    return error ? { error } : { data };\n  }\n}\n","import { FormsPrevalueSourceCollectionServerDataSource } from \"./prevaluesource-collection.server.data-source.js\";\nimport type {\n  FormsPrevalueSourceCollectionDataSource,\n  FormsPrevalueSourceCollectionFilterModel,\n} from \"./types.js\";\nimport type { UmbCollectionRepository } from \"@umbraco-cms/backoffice/collection\";\nimport type { UmbControllerHost } from \"@umbraco-cms/backoffice/controller-api\";\n\nexport class FormsPrevalueSourceCollectionRepository\n  implements UmbCollectionRepository\n{\n  #collectionSource: FormsPrevalueSourceCollectionDataSource;\n\n  constructor(host: UmbControllerHost) {\n    this.#collectionSource = new FormsPrevalueSourceCollectionServerDataSource(\n      host,\n    );\n  }\n\n  async requestCollection(filter: FormsPrevalueSourceCollectionFilterModel) {\n    return this.#collectionSource.getCollection(filter);\n  }\n\n  destroy(): void {}\n}\n\nexport default FormsPrevalueSourceCollectionRepository;\n"],"names":["FormsPrevalueSourceCollectionServerDataSource","host","__privateAdd","_host","__privateSet","filter","data","error","tryExecute","__privateGet","PrevalueSourceService","FormsPrevalueSourceCollectionRepository","_collectionSource"],"mappings":";;;;;;;;AAOO,MAAMA,EAEb;AAAA,EAGE,YAAYC,GAAyB;AAFrC,IAAAC,EAAA,MAAAC;AAGE,IAAAC,EAAA,MAAKD,GAAQF;AAAA,EAAA;AAAA,EAGf,MAAM,cAAcI,GAAkD;AACpE,UAAM,EAAE,MAAAC,GAAM,OAAAC,EAAA,IAAU,MAAMC;AAAA,MAC5BC,EAAA,MAAKN;AAAA,MACLO,EAAsB,kBAAkB,EAAE,OAAOL,GAAQ;AAAA,IAAA;AAG3D,WAAOE,IAAQ,EAAE,OAAAA,EAAA,IAAU,EAAE,MAAAD,EAAA;AAAA,EAAK;AAEtC;AAdEH,IAAA;;ACFK,MAAMQ,EAEb;AAAA,EAGE,YAAYV,GAAyB;AAFrC,IAAAC,EAAA,MAAAU;AAGE,IAAAR,EAAA,MAAKQ,GAAoB,IAAIZ;AAAA,MAC3BC;AAAA,IAAA;AAAA,EACF;AAAA,EAGF,MAAM,kBAAkBI,GAAkD;AACxE,WAAOI,EAAA,MAAKG,GAAkB,cAAcP,CAAM;AAAA,EAAA;AAAA,EAGpD,UAAgB;AAAA,EAAA;AAClB;AAbEO,IAAA;"}