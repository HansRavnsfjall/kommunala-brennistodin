{"version":3,"file":"prevaluesource-create-options-modal.element.js","sources":["../../../../src/section/prevaluesources/entity-actions/create/modal/prevaluesource-create-options-modal.element.ts"],"sourcesContent":["import { FormsPrevalueSourceTypeCollectionRepository } from \"../../../../provider-types/prevaluesource-types/repository/collection/index.js\";\nimport { FORMS_PREVALUESOURCE_ENTITY_TYPE } from \"../../../entities.js\";\nimport { html, customElement } from \"@umbraco-cms/backoffice/external/lit\";\nimport { UmbModalBaseElement } from \"@umbraco-cms/backoffice/modal\";\nimport type { PreValueSourceTypeWithSettings } from \"@umbraco-forms/generated\";\n\nconst elementName = \"forms-prevaluesource-create-options-modal\";\n\n@customElement(elementName)\nexport class FormsPrevalueSourceCreateOptionsModalElement extends UmbModalBaseElement {\n  #prevalueSourceTypes: Array<PreValueSourceTypeWithSettings> = [];\n\n  constructor() {\n    super();\n\n    this.#initialize();\n  }\n\n  async #initialize() {\n    const repository = new FormsPrevalueSourceTypeCollectionRepository(this);\n    const { data } = await repository.requestCollection();\n    this.#prevalueSourceTypes = data?.items || [];\n    this.requestUpdate();\n  }\n\n  #onOpen(prevalueSourceType: PreValueSourceTypeWithSettings) {\n    window.history.pushState(\n      {},\n      \"\",\n      `section/forms/workspace/${FORMS_PREVALUESOURCE_ENTITY_TYPE}/create/${prevalueSourceType.id}`,\n    );\n    this._submitModal();\n  }\n\n  render() {\n    return html`<umb-body-layout\n      headline=${this.localize.term(\n        \"formPrevalueSources_choosePrevalueSourceType\",\n      )}\n    >\n      <uui-box>\n        <uui-ref-list>\n          ${this.#prevalueSourceTypes.map(\n            (prevalueSourceType) =>\n              html`<umb-ref-item\n                .name=${prevalueSourceType.name}\n                .detail=${prevalueSourceType.description}\n                .icon=${prevalueSourceType.icon}\n                @open=${() => this.#onOpen(prevalueSourceType)}\n              ></umb-ref-item>`,\n          )}\n        </uui-ref-list>\n      </uui-box>\n      <uui-button\n        slot=\"actions\"\n        label=${this.localize.term(\"general_cancel\")}\n        @click=${this._rejectModal}\n      ></uui-button>\n    </umb-body-layout>`;\n  }\n}\n\nexport default FormsPrevalueSourceCreateOptionsModalElement;\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    [elementName]: FormsPrevalueSourceCreateOptionsModalElement;\n  }\n}\n"],"names":["_prevalueSourceTypes","_FormsPrevalueSourceCreateOptionsModalElement_instances","initialize_fn","onOpen_fn","elementName","FormsPrevalueSourceCreateOptionsModalElement","UmbModalBaseElement","__privateAdd","__privateMethod","html","__privateGet","prevalueSourceType","repository","FormsPrevalueSourceTypeCollectionRepository","data","__privateSet","FORMS_PREVALUESOURCE_ENTITY_TYPE","__decorateClass","customElement","FormsPrevalueSourceCreateOptionsModalElement$1"],"mappings":";;;;;;;;;;wYAAAA,GAAAC,GAAAC,GAAAC;AAMA,MAAMC,IAAc;AAGb,IAAMC,IAAN,cAA2DC,EAAoB;AAAA,EAGpF,cAAc;AACZ,UAAA,GAJGC,EAAA,MAAAN,CAAA,GACLM,EAAA,MAAAP,GAA8D,EAAC,GAK7DQ,EAAA,MAAKP,GAAAC,CAAA,EAAL,KAAA,IAAA;AAAA,EAAA;AAAA,EAmBF,SAAS;AACP,WAAOO;AAAA,iBACM,KAAK,SAAS;AAAA,MACvB;AAAA,IAAA,CACD;AAAA;AAAA;AAAA;AAAA,YAIKC,QAAKV,CAAA,EAAqB;AAAA,MAC1B,CAACW,MACCF;AAAA,wBACUE,EAAmB,IAAI;AAAA,0BACrBA,EAAmB,WAAW;AAAA,wBAChCA,EAAmB,IAAI;AAAA,wBACvB,MAAMH,EAAA,MAAKP,GAAAE,CAAA,EAAL,KAAA,MAAaQ,CAAA,CAAmB;AAAA;AAAA,IAAA,CAEnD;AAAA;AAAA;AAAA;AAAA;AAAA,gBAKK,KAAK,SAAS,KAAK,gBAAgB,CAAC;AAAA,iBACnC,KAAK,YAAY;AAAA;AAAA;AAAA,EAAA;AAIlC;AAlDEX,IAAA,oBAAA,QAAA;AADKC,IAAA,oBAAA,QAAA;AASCC,IAAW,iBAAG;AAClB,QAAMU,IAAa,IAAIC,EAA4C,IAAI,GACjE,EAAE,MAAAC,EAAA,IAAS,MAAMF,EAAW,kBAAA;AAClC,EAAAG,EAAA,MAAKf,IAAuBc,KAAA,gBAAAA,EAAM,UAAS,CAAA,CAAC,GAC5C,KAAK,cAAA;AACP;AAEAX,IAAO,SAACQ,GAAoD;AAC1D,SAAO,QAAQ;AAAA,IACb,CAAA;AAAA,IACA;AAAA,IACA,2BAA2BK,CAAgC,WAAWL,EAAmB,EAAE;AAAA,EAAA,GAE7F,KAAK,aAAA;AACP;AAvBWN,IAANY,EAAA;AAAA,EADNC,EAAcd,CAAW;AAAA,GACbC,CAAA;AAqDb,MAAAc,IAAed;"}