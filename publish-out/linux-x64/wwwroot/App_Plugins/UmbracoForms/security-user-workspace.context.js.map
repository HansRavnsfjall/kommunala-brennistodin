{"version":3,"file":"security-user-workspace.context.js","sources":["../../../../src/section/security/workspace/security-user-workspace-editor.element.ts","../../../../src/section/security/workspace/security-user-workspace.context.ts"],"sourcesContent":["import { FORMS_SECURITY_USER_WORKSPACE_CONTEXT } from \"./security-user-workspace.context-token.js\";\nimport { UmbElementMixin } from \"@umbraco-cms/backoffice/element-api\";\nimport {\n  LitElement,\n  css,\n  customElement,\n  html,\n  property,\n  state,\n} from \"@umbraco-cms/backoffice/external/lit\";\n\nconst elementName = \"forms-security-user-workspace-editor\";\n\n@customElement(elementName)\nexport class FormsSecurityUserWorkspaceEditorElement extends UmbElementMixin(\n  LitElement,\n) {\n  @state()\n  private _name = \"\";\n\n  @property({ type: String, attribute: false })\n  workspaceAlias?: string;\n\n  #workspaceContext?: typeof FORMS_SECURITY_USER_WORKSPACE_CONTEXT.TYPE;\n\n  constructor() {\n    super();\n\n    this.consumeContext(FORMS_SECURITY_USER_WORKSPACE_CONTEXT, (context) => {\n      this.#workspaceContext = context;\n      this.#observeId();\n    });\n  }\n\n  #observeId() {\n    if (!this.#workspaceContext) return;\n    this.observe(\n      this.#workspaceContext.data,\n      (data) => (this._name = data?.name ?? \"\"),\n    );\n  }\n\n  render() {\n    return html` <umb-workspace-editor alias=\"Forms.Workspace.Security.User\">\n      <uui-input\n        id=\"name\"\n        slot=\"header\"\n        readonly\n        label=${this.localize.term(\"general_name\")}\n        .value=${this.localize.term(\"formSecurity_manageIndividualFormsLabel\") +\n        \" \" +\n        this._name}\n      ></uui-input>\n    </umb-workspace-editor>`;\n  }\n\n  static styles = [\n    css`\n      :host {\n        display: block;\n        width: 100%;\n        height: 100%;\n      }\n\n      #name {\n        flex: 1 1 auto;\n      }\n    `,\n  ];\n}\n\nexport default FormsSecurityUserWorkspaceEditorElement;\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    [elementName]: FormsSecurityUserWorkspaceEditorElement;\n  }\n}\n","import { FORMS_SECURITY_USER_ENTITY_TYPE } from \"../entities.js\";\nimport { FormsSecurityUserDetailRepository } from \"../repository/index.js\";\nimport { FORMS_SECURITY_USER_WORKSPACE_ALIAS } from \"./manifests.js\";\nimport { FormsSecurityUserWorkspaceEditorElement } from \"./security-user-workspace-editor.element.js\";\nimport { FormsSecurityWorkspaceBaseContext } from \"./security-workspace-base.context.js\";\nimport type { FormSecurityForUser } from \"@umbraco-forms/generated\";\nimport type { UmbControllerHostElement } from \"@umbraco-cms/backoffice/controller-api\";\nimport type { UmbSaveableWorkspaceContext } from \"@umbraco-cms/backoffice/workspace\";\n\nexport class FormsSecurityUserWorkspaceContext\n  extends FormsSecurityWorkspaceBaseContext<FormSecurityForUser>\n  implements UmbSaveableWorkspaceContext\n{\n  constructor(host: UmbControllerHostElement) {\n    super(\n      host,\n      FORMS_SECURITY_USER_WORKSPACE_ALIAS,\n      FORMS_SECURITY_USER_ENTITY_TYPE,\n      FormsSecurityUserDetailRepository,\n      FormsSecurityUserWorkspaceEditorElement,\n    );\n  }\n\n  setUserSecurityProperty(alias: string, value: boolean) {\n    if (!this._data.value) return;\n\n    const userSecurity = structuredClone(this._data.value.userSecurity);\n    userSecurity[alias] = value;\n    this._data.update({ userSecurity });\n  }\n}\n\nexport const api = FormsSecurityUserWorkspaceContext;\n"],"names":["_workspaceContext","_FormsSecurityUserWorkspaceEditorElement_instances","observeId_fn","elementName","FormsSecurityUserWorkspaceEditorElement","UmbElementMixin","LitElement","__privateAdd","FORMS_SECURITY_USER_WORKSPACE_CONTEXT","context","__privateSet","__privateMethod","html","__privateGet","data","css","__decorateClass","state","property","customElement","FormsSecurityUserWorkspaceContext","FormsSecurityWorkspaceBaseContext","host","FORMS_SECURITY_USER_WORKSPACE_ALIAS","FORMS_SECURITY_USER_ENTITY_TYPE","FormsSecurityUserDetailRepository","alias","value","userSecurity","api"],"mappings":";;;;;;;;;;;;;;wXAAAA,GAAAC,GAAAC;AAWA,MAAMC,IAAc;AAGb,IAAMC,IAAN,cAAsDC;AAAA,EAC3DC;AACF,EAAE;AAAA,EASA,cAAc;AACZ,UAAA,GAZGC,EAAA,MAAAN,CAAA,GAIL,KAAQ,QAAQ,IAKhBM,EAAA,MAAAP,CAAA,GAKE,KAAK,eAAeQ,GAAuC,CAACC,MAAY;AACtE,MAAAC,EAAA,MAAKV,GAAoBS,CAAA,GACzBE,EAAA,MAAKV,GAAAC,CAAA,EAAL,KAAA,IAAA;AAAA,IAAA,CACD;AAAA,EAAA;AAAA,EAWH,SAAS;AACP,WAAOU;AAAA;AAAA;AAAA;AAAA;AAAA,gBAKK,KAAK,SAAS,KAAK,cAAc,CAAC;AAAA,iBACjC,KAAK,SAAS,KAAK,yCAAyC,IACrE,MACA,KAAK,KAAK;AAAA;AAAA;AAAA,EAAA;AAkBlB;AA9CEZ,IAAA,oBAAA,QAAA;AATKC,IAAA,oBAAA,QAAA;AAoBLC,IAAU,WAAG;AACX,EAAKW,QAAKb,CAAA,KACV,KAAK;AAAA,IACHa,QAAKb,CAAA,EAAkB;AAAA,IACvB,CAACc,MAAU,KAAK,SAAQA,KAAA,gBAAAA,EAAM,SAAQ;AAAA,EAAA;AAE1C;AA1BWV,EA0CJ,SAAS;AAAA,EACdW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWF;AAlDQC,EAAA;AAAA,EADPC,EAAA;AAAM,GAHIb,EAIH,WAAA,SAAA,CAAA;AAGRY,EAAA;AAAA,EADCE,EAAS,EAAE,MAAM,QAAQ,WAAW,IAAO;AAAA,GANjCd,EAOX,WAAA,kBAAA,CAAA;AAPWA,IAANY,EAAA;AAAA,EADNG,EAAchB,CAAW;AAAA,GACbC,CAAA;ACLN,MAAMgB,UACHC,EAEV;AAAA,EACE,YAAYC,GAAgC;AAC1C;AAAA,MACEA;AAAA,MACAC;AAAA,MACAC;AAAA,MACAC;AAAA,MACArB;AAAA,IAAA;AAAA,EACF;AAAA,EAGF,wBAAwBsB,GAAeC,GAAgB;AACrD,QAAI,CAAC,KAAK,MAAM,MAAO;AAEvB,UAAMC,IAAe,gBAAgB,KAAK,MAAM,MAAM,YAAY;AAClE,IAAAA,EAAaF,CAAK,IAAIC,GACtB,KAAK,MAAM,OAAO,EAAE,cAAAC,EAAA,CAAc;AAAA,EAAA;AAEtC;AAEO,MAAMC,IAAMT;"}