{"version":3,"file":"backoffice-sections.data-source.js","sources":["../../../../Umbraco.Community.Contentment.Client/src/extensions/data-source/backoffice-sections/backoffice-sections.data-source.ts"],"sourcesContent":["// SPDX-License-Identifier: MPL-2.0\r\n// Copyright Â© 2024 Lee Kelleher\r\n\r\nimport { umbExtensionsRegistry } from '@umbraco-cms/backoffice/extension-registry';\r\nimport { UmbControllerBase } from '@umbraco-cms/backoffice/class-api';\r\nimport type { ContentmentListItem } from '../../../property-editor-ui/types.js';\r\nimport type { ContentmentDataSourceApi } from '../types.js';\r\nimport type { ContentmentDataSourceExtentionManifestType } from '../data-source.extension.js';\r\nimport type { ManifestSection } from '@umbraco-cms/backoffice/section';\r\nimport type { UmbControllerAlias, UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\n\r\nexport class ContentmentUmbracoBackofficeSectionsDataSourceApi\r\n\textends UmbControllerBase\r\n\timplements ContentmentDataSourceApi\r\n{\r\n\t#sections?: Array<ManifestSection>;\r\n\r\n\tconstructor(host: UmbControllerHost, controllerAlias: UmbControllerAlias) {\r\n\t\tsuper(host, controllerAlias);\r\n\r\n\t\tthis.observe(umbExtensionsRegistry.byType('section'), (sections) => {\r\n\t\t\tthis.#sections = sections;\r\n\t\t});\r\n\t}\r\n\r\n\tmanifest?: ContentmentDataSourceExtentionManifestType;\r\n\r\n\tasync getItems(): Promise<Array<ContentmentListItem>> {\r\n\t\treturn (\r\n\t\t\tthis.#sections?.map((section) => ({\r\n\t\t\t\tname: section.meta.label,\r\n\t\t\t\tvalue: section.meta.pathname,\r\n\t\t\t})) ?? []\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport { ContentmentUmbracoBackofficeSectionsDataSourceApi as api };\r\n"],"names":["ContentmentUmbracoBackofficeSectionsDataSourceApi","UmbControllerBase","host","controllerAlias","__privateAdd","_sections","umbExtensionsRegistry","sections","__privateSet","_a","__privateGet","section"],"mappings":";;;;;;;;AAWO,MAAMA,UACJC,EAET;AAAA,EAGC,YAAYC,GAAyBC,GAAqC;AACzE,UAAMD,GAAMC,CAAe;AAH5B,IAAAC,EAAA,MAAAC;AAKC,SAAK,QAAQC,EAAsB,OAAO,SAAS,GAAG,CAACC,MAAa;AACnE,MAAAC,EAAA,MAAKH,GAAYE;AAAA,IAAA,CACjB;AAAA,EAAA;AAAA,EAKF,MAAM,WAAgD;;AACrD,aACCE,IAAAC,EAAA,MAAKL,OAAL,gBAAAI,EAAgB,IAAI,CAACE,OAAa;AAAA,MACjC,MAAMA,EAAQ,KAAK;AAAA,MACnB,OAAOA,EAAQ,KAAK;AAAA,IACrB,QAAO,CAAC;AAAA,EAAA;AAGX;AApBCN,IAAA;"}