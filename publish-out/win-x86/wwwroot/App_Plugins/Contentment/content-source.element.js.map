{"version":3,"file":"content-source.element.js","sources":["../../../../Umbraco.Community.Contentment.Client/src/property-editor-ui/content-source/content-source.element.ts"],"sourcesContent":["// SPDX-License-Identifier: MPL-2.0\r\n// Copyright Â© 2024 Lee Kelleher\r\n\r\nimport { css, customElement, html, property, state, when } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\nimport type { UmbPropertyEditorUiElement } from '@umbraco-cms/backoffice/property-editor';\r\n\r\n@customElement('contentment-property-editor-ui-content-source')\r\nexport class ContentmentPropertyEditorUIContentSourceElement\r\n\textends UmbLitElement\r\n\timplements UmbPropertyEditorUiElement\r\n{\r\n\t@state()\r\n\tprivate _loaded = false;\r\n\r\n\t@property({ type: Object })\r\n\tpublic value?: unknown;\r\n\r\n\tpublic set config(config: UmbPropertyEditorUiElement['config']) {\r\n\t\tif (!config) return;\r\n\t}\r\n\r\n\t#onChange(event: CustomEvent & { target: { data: unknown } }) {\r\n\t\tthis.value = event.target.data ?? {};\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\t#onLoaded() {\r\n\t\t// NOTE: In order to use the `umb-input-content-picker-document-root` element,\r\n\t\t// we need to load the \"Umb.PropertyEditorUi.ContentPicker.Source\" property-editor first.\r\n\t\tthis._loaded = true;\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn when(\r\n\t\t\t!this._loaded,\r\n\t\t\t() => html`\r\n\t\t\t\t<uui-loader></uui-loader>\r\n\t\t\t\t<contentment-property-editor-ui\r\n\t\t\t\t\tproperty-editor-ui-alias=\"Umb.PropertyEditorUi.ContentPicker.Source\"\r\n\t\t\t\t\t@loaded=${this.#onLoaded}>\r\n\t\t\t\t</contentment-property-editor-ui>\r\n\t\t\t`,\r\n\t\t\t() => html`\r\n\t\t\t\t<umb-input-content-picker-document-root .data=${this.value} @change=${this.#onChange}>\r\n\t\t\t\t</umb-input-content-picker-document-root>\r\n\t\t\t`\r\n\t\t);\r\n\t}\r\n\r\n\tstatic override readonly styles = [\r\n\t\tcss`\r\n\t\t\tcontentment-property-editor-ui {\r\n\t\t\t\tdisplay: none;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport { ContentmentPropertyEditorUIContentSourceElement as element };\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'contentment-property-editor-ui-content-source': ContentmentPropertyEditorUIContentSourceElement;\r\n\t}\r\n}\r\n"],"names":["_ContentmentPropertyEditorUIContentSourceElement_instances","onChange_fn","onLoaded_fn","ContentmentPropertyEditorUIContentSourceElement","UmbLitElement","__privateAdd","config","when","html","__privateMethod","event","UmbChangeEvent","css","__decorateClass","state","property","customElement"],"mappings":";;;;;;;;;8OAAAA,GAAAC,GAAAC;AASa,IAAAC,IAAN,cACEC,EAET;AAAA,EAHO,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAL,CAAA,GAKN,KAAQ,UAAU;AAAA,EAAA;AAAA,EAKlB,IAAW,OAAOM,GAA8C;AAAA,EAClD;AAAA,EAcL,SAAS;AACV,WAAAC;AAAA,MACN,CAAC,KAAK;AAAA,MACN,MAAMC;AAAA;AAAA;AAAA;AAAA,eAIMC,QAAKT,GAASE,CAAA,CAAA;AAAA;AAAA;AAAA,MAG1B,MAAMM;AAAA,oDAC2C,KAAK,KAAK,YAAYC,EAAA,MAAKT,GAASC,CAAA,CAAA;AAAA;AAAA;AAAA,IAGtF;AAAA,EAAA;AAUF;AAjDOD,IAAA,oBAAA,QAAA;AAcNC,IAAS,SAACS,GAAoD;AAC7D,OAAK,QAAQA,EAAM,OAAO,QAAQ,CAAC,GAC9B,KAAA,cAAc,IAAIC,GAAgB;AACxC;AAEAT,IAAS,WAAG;AAGX,OAAK,UAAU;AAChB;AAvBYC,EA0Ca,SAAS;AAAA,EACjCS;AAAA;AAAA;AAAA;AAAA;AAKD;AA3CQC,EAAA;AAAA,EADPC,EAAM;AAAA,GAJKX,EAKJ,WAAA,WAAA,CAAA;AAGDU,EAAA;AAAA,EADNE,EAAS,EAAE,MAAM,OAAQ,CAAA;AAAA,GAPdZ,EAQL,WAAA,SAAA,CAAA;AARKA,IAANU,EAAA;AAAA,EADNG,EAAc,+CAA+C;AAAA,GACjDb,CAAA;"}