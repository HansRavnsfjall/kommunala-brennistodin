{"version":3,"file":"pipeline-workspace.context-CWpig-Ra.js","sources":["../../../jumoo-processing-assets/src/pipeline/workspace/pipeline-workspace.element.ts","../../../jumoo-processing-assets/src/pipeline/workspace/pipeline-workspace.context.ts"],"sourcesContent":["import { customElement, html } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\n\r\n@customElement('jumpp-processing-pipeline-workspace-element')\r\nexport class JumppProcessingPipelineWorkspaceElement extends UmbLitElement {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn html`<umb-workspace-editor .enforceNoFooter=${true}></umb-workspace-editor>`;\r\n\t}\r\n}\r\n\r\nexport default JumppProcessingPipelineWorkspaceElement;\r\n","import {\r\n\tUmbEditableWorkspaceContextBase,\r\n\tUmbRoutableWorkspaceContext,\r\n} from '@umbraco-cms/backoffice/workspace';\r\nimport { Pipeline } from '../../api';\r\nimport { UmbObjectState } from '@umbraco-cms/backoffice/observable-api';\r\nimport { PipelineRepository } from '@jumoo/processing';\r\nimport {\r\n\tJUMOO_PROCESSING_PIPELINE_ENTITY_TYPE,\r\n\tJUMOO_PROCESSING_PIPELINE_WORKSPACE_ALIAS,\r\n} from './types';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\nimport JumppProcessingPipelineWorkspaceElement from './pipeline-workspace.element';\r\nimport { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\n\r\nexport class JumooProcessingPipelineWorkspaceContext\r\n\textends UmbEditableWorkspaceContextBase<Pipeline>\r\n\timplements UmbRoutableWorkspaceContext\r\n{\r\n\t#respository: PipelineRepository;\r\n\r\n\t#data = new UmbObjectState<Pipeline | undefined>(undefined);\r\n\treadonly data = this.#data.asObservable();\r\n\treadonly unique = this.#data.asObservablePart((data) => data?.id);\r\n\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tsuper(host, JUMOO_PROCESSING_PIPELINE_WORKSPACE_ALIAS);\r\n\r\n\t\tthis.#respository = new PipelineRepository(this);\r\n\r\n\t\tthis.routes.setRoutes([\r\n\t\t\t{\r\n\t\t\t\tpath: 'edit/:unique',\r\n\t\t\t\tcomponent: JumppProcessingPipelineWorkspaceElement,\r\n\t\t\t\tsetup: (_component, _info) => {\r\n\t\t\t\t\tconst unique = _info.match.params.unique;\r\n\t\t\t\t\tthis.load(unique);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t]);\r\n\r\n\t\tthis.provideContext(JUMOO_PROCESSING_PIPELINE_WORKSPACE, this);\r\n\t}\r\n\r\n\tasync load(unique: string) {\r\n\t\tconst pipeline = await this.#respository.Get(unique);\r\n\t\tthis.#data.setValue(pipeline);\r\n\t}\r\n\r\n\tgetUnique(): string | null | undefined {\r\n\t\treturn this.getData()?.id;\r\n\t}\r\n\tgetEntityType(): string {\r\n\t\treturn JUMOO_PROCESSING_PIPELINE_ENTITY_TYPE;\r\n\t}\r\n\tgetData(): Pipeline | undefined {\r\n\t\treturn this.#data.getValue();\r\n\t}\r\n\tprotected submit(): Promise<void> {\r\n\t\tthrow new Error('Method not implemented.');\r\n\t}\r\n}\r\n\r\nexport { JumooProcessingPipelineWorkspaceContext as api };\r\n\r\nexport const JUMOO_PROCESSING_PIPELINE_WORKSPACE =\r\n\tnew UmbContextToken<JumooProcessingPipelineWorkspaceContext>(\r\n\t\t'jumoo-processing-pipelin-workspace-context',\r\n\t);\r\n"],"names":["JumppProcessingPipelineWorkspaceElement","UmbLitElement","html","__decorateClass","customElement","JumppProcessingPipelineWorkspaceElement$1","JumooProcessingPipelineWorkspaceContext","UmbEditableWorkspaceContextBase","host","JUMOO_PROCESSING_PIPELINE_WORKSPACE_ALIAS","#data","UmbObjectState","data","#respository","PipelineRepository","_component","_info","unique","JUMOO_PROCESSING_PIPELINE_WORKSPACE","pipeline","JUMOO_PROCESSING_PIPELINE_ENTITY_TYPE","UmbContextToken"],"mappings":";;;;;;;;;;;;;AAIa,IAAAA,IAAN,cAAsDC,EAAc;AAAA,EAC1E,cAAc;AACP;EACP;AAAA,EAEA,SAAS;AACR,WAAOC,2CAA8C,EAAI;AAAA,EAC1D;AACD;AARaF,IAANG,EAAA;AAAA,EADNC,EAAc,6CAA6C;AAAA,GAC/CJ,CAAA;AAUb,MAAAK,IAAeL;ACCR,MAAMM,UACJC,EAET;AAAA,EAOC,YAAYC,GAAyB;AACpC,UAAMA,GAAMC,CAAyC,GAL9C,KAAAC,KAAA,IAAIC,EAAqC,MAAS,GACjD,KAAA,OAAO,KAAKD,GAAM,aAAa,GACxC,KAAS,SAAS,KAAKA,GAAM,iBAAiB,CAACE,MAASA,GAAM,EAAE,GAK1D,KAAAC,KAAe,IAAIC,EAAmB,IAAI,GAE/C,KAAK,OAAO,UAAU;AAAA,MACrB;AAAA,QACC,MAAM;AAAA,QACN,WAAWd;AAAAA,QACX,OAAO,CAACe,GAAYC,MAAU;AACvB,gBAAAC,IAASD,EAAM,MAAM,OAAO;AAClC,eAAK,KAAKC,CAAM;AAAA,QACjB;AAAA,MACD;AAAA,IAAA,CACA,GAEI,KAAA,eAAeC,GAAqC,IAAI;AAAA,EAC9D;AAAA,EAvBAL;AAAA,EAEAH;AAAA,EAuBA,MAAM,KAAKO,GAAgB;AAC1B,UAAME,IAAW,MAAM,KAAKN,GAAa,IAAII,CAAM;AAC9C,SAAAP,GAAM,SAASS,CAAQ;AAAA,EAC7B;AAAA,EAEA,YAAuC;AAC/B,WAAA,KAAK,QAAW,GAAA;AAAA,EACxB;AAAA,EACA,gBAAwB;AAChB,WAAAC;AAAA,EACR;AAAA,EACA,UAAgC;AACxB,WAAA,KAAKV,GAAM;EACnB;AAAA,EACU,SAAwB;AAC3B,UAAA,IAAI,MAAM,yBAAyB;AAAA,EAC1C;AACD;AAIO,MAAMQ,IACZ,IAAIG;AAAA,EACH;AACD;"}