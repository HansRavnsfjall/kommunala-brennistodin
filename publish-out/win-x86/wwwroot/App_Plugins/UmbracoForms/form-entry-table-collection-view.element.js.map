{"version":3,"file":"form-entry-table-collection-view.element.js","sources":["../src/section/forms/entries/collection/views/table/form-entry-table-collection-view.element.ts"],"sourcesContent":["import { FORMS_FORM_WORKSPACE_CONTEXT } from \"../../../../workspace/form-workspace.context-token.js\";\nimport type { FormEntryCollectionModel } from \"../../../types.js\";\nimport { FormsPrevalueSourceDetailRepository } from \"../../../../../prevaluesources/repository/index.js\";\nimport type { FieldPrevalueDetail } from \"../../../../types.js\";\nimport { FORMS_FORM_ENTRY_COLLECTION_CONTEXT } from \"../../form-entry-collection.context-token.js\";\nimport type { FormsEntryCollectionContext } from \"../../form-entry-collection.context.js\";\nimport { EntryRenderHelper } from \"../../../entry-render-helper.class.js\";\nimport { UmbTextStyles } from \"@umbraco-cms/backoffice/style\";\nimport type {\n  UmbTableColumn,\n  UmbTableConfig,\n  UmbTableDeselectedEvent,\n  UmbTableElement,\n  UmbTableItem,\n  UmbTableSelectedEvent,\n} from \"@umbraco-cms/backoffice/components\";\nimport {\n  css,\n  html,\n  customElement,\n  state,\n  LitElement,\n  property,\n  when,\n} from \"@umbraco-cms/backoffice/external/lit\";\nimport { UmbElementMixin } from \"@umbraco-cms/backoffice/element-api\";\nimport type {\n  EntrySearchResultSchema,\n  FieldData,\n} from \"@umbraco-forms/generated\";\nimport { UmbModalRouteRegistrationController } from \"@umbraco-cms/backoffice/router\";\nimport { FORMS_ENTRY_DETAILS_MODAL } from \"@umbraco-forms/modals\";\nimport { GUID_EMPTY } from \"@umbraco-forms/entities\";\n\nconst elementName = \"form-entry-table-collection-view\";\n\n@customElement(elementName)\nexport class FormsFormEntryTableCollectionViewElement extends UmbElementMixin(\n  LitElement,\n) {\n  #workspaceContext?: typeof FORMS_FORM_WORKSPACE_CONTEXT.TYPE;\n  #collectionContext?: FormsEntryCollectionContext;\n\n  #entries: Array<FormEntryCollectionModel> = [];\n\n  @property({ type: Array })\n  get selectedEntryIds() {\n    return this.#collectionContext?.selection.getSelection();\n  }\n\n  @state()\n  private _loading: boolean = false;\n\n  @state()\n  private _tableConfig: UmbTableConfig = {\n    allowSelection: true,\n  };\n\n  @state()\n  private _tableColumns: Array<UmbTableColumn> = [];\n\n  @state()\n  private _tableItems: Array<UmbTableItem> = [];\n\n  #schema: Array<EntrySearchResultSchema> = [];\n  #fieldPrevalues: Array<FieldPrevalueDetail> = [];\n  #entryModalRouter?: UmbModalRouteRegistrationController;\n\n  async connectedCallback() {\n    super.connectedCallback();\n\n    this.consumeContext(FORMS_FORM_WORKSPACE_CONTEXT, (context) => {\n      this.#workspaceContext = context;\n      this.observe(this.#workspaceContext?.data, async (form) => {\n        if (!form) return;\n\n        this.#fieldPrevalues = this.#workspaceContext!.getFieldsWithPrevalues();\n        await this.#ensurePrevalues(form.id);\n\n        this.consumeContext(FORMS_FORM_ENTRY_COLLECTION_CONTEXT, (context) => {\n          this.#collectionContext = context;\n          this.#observeCollectionContext();\n        });\n      });\n    });\n  }\n\n  async #ensurePrevalues(formId: string) {\n    // Prevalues defined directly on the field will already be populated in #fieldPrevalues. Those defined\n    // using a prevalue source need to be loaded so we have them when displaying and editing the entries.\n    for (let i = 0; i < this.#fieldPrevalues.length; i++) {\n      const fieldPrevalues = this.#fieldPrevalues[i];\n      if (fieldPrevalues.prevalueSourceId !== GUID_EMPTY) {\n        const prevalueSourceRepository =\n          new FormsPrevalueSourceDetailRepository(this);\n        const { data } = await prevalueSourceRepository.requestPrevalues(\n          fieldPrevalues.prevalueSourceId,\n          formId,\n          fieldPrevalues.id,\n        );\n        if (data) {\n          fieldPrevalues.prevalues = data.map((pv) => {\n            return {\n              value: pv.value,\n              caption: pv.caption,\n            };\n          });\n        }\n      }\n    }\n  }\n\n  #observeCollectionContext() {\n    if (!this.#collectionContext) return;\n\n    this.observe(\n      this.#collectionContext.loading,\n      (loading) => (this._loading = loading),\n      \"_observeLoading\",\n    );\n\n    this.observe(\n      this.#collectionContext.items,\n      (items) => {\n        this.#createTableColumnsAndItems(items);\n\n        if (items.length && !this.#entryModalRouter) {\n          this.#registerModal();\n        }\n      },\n      \"formsFormEntriesCollectionItemsObserver\",\n    );\n  }\n\n  #registerModal() {\n    this.#entryModalRouter = new UmbModalRouteRegistrationController(\n      this,\n      FORMS_ENTRY_DETAILS_MODAL,\n    )\n      .addAdditionalPath(\":unique\")\n      .onSetup(async (params) => {\n        const entry = this.#entries.find((e) => e.unique == params.unique);\n        if (!entry) throw new Error(\"Could not find entry\");\n        return {\n          data: {\n            schema: this.#schema,\n            fieldPrevalues: this.#fieldPrevalues,\n          },\n          value: entry,\n        };\n      })\n      .onSubmit((value) => {\n        // Re-apply existing filter to trigger fetch\n        if (value.updateCollection) {\n          this.#collectionContext?.requestCollection();\n        }\n      });\n  }\n\n  #createTableColumnsAndItems(entries: Array<FormEntryCollectionModel>) {\n    if (entries.length === 0) return;\n\n    // The top item contains the schema information.\n    const schema = entries[0].schema;\n    if (!schema) throw new Error(\"Schema not provided.\");\n\n    // Save the schema and entries so we can pass the necessary subset of them to the modal for viewing and editing entries.\n    this.#schema = schema;\n    this.#entries = entries.slice(1);\n\n    this.#createTableColumns();\n    this.#createTableItems(schema);\n  }\n\n  #createTableColumns() {\n    const tableColumns = this.#schema\n      .filter((s) => s.showOnListingScreen)\n      .map((s) => ({\n        name: s.name,\n        alias: s.id,\n      }));\n\n    tableColumns.push({\n      name: \"\",\n      alias: \"buttonActions\",\n    });\n\n    this._tableColumns = tableColumns;\n  }\n\n  #createTableItems(schema: Array<EntrySearchResultSchema>) {\n    this._tableItems = this.#entries.map((entry) => {\n      const fields = entry.fields.map((f) => ({\n        columnAlias: f.fieldId,\n        value: this.#renderValue(f, schema),\n      }));\n\n      fields.push({\n        columnAlias: \"buttonActions\",\n        value: html`<uui-button\n          .label=${this.localize.term(\"formEntries_entryDetails\")}\n          look=\"secondary\"\n          color=\"default\"\n          @click=${(e: Event) => this.#onViewDetailsClick(e, entry.unique)}\n        ></uui-button>`,\n      });\n\n      return {\n        id: entry.unique,\n        icon: \"icon-collection\",\n        data: fields,\n      };\n    });\n  }\n\n  #renderValue(field: FieldData, schema: Array<EntrySearchResultSchema>) {\n    const schemaItem = schema.find((s) => s.id === field.fieldId);\n    if (!schemaItem) {\n      return html`${field.value}`;\n    }\n\n    const entryRenderHelper = new EntryRenderHelper(this, this.#fieldPrevalues);\n\n    // Handle special cases of system fields, otherwise devolve to helper sharing rendering code between collection and modal.\n    switch (schemaItem.view) {\n      case \"member\": {\n        if (!field.value) return null;\n\n        const member = field.value as { name: string; email: string };\n        return html`${member.name}`;\n      }\n      case \"workflowSummary\":\n        return html`<span\n          style=\"color: ${this.#getWorkflowSummaryStatusColor(\n            field.value as string,\n          )}\"\n          >${field.value}</span\n        >`;\n      default: {\n        const value = entryRenderHelper.getRenderValue(field, schemaItem.view);\n        return html`${value}`;\n      }\n    }\n  }\n\n  #getWorkflowSummaryStatusColor(value: string) {\n    return value.split(\"/\")[0] === value.split(\"/\")[1] ? \"green\" : \"red\";\n  }\n\n  #onViewDetailsClick(e: Event, unique: string) {\n    e.stopImmediatePropagation();\n\n    history.pushState(\n      {},\n      \"\",\n      `${location.href}/modal/forms-entrydetails-modal/${unique}`,\n    );\n  }\n\n  #onSelect(event: UmbTableSelectedEvent) {\n    event.stopPropagation();\n    this.#updateSelection(event.target as UmbTableElement);\n  }\n\n  #onDeselect(event: UmbTableDeselectedEvent) {\n    event.stopPropagation();\n    this.#updateSelection(event.target as UmbTableElement);\n  }\n\n  #updateSelection(table: UmbTableElement) {\n    const selection = table.selection;\n    this.#collectionContext?.selection.setSelection(selection);\n  }\n\n  render() {\n    return html` ${when(\n        this._loading,\n        () => html`<uui-loader-bar></uui-loader-bar>`,\n      )}\n      <umb-table\n        .config=${this._tableConfig}\n        .columns=${this._tableColumns}\n        .items=${this._tableItems}\n        @selected=\"${this.#onSelect}\"\n        @deselected=\"${this.#onDeselect}\"\n      ></umb-table>`;\n  }\n\n  static styles = [\n    UmbTextStyles,\n    css`\n      :host {\n        display: flex;\n        flex-direction: column;\n      }\n      umb-table {\n        padding: 0;\n      }\n      .workflow-summary-success {\n        color: green;\n      }\n      .workflow-summary-failure {\n        color: red;\n      }\n    `,\n  ];\n}\n\nexport default FormsFormEntryTableCollectionViewElement;\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    [elementName]: FormsFormEntryTableCollectionViewElement;\n  }\n}\n"],"names":["_workspaceContext","_collectionContext","_entries","_schema","_fieldPrevalues","_entryModalRouter","_FormsFormEntryTableCollectionViewElement_instances","ensurePrevalues_fn","observeCollectionContext_fn","registerModal_fn","createTableColumnsAndItems_fn","createTableColumns_fn","createTableItems_fn","renderValue_fn","getWorkflowSummaryStatusColor_fn","onViewDetailsClick_fn","onSelect_fn","onDeselect_fn","updateSelection_fn","elementName","FormsFormEntryTableCollectionViewElement","UmbElementMixin","LitElement","__privateAdd","_a","__privateGet","FORMS_FORM_WORKSPACE_CONTEXT","context","__privateSet","form","__privateMethod","FORMS_FORM_ENTRY_COLLECTION_CONTEXT","html","when","formId","i","fieldPrevalues","GUID_EMPTY","prevalueSourceRepository","FormsPrevalueSourceDetailRepository","data","pv","loading","items","UmbModalRouteRegistrationController","FORMS_ENTRY_DETAILS_MODAL","params","entry","e","value","entries","schema","tableColumns","s","fields","f","field","schemaItem","entryRenderHelper","EntryRenderHelper","member","unique","event","table","selection","UmbTextStyles","css","__decorateClass","property","state","customElement","FormsFormEntryTableCollectionViewElement$1"],"mappings":"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"}