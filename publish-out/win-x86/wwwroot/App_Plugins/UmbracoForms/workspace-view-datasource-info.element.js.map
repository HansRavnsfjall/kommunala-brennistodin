{"version":3,"file":"workspace-view-datasource-info.element.js","sources":["../src/section/datasources/workspace/views/info/workspace-view-datasource-info.element.ts"],"sourcesContent":["import { FORMS_DATASOURCE_WORKSPACE_CONTEXT } from \"../../datasource-workspace.context-token.js\";\nimport { UmbTextStyles } from \"@umbraco-cms/backoffice/style\";\nimport {\n  css,\n  html,\n  customElement,\n  state,\n  LitElement,\n  when,\n} from \"@umbraco-cms/backoffice/external/lit\";\nimport type { UmbWorkspaceViewElement } from \"@umbraco-cms/backoffice/workspace\";\nimport { UmbElementMixin } from \"@umbraco-cms/backoffice/element-api\";\nimport type { FormDataSource } from \"@umbraco-forms/generated\";\nimport { DateTimeOptions } from \"@umbraco-forms/entities\";\n\nconst elementName = \"workspace-view-datasource-info\";\n\n@customElement(elementName)\nexport class UmbWorkspaceViewDataSourceInfoElement\n  extends UmbElementMixin(LitElement)\n  implements UmbWorkspaceViewElement\n{\n  @state()\n  _dataSource?: FormDataSource;\n\n  #workspaceContext?: typeof FORMS_DATASOURCE_WORKSPACE_CONTEXT.TYPE;\n\n  constructor() {\n    super();\n\n    this.consumeContext(FORMS_DATASOURCE_WORKSPACE_CONTEXT, (instance) => {\n      this.#workspaceContext = instance;\n      this.#observeDataSource();\n    });\n  }\n\n  #observeDataSource() {\n    if (!this.#workspaceContext) return;\n\n    this.observe(this.#workspaceContext.data, (dataSource) => {\n      if (!dataSource) return;\n      this._dataSource = dataSource;\n    });\n  }\n\n  render() {\n    return html` <uui-box headline=${this.localize.term(\"general_general\")}>\n      <umb-property-layout label=\"Id\">\n        <div slot=\"editor\">${this._dataSource?.unique}</div>\n      </umb-property-layout>\n      ${when(\n        !this.#workspaceContext?.getIsNew(),\n        () => html`\n          <umb-property-layout\n            .label=${this.localize.term(\"content_createDate\")}\n          >\n            <umb-localize-date\n              slot=\"editor\"\n              .date=${this._dataSource?.created}\n              .options=${DateTimeOptions}\n            ></umb-localize-date>\n          </umb-property-layout>\n          ${when(\n            this._dataSource?.createdBy,\n            () =>\n              html` <umb-property-layout\n                .label=${this.localize.term(\"content_createBy\")}\n              >\n                <div slot=\"editor\">${this._dataSource?.createdByName}</div>\n              </umb-property-layout>`,\n          )}\n          <umb-property-layout\n            .label=${this.localize.term(\"content_updateDate\")}\n          >\n            <umb-localize-date\n              slot=\"editor\"\n              .date=${this._dataSource?.updated}\n              .options=${DateTimeOptions}\n            ></umb-localize-date>\n          </umb-property-layout>\n          ${when(\n            this._dataSource?.updatedBy,\n            () =>\n              html` <umb-property-layout\n                .label=${this.localize.term(\"content_updatedBy\")}\n              >\n                <div slot=\"editor\">${this._dataSource?.updatedByName}</div>\n              </umb-property-layout>`,\n          )}\n        `,\n      )}\n    </uui-box>`;\n  }\n\n  static styles = [\n    UmbTextStyles,\n    css`\n      :host {\n        display: block;\n        padding: var(--uui-size-layout-1);\n      }\n\n      uui-box {\n        margin-bottom: 20px;\n      }\n    `,\n  ];\n}\n\nexport default UmbWorkspaceViewDataSourceInfoElement;\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    [elementName]: UmbWorkspaceViewDataSourceInfoElement;\n  }\n}\n"],"names":["_workspaceContext","_UmbWorkspaceViewDataSourceInfoElement_instances","observeDataSource_fn","elementName","UmbWorkspaceViewDataSourceInfoElement","UmbElementMixin","LitElement","__privateAdd","FORMS_DATASOURCE_WORKSPACE_CONTEXT","instance","__privateSet","__privateMethod","html","_a","when","_b","__privateGet","DateTimeOptions","_c","_d","dataSource","UmbTextStyles","css","__decorateClass","state","customElement","UmbWorkspaceViewDataSourceInfoElement$1"],"mappings":";;;;;;;;;;wYAAAA,GAAAC,GAAAC;AAeA,MAAMC,IAAc;AAGb,IAAMC,IAAN,cACGC,EAAgBC,CAAU,EAEpC;AAAA,EAME,cAAc;AACZ,UAAA,GAVGC,EAAA,MAAAN,CAAA,GAOLM,EAAA,MAAAP,CAAA,GAKE,KAAK,eAAeQ,GAAoC,CAACC,MAAa;AACpE,MAAAC,EAAA,MAAKV,GAAoBS,CAAA,GACzBE,EAAA,MAAKV,GAAAC,CAAA,EAAL,KAAA,IAAA;AAAA,IAAA,CACD;AAAA,EAAA;AAAA,EAYH,SAAS;;AACP,WAAOU,uBAA0B,KAAK,SAAS,KAAK,iBAAiB,CAAC;AAAA;AAAA,8BAE7CC,IAAA,KAAK,gBAAL,gBAAAA,EAAkB,MAAM;AAAA;AAAA,QAE7CC;AAAA,MACA,GAACC,IAAAC,EAAA,MAAKhB,CAAA,MAAL,QAAAe,EAAwB;AAAA,MACzB;;AAAM,eAAAH;AAAA;AAAA,qBAEO,KAAK,SAAS,KAAK,oBAAoB,CAAC;AAAA;AAAA;AAAA;AAAA,uBAIvCC,IAAA,KAAK,gBAAL,gBAAAA,EAAkB,OAAO;AAAA,yBACtBI,CAAe;AAAA;AAAA;AAAA,YAG5BH;AAAA,WACAC,IAAA,KAAK,gBAAL,gBAAAA,EAAkB;AAAA,UAClB,MAAA;;AACE,mBAAAH;AAAA,yBACW,KAAK,SAAS,KAAK,kBAAkB,CAAC;AAAA;AAAA,sCAE1BC,IAAA,KAAK,gBAAL,gBAAAA,EAAkB,aAAa;AAAA;AAAA;AAAA,QAAA,CAEzD;AAAA;AAAA,qBAEU,KAAK,SAAS,KAAK,oBAAoB,CAAC;AAAA;AAAA;AAAA;AAAA,uBAIvCK,IAAA,KAAK,gBAAL,gBAAAA,EAAkB,OAAO;AAAA,yBACtBD,CAAe;AAAA;AAAA;AAAA,YAG5BH;AAAA,WACAK,IAAA,KAAK,gBAAL,gBAAAA,EAAkB;AAAA,UAClB,MAAA;;AACE,mBAAAP;AAAA,yBACW,KAAK,SAAS,KAAK,mBAAmB,CAAC;AAAA;AAAA,sCAE3BC,IAAA,KAAK,gBAAL,gBAAAA,EAAkB,aAAa;AAAA;AAAA;AAAA,QAAA,CAEzD;AAAA;AAAA;AAAA,IAAA,CAEJ;AAAA;AAAA,EAAA;AAiBP;AAlFEb,IAAA,oBAAA,QAAA;AAPKC,IAAA,oBAAA,QAAA;AAkBLC,IAAkB,WAAG;AACnB,EAAKc,QAAKhB,CAAA,KAEV,KAAK,QAAQgB,EAAA,MAAKhB,CAAA,EAAkB,MAAM,CAACoB,MAAe;AACxD,IAAKA,MACL,KAAK,cAAcA;AAAA,EAAA,CACpB;AACH;AAzBWhB,EA4EJ,SAAS;AAAA,EACdiB;AAAA,EACAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUF;AAnFAC,EAAA;AAAA,EADCC,EAAA;AAAM,GAJIpB,EAKX,WAAA,eAAA,CAAA;AALWA,IAANmB,EAAA;AAAA,EADNE,EAActB,CAAW;AAAA,GACbC,CAAA;AA2Fb,MAAAsB,IAAetB;"}