{"version":3,"file":"workspace-view-prevaluesource-info.element.js","sources":["../src/section/prevaluesources/workspace/views/info/workspace-view-prevaluesource-info.element.ts"],"sourcesContent":["import { FORMS_PREVALUESOURCE_WORKSPACE_CONTEXT } from \"../../prevaluesource-workspace.context-token.js\";\nimport { UmbTextStyles } from \"@umbraco-cms/backoffice/style\";\nimport {\n  css,\n  html,\n  customElement,\n  state,\n  LitElement,\n  when,\n} from \"@umbraco-cms/backoffice/external/lit\";\nimport type { UmbWorkspaceViewElement } from \"@umbraco-cms/backoffice/workspace\";\nimport { UmbElementMixin } from \"@umbraco-cms/backoffice/element-api\";\nimport type { FieldPreValueSource } from \"@umbraco-forms/generated\";\nimport { DateTimeOptions } from \"@umbraco-forms/entities\";\n\nconst elementName = \"workspace-view-prevaluesource-info\";\n\n@customElement(elementName)\nexport class UmbWorkspaceViewPrevalueSourceInfoElement\n  extends UmbElementMixin(LitElement)\n  implements UmbWorkspaceViewElement\n{\n  @state()\n  _prevalueSource?: FieldPreValueSource;\n\n  #workspaceContext?: typeof FORMS_PREVALUESOURCE_WORKSPACE_CONTEXT.TYPE;\n\n  constructor() {\n    super();\n\n    this.consumeContext(FORMS_PREVALUESOURCE_WORKSPACE_CONTEXT, (instance) => {\n      this.#workspaceContext = instance;\n      this.#observePrevalueSource();\n    });\n  }\n\n  #observePrevalueSource() {\n    if (!this.#workspaceContext) return;\n\n    this.observe(this.#workspaceContext.data, (prevalueSource) => {\n      if (!prevalueSource) return;\n      this._prevalueSource = prevalueSource;\n    });\n  }\n\n  render() {\n    return html` <uui-box headline=${this.localize.term(\"general_general\")}>\n      <umb-property-layout label=\"Id\">\n        <div slot=\"editor\">${this._prevalueSource?.unique}</div>\n      </umb-property-layout>\n      ${when(\n        !this.#workspaceContext?.getIsNew(),\n        () => html`\n          <umb-property-layout\n            .label=${this.localize.term(\"content_createDate\")}\n          >\n            <umb-localize-date\n              slot=\"editor\"\n              .date=${this._prevalueSource?.created}\n              .options=${DateTimeOptions}\n            ></umb-localize-date>\n          </umb-property-layout>\n          ${when(\n            this._prevalueSource?.createdBy,\n            () =>\n              html` <umb-property-layout\n                .label=${this.localize.term(\"content_createBy\")}\n              >\n                <div slot=\"editor\">${this._prevalueSource?.createdByName}</div>\n              </umb-property-layout>`,\n          )}\n          <umb-property-layout\n            .label=${this.localize.term(\"content_updateDate\")}\n          >\n            <umb-localize-date\n              slot=\"editor\"\n              .date=${this._prevalueSource?.updated}\n              .options=${DateTimeOptions}\n            ></umb-localize-date>\n          </umb-property-layout>\n          ${when(\n            this._prevalueSource?.updatedBy,\n            () =>\n              html` <umb-property-layout\n                .label=${this.localize.term(\"content_updatedBy\")}\n              >\n                <div slot=\"editor\">${this._prevalueSource?.updatedByName}</div>\n              </umb-property-layout>`,\n          )}\n        `,\n      )}\n    </uui-box>`;\n  }\n\n  static styles = [\n    UmbTextStyles,\n    css`\n      :host {\n        display: block;\n        padding: var(--uui-size-layout-1);\n      }\n\n      uui-box {\n        margin-bottom: 20px;\n      }\n    `,\n  ];\n}\n\nexport default UmbWorkspaceViewPrevalueSourceInfoElement;\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    [elementName]: UmbWorkspaceViewPrevalueSourceInfoElement;\n  }\n}\n"],"names":["_workspaceContext","_UmbWorkspaceViewPrevalueSourceInfoElement_instances","observePrevalueSource_fn","elementName","UmbWorkspaceViewPrevalueSourceInfoElement","UmbElementMixin","LitElement","__privateAdd","FORMS_PREVALUESOURCE_WORKSPACE_CONTEXT","instance","__privateSet","__privateMethod","html","_a","when","_b","__privateGet","DateTimeOptions","_c","_d","prevalueSource","UmbTextStyles","css","__decorateClass","state","customElement","UmbWorkspaceViewPrevalueSourceInfoElement$1"],"mappings":";;;;;;;;;;;wYAAAA,GAAAC,GAAAC;AAeA,MAAMC,IAAc;AAGb,IAAMC,IAAN,cACGC,EAAgBC,CAAU,EAEpC;AAAA,EAME,cAAc;AACZ,UAAA,GAVGC,EAAA,MAAAN,CAAA,GAOLM,EAAA,MAAAP,CAAA,GAKE,KAAK,eAAeQ,GAAwC,CAACC,MAAa;AACxE,MAAAC,EAAA,MAAKV,GAAoBS,CAAA,GACzBE,EAAA,MAAKV,GAAAC,CAAA,EAAL,KAAA,IAAA;AAAA,IAAA,CACD;AAAA,EAAA;AAAA,EAYH,SAAS;;AACP,WAAOU,uBAA0B,KAAK,SAAS,KAAK,iBAAiB,CAAC;AAAA;AAAA,8BAE7CC,IAAA,KAAK,oBAAL,gBAAAA,EAAsB,MAAM;AAAA;AAAA,QAEjDC;AAAA,MACA,GAACC,IAAAC,EAAA,MAAKhB,CAAA,MAAL,QAAAe,EAAwB;AAAA,MACzB;;AAAM,eAAAH;AAAA;AAAA,qBAEO,KAAK,SAAS,KAAK,oBAAoB,CAAC;AAAA;AAAA;AAAA;AAAA,uBAIvCC,IAAA,KAAK,oBAAL,gBAAAA,EAAsB,OAAO;AAAA,yBAC1BI,CAAe;AAAA;AAAA;AAAA,YAG5BH;AAAA,WACAC,IAAA,KAAK,oBAAL,gBAAAA,EAAsB;AAAA,UACtB,MAAA;;AACE,mBAAAH;AAAA,yBACW,KAAK,SAAS,KAAK,kBAAkB,CAAC;AAAA;AAAA,sCAE1BC,IAAA,KAAK,oBAAL,gBAAAA,EAAsB,aAAa;AAAA;AAAA;AAAA,QAAA,CAE7D;AAAA;AAAA,qBAEU,KAAK,SAAS,KAAK,oBAAoB,CAAC;AAAA;AAAA;AAAA;AAAA,uBAIvCK,IAAA,KAAK,oBAAL,gBAAAA,EAAsB,OAAO;AAAA,yBAC1BD,CAAe;AAAA;AAAA;AAAA,YAG5BH;AAAA,WACAK,IAAA,KAAK,oBAAL,gBAAAA,EAAsB;AAAA,UACtB,MAAA;;AACE,mBAAAP;AAAA,yBACW,KAAK,SAAS,KAAK,mBAAmB,CAAC;AAAA;AAAA,sCAE3BC,IAAA,KAAK,oBAAL,gBAAAA,EAAsB,aAAa;AAAA;AAAA;AAAA,QAAA,CAE7D;AAAA;AAAA;AAAA,IAAA,CAEJ;AAAA;AAAA,EAAA;AAiBP;AAlFEb,IAAA,oBAAA,QAAA;AAPKC,IAAA,oBAAA,QAAA;AAkBLC,IAAsB,WAAG;AACvB,EAAKc,QAAKhB,CAAA,KAEV,KAAK,QAAQgB,EAAA,MAAKhB,CAAA,EAAkB,MAAM,CAACoB,MAAmB;AAC5D,IAAKA,MACL,KAAK,kBAAkBA;AAAA,EAAA,CACxB;AACH;AAzBWhB,EA4EJ,SAAS;AAAA,EACdiB;AAAA,EACAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUF;AAnFAC,EAAA;AAAA,EADCC,EAAA;AAAM,GAJIpB,EAKX,WAAA,mBAAA,CAAA;AALWA,IAANmB,EAAA;AAAA,EADNE,EAActB,CAAW;AAAA,GACbC,CAAA;AA2Fb,MAAAsB,IAAetB;"}