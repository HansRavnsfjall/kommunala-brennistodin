{"version":3,"file":"restore-create-element-BK1DafJX.js","sources":["../../../usync-expansions-assets/src/restore/steps/restore-create-element.ts"],"sourcesContent":["import {\r\n\tJUMOO_PROCESSING_CONTEXT,\r\n\tPipelineContext,\r\n\tProcessStepElement,\r\n\tProcessStepElementBase,\r\n} from '@jumoo/processing';\r\nimport { css, customElement, html } from '@umbraco-cms/backoffice/external/lit';\r\nimport { uSyncRestore } from '@jumoo/usync-expansions';\r\nimport { RestorePointProcessingOptions } from '@jumoo/usync-expansions';\r\n\r\n@customElement(uSyncRestore.steps.restoreCreateStep)\r\nexport class uSyncRestoreCreateElement\r\n\textends ProcessStepElementBase\r\n\timplements ProcessStepElement\r\n{\r\n\t#pipelineContext?: PipelineContext;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.consumeContext(JUMOO_PROCESSING_CONTEXT, (context) => {\r\n\t\t\tthis.#pipelineContext = context;\r\n\t\t});\r\n\t}\r\n\r\n\t#onNameChange(e: Event) {\r\n\t\tif (!this.options) return;\r\n\r\n\t\tconst element = e.target as HTMLInputElement;\r\n\t\tif (!element) return;\r\n\r\n\t\tthis.#pipelineContext?.setPending({\r\n\t\t\ttitle: element.value,\r\n\t\t});\r\n\t}\r\n\r\n\t#onIncludeMedia(e: Event) {\r\n\t\tif (!this.options) return;\r\n\r\n\t\tconst element = e.target as HTMLInputElement;\r\n\t\tif (!element) return;\r\n\r\n\t\tthis.#pipelineContext?.setPending({\r\n\t\t\tincludeMedia: element.checked,\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn html`\r\n\t\t\t<umb-localize key=\"uSyncRestore_createIntro\"></umb-localize>\r\n\r\n\t\t\t${this.renderName()}\r\n\t\t`;\r\n\t}\r\n\r\n\trenderName() {\r\n\t\tconst options = this.options as RestorePointProcessingOptions;\r\n\r\n\t\treturn html`<umb-property-layout\r\n\t\t\t\tlabel=\"Name\"\r\n\t\t\t\tdescription=\"Give your restore point a name\"\r\n\t\t\t\torientation=\"vertical\">\r\n\t\t\t\t<div slot=\"editor\">\r\n\t\t\t\t\t<uui-input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tlabel=\"Name\"\r\n\t\t\t\t\t\t.value=${options.title}\r\n\t\t\t\t\t\t@change=${this.#onNameChange}></uui-input>\r\n\t\t\t\t</div>\r\n\t\t\t</umb-property-layout>\r\n\r\n\t\t\t<umb-property-layout\r\n\t\t\t\tlabel=\"Include Media\"\r\n\t\t\t\tdescription=\"Include media files in the restore point\">\r\n\t\t\t\t<div slot=\"editor\">\r\n\t\t\t\t\t<uui-checkbox\r\n\t\t\t\t\t\tlabel=\"Include Media\"\r\n\t\t\t\t\t\t.checked=${options.includeMedia}\r\n\t\t\t\t\t\t@change=${this.#onIncludeMedia}>\r\n\t\t\t\t\t</uui-checkbox>\r\n\t\t\t\t</div>\r\n\t\t\t</umb-property-layout>`;\r\n\t}\r\n\r\n\tstatic styles = css`\r\n\t\tuui-input {\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\t`;\r\n}\r\n\r\nexport default uSyncRestoreCreateElement;\r\n"],"names":["_pipelineContext","_uSyncRestoreCreateElement_instances","onNameChange_fn","onIncludeMedia_fn","uSyncRestoreCreateElement","ProcessStepElementBase","__privateAdd","JUMOO_PROCESSING_CONTEXT","context","__privateSet","html","options","__privateMethod","element","_a","__privateGet","css","__decorateClass","customElement","uSyncRestore","uSyncRestoreCreateElement$1"],"mappings":";;;;;;;;;wXAAAA,GAAAC,GAAAC,GAAAC;AAWa,IAAAC,IAAN,cACEC,EAET;AAAA,EAGC,cAAc;AACP,UAAA,GAPDC,EAAA,MAAAL,CAAA,GAINK,EAAA,MAAAN,CAAA,GAIM,KAAA,eAAeO,GAA0B,CAACC,MAAY;AAC1D,MAAAC,EAAA,MAAKT,GAAmBQ,CAAA;AAAA,IAAA,CACxB;AAAA,EAAA;AAAA,EAyBF,SAAS;AACD,WAAAE;AAAA;AAAA;AAAA,KAGJ,KAAK,WAAY,CAAA;AAAA;AAAA,EAAA;AAAA,EAIrB,aAAa;AACZ,UAAMC,IAAU,KAAK;AAEd,WAAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAQMC,EAAQ,KAAK;AAAA,gBACZC,QAAKX,GAAaC,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAUjBS,EAAQ,YAAY;AAAA,gBACrBC,QAAKX,GAAeE,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA,EAAA;AAWpC;AAzECH,IAAA,oBAAA,QAAA;AAJMC,IAAA,oBAAA,QAAA;AAaNC,IAAa,SAAC,GAAU;;AACnB,MAAA,CAAC,KAAK,QAAS;AAEnB,QAAMW,IAAU,EAAE;AAClB,EAAKA,OAELC,IAAAC,EAAA,MAAKf,OAAL,QAAAc,EAAuB,WAAW;AAAA,IACjC,OAAOD,EAAQ;AAAA,EAAA;AAEjB;AAEAV,IAAe,SAAC,GAAU;;AACrB,MAAA,CAAC,KAAK,QAAS;AAEnB,QAAMU,IAAU,EAAE;AAClB,EAAKA,OAELC,IAAAC,EAAA,MAAKf,OAAL,QAAAc,EAAuB,WAAW;AAAA,IACjC,cAAcD,EAAQ;AAAA,EAAA;AAExB;AAjCYT,EAwEL,SAASY;AAAA;AAAA;AAAA;AAAA;AAxEJZ,IAANa,EAAA;AAAA,EADNC,EAAcC,EAAa,MAAM,iBAAiB;AAAA,GACtCf,CAAA;AA+Eb,MAAAgB,IAAehB;"}