{"version":3,"file":"restore-report-config-element-D0aviESe.js","sources":["../../../usync-expansions-assets/src/restore/steps/restore-report-config-element.ts"],"sourcesContent":["import { ProcessStepElement, ProcessStepElementBase } from '@jumoo/processing';\r\nimport { TimeOptions, uSyncRestore } from '@jumoo/usync-expansions';\r\nimport {\r\n\tcss,\r\n\tcustomElement,\r\n\thtml,\r\n\tnothing,\r\n\tstate,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { RestorePoint, RestorePointProcessingOptions } from '@jumoo/usync-expansions';\r\nimport { SyncRestoreContext } from '@jumoo/usync-expansions';\r\n\r\n@customElement(uSyncRestore.steps.restoreReportConfigStep)\r\nexport class uSyncRestoreReportConfigElement\r\n\textends ProcessStepElementBase\r\n\timplements ProcessStepElement\r\n{\r\n\t#context: SyncRestoreContext;\r\n\r\n\t@state()\r\n\tkey?: string;\r\n\r\n\t@state()\r\n\trestorePoint: RestorePoint | undefined;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.#context = new SyncRestoreContext(this);\r\n\t}\r\n\r\n\tconnectedCallback(): void {\r\n\t\tsuper.connectedCallback();\r\n\r\n\t\tconst options = this.options as RestorePointProcessingOptions;\r\n\r\n\t\tif (!options) return;\r\n\t\tthis.key = options.key;\r\n\r\n\t\tthis.#context.getRestorePoint(options.key).then((restorePoint) => {\r\n\t\t\tconsole.log('restorePoint', restorePoint);\r\n\t\t\tthis.restorePoint = restorePoint;\r\n\t\t});\r\n\t}\r\n\r\n\trenderRestorePointInfo() {\r\n\t\tif (!this.restorePoint) return nothing;\r\n\r\n\t\treturn html`\r\n\t\t\t<uui-box .headline=${this.localize.term('uSyncRestore_restoreInfo')}>\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Name :</th>\r\n\t\t\t\t\t\t<td>${this.restorePoint.name}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Created :</th>\r\n\t\t\t\t\t\t<td>${this.localize.date(this.restorePoint.created, TimeOptions)}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Source Site :</th>\r\n\t\t\t\t\t\t<td>${this.restorePoint.machineName}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Source :</th>\r\n\t\t\t\t\t\t<td>${this.restorePoint.action}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>User:</th>\r\n\t\t\t\t\t\t<td>${this.restorePoint.user}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</uui-box>\r\n\t\t`;\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn html`<div class=\"wrapper\">\r\n\t\t\t<uui-box>\r\n\t\t\t\t<umb-localize key=\"uSyncRestore_restoreIntro\"></umb-localize>\r\n\t\t\t</uui-box>\r\n\t\t\t${this.renderRestorePointInfo()}\r\n\t\t</div>`;\r\n\t}\r\n\r\n\tstatic styles = css`\r\n\t\t.wrapper {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tgap: var(--uui-size-space-4);\r\n\t\t}\r\n\r\n\t\t.red {\r\n\t\t\tcolor: red;\r\n\t\t}\r\n\r\n\t\ttable th {\r\n\t\t\ttext-align: right;\r\n\t\t}\r\n\t`;\r\n}\r\n\r\nexport default uSyncRestoreReportConfigElement;\r\n"],"names":["_context","uSyncRestoreReportConfigElement","ProcessStepElementBase","__privateAdd","__privateSet","SyncRestoreContext","options","__privateGet","restorePoint","html","TimeOptions","nothing","css","__decorateClass","state","customElement","uSyncRestore","uSyncRestoreReportConfigElement$1"],"mappings":";;;;;;;;;gVAAAA;AAaa,IAAAC,IAAN,cACEC,EAET;AAAA,EASC,cAAc;AACP,UAAA,GATPC,EAAA,MAAAH,CAAA,GAUMI,EAAA,MAAAJ,GAAW,IAAIK,EAAmB,IAAI,CAAA;AAAA,EAAA;AAAA,EAG5C,oBAA0B;AACzB,UAAM,kBAAkB;AAExB,UAAMC,IAAU,KAAK;AAErB,IAAKA,MACL,KAAK,MAAMA,EAAQ,KAEnBC,EAAA,MAAKP,GAAS,gBAAgBM,EAAQ,GAAG,EAAE,KAAK,CAACE,MAAiB;AACzD,cAAA,IAAI,gBAAgBA,CAAY,GACxC,KAAK,eAAeA;AAAA,IAAA,CACpB;AAAA,EAAA;AAAA,EAGF,yBAAyB;AACpB,WAAC,KAAK,eAEHC;AAAA,wBACe,KAAK,SAAS,KAAK,0BAA0B,CAAC;AAAA;AAAA;AAAA;AAAA,YAI1D,KAAK,aAAa,IAAI;AAAA;AAAA;AAAA;AAAA,YAItB,KAAK,SAAS,KAAK,KAAK,aAAa,SAASC,CAAW,CAAC;AAAA;AAAA;AAAA;AAAA,YAI1D,KAAK,aAAa,WAAW;AAAA;AAAA;AAAA;AAAA,YAI7B,KAAK,aAAa,MAAM;AAAA;AAAA;AAAA;AAAA,YAIxB,KAAK,aAAa,IAAI;AAAA;AAAA;AAAA;AAAA,MAvBDC;AAAA,EAuBC;AAAA,EAOjC,SAAS;AACD,WAAAF;AAAA;AAAA;AAAA;AAAA,KAIJ,KAAK,uBAAwB,CAAA;AAAA;AAAA,EAAA;AAmBlC;AAlFCT,IAAA,oBAAA,QAAA;AAJYC,EAuEL,SAASW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAhEhBC,EAAA;AAAA,EADCC,EAAM;AAAA,GANKb,EAOZ,WAAA,OAAA,CAAA;AAGAY,EAAA;AAAA,EADCC,EAAM;AAAA,GATKb,EAUZ,WAAA,gBAAA,CAAA;AAVYA,IAANY,EAAA;AAAA,EADNE,EAAcC,EAAa,MAAM,uBAAuB;AAAA,GAC5Cf,CAAA;AAwFb,MAAAgB,IAAehB;"}