{"version":3,"file":"export-config-step-CYAzama4.js","sources":["../../../usync-exporter-assets/src/processing/export/export-config-step.ts"],"sourcesContent":["import {\r\n\tJUMOO_PROCESSING_CONTEXT,\r\n\tPipelineContext,\r\n\tProcessStepElement,\r\n\tProcessStepElementBase,\r\n} from '@jumoo/processing';\r\nimport { css, customElement, html, nothing } from '@umbraco-cms/backoffice/external/lit';\r\nimport { uSyncExporterSteps } from '../constants';\r\nimport { ExporterSyncPackProcessingOptions } from '../../api';\r\n\r\n@customElement(uSyncExporterSteps.export.config)\r\nexport class uSyncExportConfigStep\r\n\textends ProcessStepElementBase\r\n\timplements ProcessStepElement\r\n{\r\n\t#pipelineContext?: PipelineContext;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(JUMOO_PROCESSING_CONTEXT, (context) => {\r\n\t\t\tthis.#pipelineContext = context;\r\n\t\t});\r\n\t}\r\n\r\n\t#onNameChange(e: Event) {\r\n\t\tif (!this.options) return;\r\n\r\n\t\tconst element = e.target as HTMLInputElement;\r\n\t\tif (!element) return;\r\n\t\tthis.#pipelineContext?.setPending({ name: element.value });\r\n\t}\r\n\r\n\t#onOptionChange(e: Event) {\r\n\t\tif (!this.options) return;\r\n\t\tconst element = e.target as HTMLInputElement;\r\n\t\tif (!element) return;\r\n\r\n\t\tconst option = element.getAttribute('data-option');\r\n\t\tif (!option) return;\r\n\r\n\t\tthis.#pipelineContext?.setPending({ [option]: element.checked });\r\n\t}\r\n\r\n\trender() {\r\n\t\tvar options = this.options as ExporterSyncPackProcessingOptions;\r\n\t\tif (!options?.items) return nothing;\r\n\r\n\t\treturn html`\r\n\t\t\t<umb-localize key=\"uSyncExport_packSummary\"></umb-localize>\r\n\r\n\t\t\t<umb-property-layout label=\"Pack name\" orientation=\"vertical\">\r\n\t\t\t\t<div slot=\"editor\">\r\n\t\t\t\t\t<uui-input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tlabel=\"Name\"\r\n\t\t\t\t\t\t.value=\"${options.name ?? ''}\"\r\n\t\t\t\t\t\t@change=${this.#onNameChange}></uui-input>\r\n\t\t\t\t</div>\r\n\t\t\t</umb-property-layout>\r\n\r\n\t\t\t<p>Choose what \"extra\" things should be included in this pack.</p>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<uui-toggle\r\n\t\t\t\t\tlabel=\"Include Files\"\r\n\t\t\t\t\t.checked=${options.includeFiles}\r\n\t\t\t\t\tdata-option=\"includeFiles\"\r\n\t\t\t\t\t@change=${this.#onOptionChange}></uui-toggle>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<uui-toggle\r\n\t\t\t\t\tlabel=\"Include Config (e.g Domains, Public access)\"\r\n\t\t\t\t\t.checked=${options.includeConfig}\r\n\t\t\t\t\tdata-option=\"includeConfig\"\r\n\t\t\t\t\t@change=${this.#onOptionChange}></uui-toggle>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<uui-toggle\r\n\t\t\t\t\tlabel=\"Include Media Files\"\r\n\t\t\t\t\tdata-option=\"includeMediaFiles\"\r\n\t\t\t\t\t.checked=${options.includeMediaFiles}\r\n\t\t\t\t\t@change=${this.#onOptionChange}></uui-toggle>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic styles = css`\r\n\t\tuui-input {\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\r\n\t\tul {\r\n\t\t\tpadding: 0 5px;\r\n\t\t\tmargin: 0;\r\n\t\t\tlist-style-position: inside;\r\n\t\t}\r\n\t`;\r\n}\r\n\r\nexport default uSyncExportConfigStep;\r\n"],"names":["_pipelineContext","_uSyncExportConfigStep_instances","onNameChange_fn","onOptionChange_fn","uSyncExportConfigStep","ProcessStepElementBase","__privateAdd","JUMOO_PROCESSING_CONTEXT","context","__privateSet","options","html","__privateMethod","nothing","element","_a","__privateGet","option","css","__decorateClass","customElement","uSyncExporterSteps","uSyncExportConfigStep$1"],"mappings":";;;;;;;;;wXAAAA,GAAAC,GAAAC,GAAAC;AAWa,IAAAC,IAAN,cACEC,EAET;AAAA,EAGC,cAAc;AACP,UAAA,GAPDC,EAAA,MAAAL,CAAA,GAINK,EAAA,MAAAN,CAAA,GAKM,KAAA,eAAeO,GAA0B,CAACC,MAAY;AAC1D,MAAAC,EAAA,MAAKT,GAAmBQ,CAAA;AAAA,IAAA,CACxB;AAAA,EAAA;AAAA,EAsBF,SAAS;AACR,QAAIE,IAAU,KAAK;AACf,WAACA,KAAA,QAAAA,EAAS,QAEPC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAQOD,EAAQ,QAAQ,EAAE;AAAA,gBAClBE,QAAKX,GAAaC,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBASlBQ,EAAQ,YAAY;AAAA;AAAA,eAErBE,QAAKX,GAAeE,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAMnBO,EAAQ,aAAa;AAAA;AAAA,eAEtBE,QAAKX,GAAeE,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAMnBO,EAAQ,iBAAiB;AAAA,eAC1BE,QAAKX,GAAeE,CAAA,CAAA;AAAA;AAAA,MArCLU;AAAA,EAqCK;AAgBnC;AApFCb,IAAA,oBAAA,QAAA;AAJMC,IAAA,oBAAA,QAAA;AAcNC,IAAa,SAAC,GAAU;;AACnB,MAAA,CAAC,KAAK,QAAS;AAEnB,QAAMY,IAAU,EAAE;AAClB,EAAKA,OACLC,IAAAC,EAAA,MAAKhB,OAAL,QAAAe,EAAuB,WAAW,EAAE,MAAMD,EAAQ;AACnD;AAEAX,IAAe,SAAC,GAAU;;AACrB,MAAA,CAAC,KAAK,QAAS;AACnB,QAAMW,IAAU,EAAE;AAClB,MAAI,CAACA,EAAS;AAER,QAAAG,IAASH,EAAQ,aAAa,aAAa;AACjD,EAAKG,OAEAF,IAAAC,EAAA,MAAAhB,CAAA,MAAA,QAAAe,EAAkB,WAAW,EAAE,CAACE,CAAM,GAAGH,EAAQ;AACvD;AA/BYV,EA6EL,SAASc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA7EJd,IAANe,EAAA;AAAA,EADNC,EAAcC,EAAmB,OAAO,MAAM;AAAA,GAClCjB,CAAA;AA0Fb,MAAAkB,IAAelB;"}