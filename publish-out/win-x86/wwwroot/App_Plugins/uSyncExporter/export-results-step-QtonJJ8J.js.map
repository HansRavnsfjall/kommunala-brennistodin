{"version":3,"file":"export-results-step-QtonJJ8J.js","sources":["../../../usync-exporter-assets/src/processing/export/export-results-step.ts"],"sourcesContent":["import { ProcessStepElement, ProcessStepElementBase } from '@jumoo/processing';\r\nimport { css, customElement, html } from '@umbraco-cms/backoffice/external/lit';\r\nimport { uSyncExporterSteps } from '../constants';\r\nimport SyncExporterService from '../../shared/exporter.service';\r\nimport { ExporterSyncPackProcessingOptions } from '../../api';\r\n\r\n@customElement(uSyncExporterSteps.export.results)\r\nexport class uSyncExportReportStep\r\n\textends ProcessStepElementBase\r\n\timplements ProcessStepElement\r\n{\r\n\t#exporterService: SyncExporterService;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.#exporterService = new SyncExporterService(this);\r\n\t}\r\n\r\n\tasync #downloadExport() {\r\n\t\tif (!this.pipelineId || !this.options) return;\r\n\r\n\t\tconst syncPackOptions = this.options as unknown as ExporterSyncPackProcessingOptions;\r\n\r\n\t\tawait this.#exporterService.getExport(this.pipelineId, syncPackOptions.name);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst actions = this.results?.results['actions'] as any[];\r\n\t\tconst count = actions?.length ?? 0;\r\n\r\n\t\treturn html`\r\n\t\t\t<umb-localize key=\"uSyncExport_packComplete\"></umb-localize>\r\n\r\n\t\t\t<div class=\"download\">\r\n\t\t\t\t<uui-button\r\n\t\t\t\t\t@click=${this.#downloadExport}\r\n\t\t\t\t\tcolor=\"positive\"\r\n\t\t\t\t\tlook=\"primary\"\r\n\t\t\t\t\tlabel=\"Download export\"\r\n\t\t\t\t\t><div>\r\n\t\t\t\t\t\t<umb-icon name=\"icon-download\"></umb-icon> Download export\r\n\t\t\t\t\t</div></uui-button\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\r\n\t\t\t<p>\r\n\t\t\t\t<em>Exported Sync-pack contains ${count} items</em>\r\n\t\t\t</p>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic styles = css`\r\n\t\tuui-button > div {\r\n\t\t\tdisplay: flex;\r\n\t\t\tfont-size: 14pt;\r\n\t\t\tgap: 10px;\r\n\t\t}\r\n\r\n\t\t.download {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-content: center;\r\n\t\t\tjustify-content: center;\r\n\t\t}\r\n\t`;\r\n}\r\n\r\nexport default uSyncExportReportStep;\r\n"],"names":["_exporterService","_uSyncExportReportStep_instances","downloadExport_fn","uSyncExportReportStep","ProcessStepElementBase","__privateAdd","__privateSet","SyncExporterService","actions","_a","count","html","__privateMethod","syncPackOptions","__privateGet","css","__decorateClass","customElement","uSyncExporterSteps","uSyncExportReportStep$1"],"mappings":";;;;;;;;;;wYAAAA,GAAAC,GAAAC;AAOa,IAAAC,IAAN,cACEC,EAET;AAAA,EAGC,cAAc;AACP,UAAA,GAPDC,EAAA,MAAAJ,CAAA,GAINI,EAAA,MAAAL,CAAA,GAKMM,EAAA,MAAAN,GAAmB,IAAIO,EAAoB,IAAI,CAAA;AAAA,EAAA;AAAA,EAWrD,SAAS;;AACR,UAAMC,KAAUC,IAAA,KAAK,YAAL,gBAAAA,EAAc,QAAQ,SAChCC,KAAQF,KAAA,gBAAAA,EAAS,WAAU;AAE1B,WAAAG;AAAA;AAAA;AAAA;AAAA;AAAA,cAKKC,QAAKX,GAAeC,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAWIQ,CAAK;AAAA;AAAA;AAAA,EAAA;AAkB3C;AAtDCV,IAAA,oBAAA,QAAA;AAJMC,IAAA,oBAAA,QAAA;AAYAC,IAAe,iBAAG;AACvB,MAAI,CAAC,KAAK,cAAc,CAAC,KAAK,QAAS;AAEvC,QAAMW,IAAkB,KAAK;AAE7B,QAAMC,QAAKd,CAAiB,EAAA,UAAU,KAAK,YAAYa,EAAgB,IAAI;AAC5E;AAlBYV,EA6CL,SAASY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA7CJZ,IAANa,EAAA;AAAA,EADNC,EAAcC,EAAmB,OAAO,OAAO;AAAA,GACnCf,CAAA;AA4Db,MAAAgB,IAAehB;"}