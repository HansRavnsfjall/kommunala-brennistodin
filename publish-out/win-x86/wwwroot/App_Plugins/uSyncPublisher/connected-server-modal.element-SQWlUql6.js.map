{"version":3,"file":"connected-server-modal.element-SQWlUql6.js","sources":["../../../usync-publisher-assets/src/servers/pickers/connected-server-modal.element.ts"],"sourcesContent":["import { UmbModalBaseElement } from '@umbraco-cms/backoffice/modal';\r\nimport {\r\n\tSyncPublisherConnectedServerData,\r\n\tSyncPublisherConnectedServerValue,\r\n} from './connected-server-modal.token';\r\nimport { SyncPublishServerView, USyncAllowedServer } from '../../api';\r\nimport { customElement, html, state } from '@umbraco-cms/backoffice/external/lit';\r\n\r\n/**\r\n * @description modal dialog to let the user pick a server to connect to.\r\n */\r\n@customElement('usync-publisher-connected-server-modal')\r\nexport class uSyncPublisherConnectedServerModalElement extends UmbModalBaseElement<\r\n\tSyncPublisherConnectedServerData,\r\n\tSyncPublisherConnectedServerValue\r\n> {\r\n\t@state()\r\n\tpicked: boolean = false;\r\n\r\n\t@state()\r\n\tallowedServer?: USyncAllowedServer;\r\n\r\n\t#onCancel() {\r\n\t\tthis.modalContext?.reject();\r\n\t}\r\n\r\n\t#onSubmit() {\r\n\t\tthis.value = { allowedServer: this.allowedServer };\r\n\t\tthis.modalContext?.submit();\r\n\t}\r\n\r\n\t#onServerSelect(e: CustomEvent<SyncPublishServerView>) {\r\n\t\tif (!e.detail) return;\r\n\r\n\t\tthis.allowedServer = {\r\n\t\t\tname: e.detail.name,\r\n\t\t\talias: e.detail.alias,\r\n\t\t\ticon: e.detail.icon,\r\n\t\t\tpull: true,\r\n\t\t\tpush: true,\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout .headline=${this.localize.term('usyncpublish_pickServer')}>\r\n\t\t\t\t${this.renderPicker()}\r\n\t\t\t\t<div slot=\"actions\">${this.renderActions()}</div>\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\trenderPicker() {\r\n\t\treturn html`\r\n\t\t\t<usync-publisher-server-picker\r\n\t\t\t\t.performCheck=${false}\r\n\t\t\t\t.showAll=${true}\r\n\t\t\t\t@server-selected=${this.#onServerSelect}></usync-publisher-server-picker>\r\n\t\t`;\r\n\t}\r\n\r\n\trenderActions() {\r\n\t\treturn html`\r\n\t\t\t<uui-button\r\n\t\t\t\tid=\"cancel\"\r\n\t\t\t\t.label=${this.localize.term('general_cancel')}\r\n\t\t\t\t@click=${this.#onCancel}></uui-button>\r\n\t\t\t<uui-button\r\n\t\t\t\tid=\"submit\"\r\n\t\t\t\t.label=${this.localize.term('general_submit')}\r\n\t\t\t\tlook=\"primary\"\r\n\t\t\t\tcolor=\"positive\"\r\n\t\t\t\t.disabled=${this.allowedServer == null}\r\n\t\t\t\t@click=${this.#onSubmit}></uui-button>\r\n\t\t`;\r\n\t}\r\n}\r\n\r\nexport default uSyncPublisherConnectedServerModalElement;\r\n"],"names":["_uSyncPublisherConnectedServerModalElement_instances","onCancel_fn","onSubmit_fn","onServerSelect_fn","uSyncPublisherConnectedServerModalElement","UmbModalBaseElement","__privateAdd","html","__privateMethod","_a","__decorateClass","state","customElement","uSyncPublisherConnectedServerModalElement$1"],"mappings":";;;;;;;;8OAAAA,GAAAC,GAAAC,GAAAC;AAYa,IAAAC,IAAN,cAAwDC,EAG7D;AAAA,EAHK,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAN,CAAA,GAKY,KAAA,SAAA;AAAA,EAAA;AAAA,EA0BlB,SAAS;AACD,WAAAO;AAAA,gCACuB,KAAK,SAAS,KAAK,yBAAyB,CAAC;AAAA,MACvE,KAAK,aAAc,CAAA;AAAA,0BACC,KAAK,eAAe;AAAA;AAAA;AAAA,EAAA;AAAA,EAK7C,eAAe;AACP,WAAAA;AAAA;AAAA,oBAEW,EAAK;AAAA,eACV,EAAI;AAAA,uBACIC,QAAKR,GAAeG,CAAA,CAAA;AAAA;AAAA,EAAA;AAAA,EAI1C,gBAAgB;AACR,WAAAI;AAAA;AAAA;AAAA,aAGI,KAAK,SAAS,KAAK,gBAAgB,CAAC;AAAA,aACpCC,QAAKR,GAASC,CAAA,CAAA;AAAA;AAAA;AAAA,aAGd,KAAK,SAAS,KAAK,gBAAgB,CAAC;AAAA;AAAA;AAAA,gBAGjC,KAAK,iBAAiB,IAAI;AAAA,aAC7BO,QAAKR,GAASE,CAAA,CAAA;AAAA;AAAA,EAAA;AAG3B;AAhEOF,IAAA,oBAAA,QAAA;AAUNC,IAAS,WAAG;;AACX,GAAAQ,IAAA,KAAK,iBAAL,QAAAA,EAAmB;AACpB;AAEAP,IAAS,WAAG;;AACX,OAAK,QAAQ,EAAE,eAAe,KAAK,cAAc,IACjDO,IAAA,KAAK,iBAAL,QAAAA,EAAmB;AACpB;AAEAN,IAAe,SAAC,GAAuC;AAClD,EAAC,EAAE,WAEP,KAAK,gBAAgB;AAAA,IACpB,MAAM,EAAE,OAAO;AAAA,IACf,OAAO,EAAE,OAAO;AAAA,IAChB,MAAM,EAAE,OAAO;AAAA,IACf,MAAM;AAAA,IACN,MAAM;AAAA,EACP;AACD;AAxBAO,EAAA;AAAA,EADCC,EAAM;AAAA,GAJKP,EAKZ,WAAA,UAAA,CAAA;AAGAM,EAAA;AAAA,EADCC,EAAM;AAAA,GAPKP,EAQZ,WAAA,iBAAA,CAAA;AARYA,IAANM,EAAA;AAAA,EADNE,EAAc,wCAAwC;AAAA,GAC1CR,CAAA;AAkEb,MAAAS,IAAeT;"}