{"version":3,"file":"index-DFDZ_Jke.js","sources":["../../../usync-publisher-assets/src/api/types.gen.ts","../../../usync-publisher-assets/node_modules/@hey-api/client-fetch/dist/index.js","../../../usync-publisher-assets/src/api/client.gen.ts","../../../usync-publisher-assets/src/api/sdk.gen.ts","../../../usync-publisher-assets/src/change/entities.ts","../../../usync-publisher-assets/src/change/details.modal.token.ts","../../../usync-publisher-assets/src/browsers/browser.source.ts","../../../usync-publisher-assets/src/browsers/browser.repository.ts","../../../usync-publisher-assets/src/change/details.modal.element.ts","../../../usync-publisher-assets/src/change/views/details.element.ts","../../../usync-publisher-assets/src/change/views/compare.element.ts","../../../usync-publisher-assets/src/strategies/components/report-view.ts","../../../usync-publisher-assets/src/strategies/components/yes-no.element.ts","../../../usync-publisher-assets/src/strategies/components/sync-options.element.ts","../../../usync-publisher-assets/src/strategies/components/grouped-report-table.ts","../../../usync-publisher-assets/src/servers/servers.source.ts","../../../usync-publisher-assets/src/servers/servers.repository.ts","../../../usync-publisher-assets/src/servers/servers.context.ts","../../../usync-publisher-assets/src/components/publisher-server.button.ts","../../../usync-publisher-assets/src/components/publisher-server.status.ts","../../../usync-publisher-assets/src/components/publisher-server.list.ts","../../../usync-publisher-assets/src/components/publisher-template.list.ts","../../../usync-publisher-assets/src/components/publisher-server.picker.ts","../../../usync-publisher-assets/src/components/publisher-yes-no-server.option.ts","../../../usync-publisher-assets/src/components/usync-object-debug.element.ts","../../../usync-publisher-assets/src/servers/components/server-sync-settings.element.ts","../../../usync-publisher-assets/src/servers/components/usergroup-picker.element.ts","../../../usync-publisher-assets/src/servers/_constants.ts","../../../usync-publisher-assets/src/servers/pickers/connected-server-modal.token.ts","../../../usync-publisher-assets/src/servers/pickers/connected-servers-property.element.ts","../../../usync-publisher-assets/src/constants.ts","../../../usync-publisher-assets/src/servers/workspace/server-item/components/sync-settings-list.element.ts","../../../usync-publisher-assets/src/servers/workspace/server-workspace-shared.context.ts","../../../usync-publisher-assets/src/servers/publishers/models.ts","../../../usync-publisher-assets/src/browsers/browser.context.ts","../../../usync-publisher-assets/src/browsers/dashboard/content-browser-dashboard.element.ts","../../../usync-publisher-assets/src/browsers/components/browser-folder-view.element.ts","../../../usync-publisher-assets/src/browsers/components/browser-folder-path.element.ts","../../../usync-publisher-assets/src/settings/manifest.ts","../../../usync-publisher-assets/src/servers/tree/entity.ts","../../../usync-publisher-assets/src/servers/tree/server-tree.data-source.ts","../../../usync-publisher-assets/src/servers/tree/server-tree.store.ts","../../../usync-publisher-assets/src/servers/tree/server-tree.repository.ts","../../../usync-publisher-assets/src/servers/tree/manifest.ts","../../../usync-publisher-assets/src/servers/workspace/_constants.ts","../../../usync-publisher-assets/src/servers/server/entity.ts","../../../usync-publisher-assets/src/servers/workspace/server-item/views/_manifests.ts","../../../usync-publisher-assets/src/servers/workspace/server-item/server-workspace.context.ts","../../../usync-publisher-assets/src/servers/workspace/server-item/actions/save-action.ts","../../../usync-publisher-assets/src/servers/workspace/server-item/actions/_manifests.ts","../../../usync-publisher-assets/src/servers/workspace/server-item/_manifest.ts","../../../usync-publisher-assets/src/servers/workspace/server-root/actions/sync-action.ts","../../../usync-publisher-assets/src/servers/workspace/server-root/server-root-workspace.context.ts","../../../usync-publisher-assets/src/servers/workspace/server-root/actions/save-action.ts","../../../usync-publisher-assets/src/servers/workspace/server-root/actions/_manifest.ts","../../../usync-publisher-assets/src/servers/workspace/server-root/views/_manifests.ts","../../../usync-publisher-assets/src/servers/workspace/server-root/_manifest.ts","../../../usync-publisher-assets/src/servers/workspace/_manifest.ts","../../../usync-publisher-assets/src/servers/pickers/manifest.ts","../../../usync-publisher-assets/src/servers/modals/manifest.ts","../../../usync-publisher-assets/src/servers/publishers/manifest.ts","../../../usync-publisher-assets/src/servers/_manifest.ts","../../../usync-publisher-assets/src/permissions/constants.ts","../../../usync-publisher-assets/src/actions/kinds.ts","../../../usync-publisher-assets/src/actions/manifest.ts","../../../usync-publisher-assets/src/browsers/manifests.ts","../../../usync-publisher-assets/src/change/manifest.ts","../../../usync-publisher-assets/src/strategies/modal/process-modal.token.ts","../../../usync-publisher-assets/src/strategies/modal/manifest.ts","../../../usync-publisher-assets/src/strategies/constants.ts","../../../usync-publisher-assets/src/strategies/common/manifest.ts","../../../usync-publisher-assets/src/strategies/manifests.ts","../../../usync-publisher-assets/src/lang/manifests.ts","../../../usync-publisher-assets/src/conditions/push.condition.ts","../../../usync-publisher-assets/src/conditions/query.condition.ts","../../../usync-publisher-assets/src/conditions/usync-dashboard-permission.condition.ts","../../../usync-publisher-assets/src/conditions/manifests.ts","../../../usync-publisher-assets/src/permissions/manifest.ts","../../../usync-publisher-assets/src/index.ts"],"sourcesContent":["// This file is auto-generated by @hey-api/openapi-ts\n\nexport type AppKeySetupResult = {\n    appId: string;\n    appKey: string;\n    json: string;\n};\n\nexport type AppKeyView = {\n    appId?: string | null;\n    appKey?: string | null;\n};\n\nexport type BadRequest = {\n    readonly statusCode: number;\n};\n\nexport enum ChangeDetailType {\n    NO_CHANGE = 'NoChange',\n    CREATE = 'Create',\n    UPDATE = 'Update',\n    DELETE = 'Delete',\n    ERROR = 'Error',\n    WARNING = 'Warning'\n}\n\nexport enum ChangeType {\n    NO_CHANGE = 'NoChange',\n    CREATE = 'Create',\n    IMPORT = 'Import',\n    EXPORT = 'Export',\n    UPDATE = 'Update',\n    DELETE = 'Delete',\n    WILL_CHANGE = 'WillChange',\n    INFORMATION = 'Information',\n    ROLLEDBACK = 'Rolledback',\n    FAIL = 'Fail',\n    IMPORT_FAIL = 'ImportFail',\n    MISMATCH = 'Mismatch',\n    PARENT_MISSING = 'ParentMissing',\n    HIDDEN = 'Hidden',\n    CLEAN = 'Clean',\n    REMOVED = 'Removed'\n}\n\nexport type CustomPublisherOptions = {\n    releaseDate?: string | null;\n};\n\nexport enum DependencyFlags {\n    NONE = 'None',\n    INCLUDE_CHILDREN = 'IncludeChildren',\n    INCLUDE_ANCESTORS = 'IncludeAncestors',\n    INCLUDE_DEPENDENCIES = 'IncludeDependencies',\n    INCLUDE_VIEWS = 'IncludeViews',\n    INCLUDE_MEDIA = 'IncludeMedia',\n    INCLUDE_LINKED = 'IncludeLinked',\n    INCLUDE_MEDIA_FILES = 'IncludeMediaFiles',\n    INCLUDE_CONFIG = 'IncludeConfig',\n    ADJACENT_ONLY = 'AdjacentOnly',\n    ROOT_SYNC = 'RootSync',\n    INCLUDE_CONTENTS = 'IncludeContents',\n    PUBLISHED_DEPENDENCIES = 'PublishedDependencies'\n}\n\nexport enum EventMessageTypeModel {\n    DEFAULT = 'Default',\n    INFO = 'Info',\n    ERROR = 'Error',\n    SUCCESS = 'Success',\n    WARNING = 'Warning'\n}\n\nexport type NotificationHeaderModel = {\n    message: string;\n    category: string;\n    type: EventMessageTypeModel;\n};\n\nexport type PagedSyncServerItemResponseModel = {\n    total: number;\n    items: Array<SyncServerItemResponseModel>;\n};\n\nexport type ProblemDetails = {\n    type?: string | null;\n    title?: string | null;\n    status?: number | null;\n    detail?: string | null;\n    instance?: string | null;\n    [key: string]: unknown | (string | null) | (string | null) | (number | null) | (string | null) | (string | null) | undefined;\n};\n\nexport enum PublishMode {\n    PUSH = 'Push',\n    PULL = 'Pull',\n    PUSH_MEDIA = 'PushMedia',\n    PULL_MEDIA = 'PullMedia',\n    REPORT = 'Report',\n    CONFIG_PUSH = 'ConfigPush',\n    CONFIG_PULL = 'ConfigPull',\n    SETTINGS_PUSH = 'SettingsPush',\n    SETTINGS_PULL = 'SettingsPull',\n    FILE_PUSH = 'FilePush',\n    FILE_PULL = 'FilePull',\n    SEED = 'Seed',\n    SYNC_SETUP = 'SyncSetup',\n    ANY = 'Any'\n}\n\nexport type PublisherProcessingOptions = {\n    mode: PublishMode;\n    server?: string | null;\n    entityType?: string | null;\n    items: Array<SyncItem>;\n    publisherOptions?: SyncPublisherOptions | null;\n    isBackgroundRequest?: boolean | null;\n    pageSize?: number | null;\n    createRestorePoint: boolean;\n    handlerGroup?: string | null;\n    handlerSet?: string | null;\n    siteAssemblyName?: string | null;\n    custom?: CustomPublisherOptions | null;\n    cultures?: Array<string> | null;\n    $type: string;\n    [key: string]: unknown | PublishMode | (string | null) | (string | null) | Array<SyncItem> | (SyncPublisherOptions | null) | (boolean | null) | (number | null) | boolean | (string | null) | (string | null) | (string | null) | (CustomPublisherOptions | null) | (Array<string> | null) | string | undefined;\n};\n\nexport type ReferenceByIdModel = {\n    id: string;\n};\n\nexport type ServerSyncRequest = {\n    servers: Array<string>;\n};\n\nexport type ServerSyncResult = {\n    success: boolean;\n    servers: {\n        [key: string]: boolean;\n    };\n};\n\nexport type SiteSeedStatus = {\n    isEnabled: boolean;\n    seedServerUrl: string;\n    hasContentOrMedia: boolean;\n};\n\nexport type SplitEntityView = {\n    local?: USyncEntityView | null;\n    remote?: USyncEntityView | null;\n};\n\nexport type SyncBrowserItemChange = {\n    udi?: UdiModel | null;\n    action: USyncActionView;\n};\n\nexport type SyncEntity = {\n    name: string;\n    icon?: string | null;\n    udi: UdiModel;\n    readonly entityType: string;\n};\n\nexport type SyncItem = {\n    name: string;\n    icon?: string | null;\n    udi: UdiModel;\n    readonly entityType: string;\n    flags: DependencyFlags;\n    change: ChangeType;\n};\n\nexport type SyncLocalItem = {\n    id?: string | null;\n    name?: string | null;\n    udi?: UdiModel | null;\n    entityType?: string | null;\n    allVariants: {\n        [key: string]: SyncVariantInfo;\n    };\n    requiresFiles: boolean;\n    hasChildren: boolean;\n};\n\nexport type SyncPublishAvailableServerRequest = {\n    mode: PublishMode;\n    udi?: string | null;\n    entityType?: string | null;\n    enabledOnly: boolean;\n};\n\nexport type SyncPublishServerCopyView = {\n    alias: string;\n    name: string;\n    url: string;\n};\n\nexport type SyncPublishServerView = {\n    key: string;\n    id: string;\n    alias: string;\n    enabled: boolean;\n    pullEnabled: boolean;\n    name: string;\n    description?: string | null;\n    icon: string;\n    url: string;\n    baseUrl?: string | null;\n    sortOrder: number;\n    publisher: string;\n    allowedServers?: Array<USyncAllowedServer> | null;\n    sendSettings?: SyncSendOptions | null;\n    publisherSettings: {\n        [key: string]: unknown;\n    };\n    publisherConfig?: string | null;\n    userGroups: Array<string>;\n};\n\nexport type SyncPublisherOptions = {\n    primaryType?: string | null;\n    removeOrphans: boolean;\n    includeFiles: boolean;\n    includeFileHash: boolean;\n    includeContent: boolean;\n    includeSystemFileHash: boolean;\n    includeSystemFiles: boolean;\n    includeMediaFiles: boolean;\n    cultures: Array<string>;\n    custom: {\n        [key: string]: string;\n    };\n    enableRollback: boolean;\n    createRestorePoint: boolean;\n    skipReport: boolean;\n    includeChildren: boolean;\n    includeAncestors: boolean;\n    includeDependencies: boolean;\n    includeMedia: boolean;\n    includeViews: boolean;\n    includeLinked: boolean;\n    includeConfig: boolean;\n    rootSync: boolean;\n    includeContents: boolean;\n    publishedDependencies: boolean;\n};\n\nexport type SyncPublisherVariantsResult = {\n    name: string;\n    displayName: string;\n    isPublished: boolean;\n    selected: boolean;\n};\n\nexport type SyncSendOption = {\n    value: boolean;\n    editable: boolean;\n};\n\nexport type SyncSendOptions = {\n    includeAncestors: SyncSendOption;\n    includeChildren: SyncSendOption;\n    includeFiles: SyncSendOption;\n    includeMedia: SyncSendOption;\n    includeLinked: SyncSendOption;\n    includeDependencies: SyncSendOption;\n    includeMediaFiles: SyncSendOption;\n    includeConfig: SyncSendOption;\n    deleteMissing: SyncSendOption;\n    createRestorePoint: SyncSendOption;\n    sendEditedValue: boolean;\n    publishFallback: boolean;\n    message: string;\n    ignoreSortOrder: boolean;\n    detectRestorePoint: boolean;\n    hideAdvanced: boolean;\n};\n\nexport type SyncServerItemResponseModel = {\n    hasChildren: boolean;\n    id: string;\n    parent?: ReferenceByIdModel | null;\n    name: string;\n    icon: string;\n    type: string;\n};\n\nexport enum SyncServerStatus {\n    UNKNOWN = 'Unknown',\n    UNAVAILABLE = 'Unavailable',\n    UNREACHABLE = 'Unreachable',\n    UNAUTHORIZED = 'Unauthorized',\n    SERVER_ERROR = 'ServerError',\n    DISABLED = 'Disabled',\n    API_MISMATCH = 'ApiMismatch',\n    UNLICENCED = 'Unlicenced',\n    NOT_ENABLED = 'NotEnabled',\n    UNKNOWN_SERVER = 'UnknownServer',\n    NO_PUBLISHER = 'NoPublisher',\n    NOT_FOUND = 'NotFound',\n    INVALID_RESPONSE = 'InvalidResponse',\n    SUCCESS = 'Success'\n}\n\nexport type SyncServerTemplateModel = {\n    id?: string | null;\n    icon?: string | null;\n    heading?: string | null;\n    subHeading?: string | null;\n    description?: string | null;\n    publisher?: string | null;\n    publisherConfig?: string | null;\n    flags?: SyncSendOptions | null;\n};\n\nexport type SyncVariantInfo = {\n    name?: string | null;\n    published: boolean;\n};\n\nexport type UdiModel = {\n    readonly uriValue: string;\n    readonly entityType: string;\n    readonly isRoot: boolean;\n};\n\nexport type UserGroupListModel = {\n    key: string;\n    alias: string;\n    name: string;\n    icon: string;\n};\n\nexport type USyncActionView = {\n    key: string;\n    name: string;\n    handler: string;\n    itemType: string;\n    change: ChangeType;\n    success: boolean;\n    details: Array<USyncChange>;\n    message?: string | null;\n};\n\nexport type USyncAllowedServer = {\n    name: string;\n    icon: string;\n    alias: string;\n    push: boolean;\n    pull: boolean;\n};\n\nexport type USyncChange = {\n    success: boolean;\n    name: string;\n    path: string;\n    oldValue: string;\n    newValue: string;\n    change: ChangeDetailType;\n};\n\nexport type USyncEntityVariant = {\n    name: string;\n};\n\nexport type USyncEntityView = {\n    id: number;\n    name: string;\n    key: string;\n    udi?: UdiModel | null;\n    icon?: string | null;\n    type?: string | null;\n    thumbnail?: string | null;\n    isFolder: boolean;\n    hasChildren: boolean;\n    extension?: string | null;\n    height: number;\n    width: number;\n    update: string;\n    localUrl?: string | null;\n    mediaProperty?: string | null;\n    remoteUrl?: string | null;\n    variants?: Array<USyncEntityVariant> | null;\n    localItem?: SyncLocalItem | null;\n};\n\nexport type USyncItemFolder = {\n    key: string;\n    path: Array<USyncPathItem>;\n    folders: Array<USyncEntityView>;\n    nodes: Array<USyncEntityView>;\n    total: number;\n    pages: number;\n};\n\nexport type USyncPathItem = {\n    name: string;\n    key: string;\n};\n\nexport type USyncPublishServerStatus = {\n    enabled: boolean;\n    status: SyncServerStatus;\n    message?: string | null;\n};\n\nexport type USyncPublishSettingsView = {\n    outgoingEnabled: boolean;\n    incomingEnabled: boolean;\n    server?: SyncPublishServerView | null;\n    hasAppId: boolean;\n    serverUrl: string;\n    serverName: string;\n    isInList: boolean;\n};\n\nexport type USyncPublisherView = {\n    name: string;\n    alias: string;\n    description: string;\n    configElement?: string | null;\n};\n\nexport type CalculateContentChangesData = {\n    body?: Array<UdiModel>;\n    path?: never;\n    query?: {\n        server?: string;\n    };\n    url: '/umbraco/usync/api/v1/Publisher/CalculateContentChanges';\n};\n\nexport type CalculateContentChangesResponses = {\n    /**\n     * OK\n     */\n    200: Array<SyncBrowserItemChange>;\n};\n\nexport type CalculateContentChangesResponse = CalculateContentChangesResponses[keyof CalculateContentChangesResponses];\n\nexport type CalculateMediaChangesData = {\n    body?: Array<UdiModel>;\n    path?: never;\n    query?: {\n        server?: string;\n    };\n    url: '/umbraco/usync/api/v1/Publisher/CalculateMediaChanges';\n};\n\nexport type CalculateMediaChangesResponses = {\n    /**\n     * OK\n     */\n    200: Array<SyncBrowserItemChange>;\n};\n\nexport type CalculateMediaChangesResponse = CalculateMediaChangesResponses[keyof CalculateMediaChangesResponses];\n\nexport type GetContentEntityData = {\n    body?: never;\n    path?: never;\n    query?: {\n        id?: string;\n        server?: string;\n    };\n    url: '/umbraco/usync/api/v1/Publisher/GetContentEntity';\n};\n\nexport type GetContentEntityResponses = {\n    /**\n     * OK\n     */\n    200: SplitEntityView;\n};\n\nexport type GetContentEntityResponse = GetContentEntityResponses[keyof GetContentEntityResponses];\n\nexport type GetContentFoldersData = {\n    body?: never;\n    path?: never;\n    query?: {\n        id?: string;\n        server?: string;\n        page?: number;\n    };\n    url: '/umbraco/usync/api/v1/Publisher/GetContentFolders';\n};\n\nexport type GetContentFoldersResponses = {\n    /**\n     * OK\n     */\n    200: USyncItemFolder;\n};\n\nexport type GetContentFoldersResponse = GetContentFoldersResponses[keyof GetContentFoldersResponses];\n\nexport type GetLocalContentFoldersData = {\n    body?: never;\n    path?: never;\n    query?: {\n        id?: string;\n        page?: number;\n    };\n    url: '/umbraco/usync/api/v1/Publisher/GetLocalContentFolders';\n};\n\nexport type GetLocalContentFoldersResponses = {\n    /**\n     * OK\n     */\n    200: USyncItemFolder;\n};\n\nexport type GetLocalContentFoldersResponse = GetLocalContentFoldersResponses[keyof GetLocalContentFoldersResponses];\n\nexport type GetLocalMediaFoldersData = {\n    body?: never;\n    path?: never;\n    query?: {\n        id?: string;\n        page?: number;\n    };\n    url: '/umbraco/usync/api/v1/Publisher/GetLocalMediaFolders';\n};\n\nexport type GetLocalMediaFoldersResponses = {\n    /**\n     * OK\n     */\n    200: USyncItemFolder;\n};\n\nexport type GetLocalMediaFoldersResponse = GetLocalMediaFoldersResponses[keyof GetLocalMediaFoldersResponses];\n\nexport type GetMediaEntityData = {\n    body?: never;\n    path?: never;\n    query?: {\n        id?: string;\n        server?: string;\n    };\n    url: '/umbraco/usync/api/v1/Publisher/GetMediaEntity';\n};\n\nexport type GetMediaEntityResponses = {\n    /**\n     * OK\n     */\n    200: SplitEntityView;\n};\n\nexport type GetMediaEntityResponse = GetMediaEntityResponses[keyof GetMediaEntityResponses];\n\nexport type GetMediaFoldersData = {\n    body?: never;\n    path?: never;\n    query?: {\n        id?: string;\n        server?: string;\n        page?: number;\n    };\n    url: '/umbraco/usync/api/v1/Publisher/GetMediaFolders';\n};\n\nexport type GetMediaFoldersResponses = {\n    /**\n     * OK\n     */\n    200: USyncItemFolder;\n};\n\nexport type GetMediaFoldersResponse = GetMediaFoldersResponses[keyof GetMediaFoldersResponses];\n\nexport type HasContentData = {\n    body?: never;\n    path?: never;\n    query?: never;\n    url: '/umbraco/usync/api/v1/Publisher/HasContent';\n};\n\nexport type HasContentResponses = {\n    /**\n     * OK\n     */\n    200: boolean;\n};\n\nexport type HasContentResponse = HasContentResponses[keyof HasContentResponses];\n\nexport type HasContentOrMediaData = {\n    body?: never;\n    path?: never;\n    query?: {\n        checkEnabled?: boolean;\n    };\n    url: '/umbraco/usync/api/v1/Publisher/HasContentOrMedia';\n};\n\nexport type HasContentOrMediaResponses = {\n    /**\n     * OK\n     */\n    200: boolean;\n};\n\nexport type HasContentOrMediaResponse = HasContentOrMediaResponses[keyof HasContentOrMediaResponses];\n\nexport type HasMediaData = {\n    body?: never;\n    path?: never;\n    query?: never;\n    url: '/umbraco/usync/api/v1/Publisher/HasMedia';\n};\n\nexport type HasMediaResponses = {\n    /**\n     * OK\n     */\n    200: boolean;\n};\n\nexport type HasMediaResponse = HasMediaResponses[keyof HasMediaResponses];\n\nexport type GetVariantsData = {\n    body?: never;\n    path?: never;\n    query?: {\n        udiValue?: UdiModel;\n    };\n    url: '/umbraco/usync/api/v1/Publisher/GetVariants';\n};\n\nexport type GetVariantsResponses = {\n    /**\n     * OK\n     */\n    200: Array<SyncPublisherVariantsResult>;\n};\n\nexport type GetVariantsResponse = GetVariantsResponses[keyof GetVariantsResponses];\n\nexport type CreateKeysData = {\n    body?: never;\n    path?: never;\n    query?: never;\n    url: '/umbraco/usync/api/v1/Publisher/CreateKeys';\n};\n\nexport type CreateKeysResponses = {\n    /**\n     * OK\n     */\n    200: AppKeySetupResult;\n};\n\nexport type CreateKeysResponse = CreateKeysResponses[keyof CreateKeysResponses];\n\nexport type HasKeysData = {\n    body?: never;\n    path?: never;\n    query?: never;\n    url: '/umbraco/usync/api/v1/Publisher/HasKeys';\n};\n\nexport type HasKeysResponses = {\n    /**\n     * OK\n     */\n    200: boolean;\n};\n\nexport type HasKeysResponse = HasKeysResponses[keyof HasKeysResponses];\n\nexport type SaveKeysData = {\n    body?: AppKeyView;\n    path?: never;\n    query?: never;\n    url: '/umbraco/usync/api/v1/Publisher/SaveKeys';\n};\n\nexport type SaveKeysResponses = {\n    /**\n     * OK\n     */\n    200: boolean;\n};\n\nexport type SaveKeysResponse = SaveKeysResponses[keyof SaveKeysResponses];\n\nexport type GetPublisherData = {\n    body?: never;\n    path?: never;\n    query?: {\n        server?: string;\n    };\n    url: '/umbraco/usync/api/v1/Publisher/GetPublisher';\n};\n\nexport type GetPublisherErrors = {\n    /**\n     * Not Found\n     */\n    404: unknown;\n};\n\nexport type GetPublisherResponses = {\n    /**\n     * OK\n     */\n    200: USyncPublisherView;\n};\n\nexport type GetPublisherResponse = GetPublisherResponses[keyof GetPublisherResponses];\n\nexport type GetPublishersData = {\n    body?: never;\n    path?: never;\n    query?: never;\n    url: '/umbraco/usync/api/v1/Publisher/GetPublishers';\n};\n\nexport type GetPublishersResponses = {\n    /**\n     * OK\n     */\n    200: Array<USyncPublisherView>;\n};\n\nexport type GetPublishersResponse = GetPublishersResponses[keyof GetPublishersResponses];\n\nexport type GetSiteStatusData = {\n    body?: never;\n    path?: never;\n    query?: never;\n    url: '/umbraco/usync/api/v1/Publisher/GetSiteStatus';\n};\n\nexport type GetSiteStatusResponses = {\n    /**\n     * OK\n     */\n    200: SiteSeedStatus;\n};\n\nexport type GetSiteStatusResponse = GetSiteStatusResponses[keyof GetSiteStatusResponses];\n\nexport type AddToAllServersData = {\n    body?: never;\n    path?: never;\n    query?: {\n        server?: string;\n    };\n    url: '/umbraco/usync/api/v1/Publisher/AddToAllServers';\n};\n\nexport type AddToAllServersResponses = {\n    /**\n     * OK\n     */\n    200: boolean;\n};\n\nexport type AddToAllServersResponse = AddToAllServersResponses[keyof AddToAllServersResponses];\n\nexport type CheckServerData = {\n    body?: never;\n    path?: never;\n    query?: {\n        server?: string;\n    };\n    url: '/umbraco/usync/api/v1/Publisher/CheckServer';\n};\n\nexport type CheckServerResponses = {\n    /**\n     * OK\n     */\n    200: USyncPublishServerStatus;\n};\n\nexport type CheckServerResponse = CheckServerResponses[keyof CheckServerResponses];\n\nexport type CheckServerUrlData = {\n    body?: never;\n    path?: never;\n    query?: {\n        url?: string;\n    };\n    url: '/umbraco/usync/api/v1/Publisher/CheckServerUrl';\n};\n\nexport type CheckServerUrlResponses = {\n    /**\n     * OK\n     */\n    200: USyncPublishServerStatus;\n};\n\nexport type CheckServerUrlResponse = CheckServerUrlResponses[keyof CheckServerUrlResponses];\n\nexport type CopyServerData = {\n    body?: SyncPublishServerCopyView;\n    path?: never;\n    query?: never;\n    url: '/umbraco/usync/api/v1/Publisher/CopyServer';\n};\n\nexport type CopyServerResponses = {\n    /**\n     * OK\n     */\n    200: boolean;\n};\n\nexport type CopyServerResponse = CopyServerResponses[keyof CopyServerResponses];\n\nexport type DeleteServerData = {\n    body?: never;\n    path?: never;\n    query?: {\n        key?: string;\n    };\n    url: '/umbraco/usync/api/v1/Publisher/DeleteServer';\n};\n\nexport type DeleteServerResponses = {\n    /**\n     * OK\n     */\n    200: boolean;\n};\n\nexport type DeleteServerResponse = DeleteServerResponses[keyof DeleteServerResponses];\n\nexport type GetAllServersData = {\n    body?: never;\n    path?: never;\n    query?: {\n        enabledOnly?: boolean;\n    };\n    url: '/umbraco/usync/api/v1/Publisher/GetAllServers';\n};\n\nexport type GetAllServersResponses = {\n    /**\n     * OK\n     */\n    200: Array<SyncPublishServerView>;\n};\n\nexport type GetAllServersResponse = GetAllServersResponses[keyof GetAllServersResponses];\n\nexport type GetAvailableServersData = {\n    body?: SyncPublishAvailableServerRequest;\n    path?: never;\n    query?: never;\n    url: '/umbraco/usync/api/v1/Publisher/GetAvailableServers';\n};\n\nexport type GetAvailableServersResponses = {\n    /**\n     * OK\n     */\n    200: Array<SyncPublishServerView>;\n};\n\nexport type GetAvailableServersResponse = GetAvailableServersResponses[keyof GetAvailableServersResponses];\n\nexport type GetServerData = {\n    body?: never;\n    path?: never;\n    query?: {\n        key?: string;\n    };\n    url: '/umbraco/usync/api/v1/Publisher/GetServer';\n};\n\nexport type GetServerResponses = {\n    /**\n     * OK\n     */\n    200: SyncPublishServerView;\n};\n\nexport type GetServerResponse = GetServerResponses[keyof GetServerResponses];\n\nexport type GetServerByUrlData = {\n    body?: never;\n    path?: never;\n    query?: {\n        url?: string;\n    };\n    url: '/umbraco/usync/api/v1/Publisher/GetServerByUrl';\n};\n\nexport type GetServerByUrlResponses = {\n    /**\n     * OK\n     */\n    200: SyncPublishServerView;\n};\n\nexport type GetServerByUrlResponse = GetServerByUrlResponses[keyof GetServerByUrlResponses];\n\nexport type GetServersData = {\n    body?: never;\n    path?: never;\n    query?: {\n        action?: string;\n        enabledOnly?: boolean;\n    };\n    url: '/umbraco/usync/api/v1/Publisher/GetServers';\n};\n\nexport type GetServersResponses = {\n    /**\n     * OK\n     */\n    200: Array<SyncPublishServerView>;\n};\n\nexport type GetServersResponse = GetServersResponses[keyof GetServersResponses];\n\nexport type SaveServerData = {\n    body?: SyncPublishServerView;\n    path?: never;\n    query?: never;\n    url: '/umbraco/usync/api/v1/Publisher/SaveServer';\n};\n\nexport type SaveServerResponses = {\n    /**\n     * OK\n     */\n    200: boolean;\n};\n\nexport type SaveServerResponse = SaveServerResponses[keyof SaveServerResponses];\n\nexport type SetServerOrderData = {\n    body?: Array<string>;\n    path?: never;\n    query?: never;\n    url: '/umbraco/usync/api/v1/Publisher/SetServerOrder';\n};\n\nexport type SetServerOrderResponses = {\n    /**\n     * OK\n     */\n    200: boolean;\n};\n\nexport type SetServerOrderResponse = SetServerOrderResponses[keyof SetServerOrderResponses];\n\nexport type GetAncestorsData = {\n    body?: never;\n    path?: never;\n    query?: {\n        id?: string;\n    };\n    url: '/umbraco/usync/api/v1/tree/server/ServerAncestors';\n};\n\nexport type GetAncestorsResponses = {\n    /**\n     * OK\n     */\n    200: Array<SyncServerItemResponseModel>;\n};\n\nexport type GetAncestorsResponse = GetAncestorsResponses[keyof GetAncestorsResponses];\n\nexport type GetChildrenData = {\n    body?: never;\n    path?: never;\n    query?: {\n        parent?: string;\n        skip?: number;\n        take?: number;\n    };\n    url: '/umbraco/usync/api/v1/tree/server/ServerChildren';\n};\n\nexport type GetChildrenResponses = {\n    /**\n     * OK\n     */\n    200: PagedSyncServerItemResponseModel;\n};\n\nexport type GetChildrenResponse = GetChildrenResponses[keyof GetChildrenResponses];\n\nexport type RootData = {\n    body?: never;\n    path?: never;\n    query?: {\n        skip?: number;\n        take?: number;\n        foldersOnly?: boolean;\n    };\n    url: '/umbraco/usync/api/v1/tree/server/ServerRoot';\n};\n\nexport type RootResponses = {\n    /**\n     * OK\n     */\n    200: PagedSyncServerItemResponseModel;\n};\n\nexport type RootResponse = RootResponses[keyof RootResponses];\n\nexport type GetButtonsData = {\n    body?: never;\n    path?: never;\n    query?: never;\n    url: '/umbraco/usync/api/v1/Publisher/GetButtons';\n};\n\nexport type GetButtonsResponses = {\n    /**\n     * OK\n     */\n    200: Array<string>;\n};\n\nexport type GetButtonsResponse = GetButtonsResponses[keyof GetButtonsResponses];\n\nexport type GetDescendantCountData = {\n    body?: never;\n    path?: never;\n    query?: {\n        id?: number;\n    };\n    url: '/umbraco/usync/api/v1/Publisher/GetDescendantCount';\n};\n\nexport type GetDescendantCountResponses = {\n    /**\n     * OK\n     */\n    200: number;\n};\n\nexport type GetDescendantCountResponse = GetDescendantCountResponses[keyof GetDescendantCountResponses];\n\nexport type GetSettingsData = {\n    body?: never;\n    path?: never;\n    query?: never;\n    url: '/umbraco/usync/api/v1/Publisher/GetSettings';\n};\n\nexport type GetSettingsResponses = {\n    /**\n     * OK\n     */\n    200: USyncPublishSettingsView;\n};\n\nexport type GetSettingsResponse = GetSettingsResponses[keyof GetSettingsResponses];\n\nexport type GetUserGroupsData = {\n    body?: never;\n    path?: never;\n    query?: never;\n    url: '/umbraco/usync/api/v1/Publisher/GetUserGroups';\n};\n\nexport type GetUserGroupsResponses = {\n    /**\n     * OK\n     */\n    200: Array<UserGroupListModel>;\n};\n\nexport type GetUserGroupsResponse = GetUserGroupsResponses[keyof GetUserGroupsResponses];\n\nexport type ReloadSettingsData = {\n    body?: never;\n    path?: never;\n    query?: never;\n    url: '/umbraco/usync/api/v1/Publisher/ReloadSettings';\n};\n\nexport type ReloadSettingsResponses = {\n    /**\n     * OK\n     */\n    200: boolean;\n};\n\nexport type ReloadSettingsResponse = ReloadSettingsResponses[keyof ReloadSettingsResponses];\n\nexport type SaveSettingsData = {\n    body?: USyncPublishSettingsView;\n    path?: never;\n    query?: never;\n    url: '/umbraco/usync/api/v1/Publisher/SaveSettings';\n};\n\nexport type SaveSettingsResponses = {\n    /**\n     * OK\n     */\n    200: boolean;\n};\n\nexport type SaveSettingsResponse = SaveSettingsResponses[keyof SaveSettingsResponses];\n\nexport type SyncSettingsData = {\n    body?: ServerSyncRequest;\n    path?: never;\n    query?: never;\n    url: '/umbraco/usync/api/v1/Publisher/SyncSettings';\n};\n\nexport type SyncSettingsErrors = {\n    /**\n     * Bad Request\n     */\n    400: ProblemDetails;\n};\n\nexport type SyncSettingsError = SyncSettingsErrors[keyof SyncSettingsErrors];\n\nexport type SyncSettingsResponses = {\n    /**\n     * OK\n     */\n    200: ServerSyncResult;\n};\n\nexport type SyncSettingsResponse = SyncSettingsResponses[keyof SyncSettingsResponses];\n\nexport type GetActionViewData = {\n    body?: never;\n    path?: never;\n    query?: never;\n    url: '/umbraco/usync/api/v1/Publisher/GetActionViewModel';\n};\n\nexport type GetActionViewErrors = {\n    /**\n     * Not Found\n     */\n    404: unknown;\n};\n\nexport type GetActionViewResponses = {\n    /**\n     * OK\n     */\n    200: USyncActionView;\n};\n\nexport type GetActionViewResponse = GetActionViewResponses[keyof GetActionViewResponses];\n\nexport type GetServerByAliasData = {\n    body?: never;\n    path?: never;\n    query?: {\n        serverAlias?: string;\n    };\n    url: '/umbraco/usync/api/v1/Publisher/GetServerByAlias';\n};\n\nexport type GetServerByAliasErrors = {\n    /**\n     * Not Found\n     */\n    404: unknown;\n};\n\nexport type GetServerByAliasResponses = {\n    /**\n     * OK\n     */\n    200: SyncPublishServerView;\n};\n\nexport type GetServerByAliasResponse = GetServerByAliasResponses[keyof GetServerByAliasResponses];\n\nexport type GetStrategyByPublisherData = {\n    body?: never;\n    path?: never;\n    query?: {\n        publisherAlias?: string;\n        mode?: PublishMode;\n    };\n    url: '/umbraco/usync/api/v1/Publisher/GetStrategyByPublisher';\n};\n\nexport type GetStrategyByPublisherErrors = {\n    /**\n     * Not Found\n     */\n    404: unknown;\n};\n\nexport type GetStrategyByPublisherResponses = {\n    /**\n     * OK\n     */\n    200: string;\n};\n\nexport type GetStrategyByPublisherResponse = GetStrategyByPublisherResponses[keyof GetStrategyByPublisherResponses];\n\nexport type GetStrategyByServerData = {\n    body?: never;\n    path?: never;\n    query?: {\n        server?: string;\n        mode?: PublishMode;\n    };\n    url: '/umbraco/usync/api/v1/Publisher/GetStrategyByServer';\n};\n\nexport type GetStrategyByServerErrors = {\n    /**\n     * Not Found\n     */\n    404: unknown;\n};\n\nexport type GetStrategyByServerResponses = {\n    /**\n     * OK\n     */\n    200: string;\n};\n\nexport type GetStrategyByServerResponse = GetStrategyByServerResponses[keyof GetStrategyByServerResponses];\n\nexport type GetSyncItemData = {\n    body?: never;\n    path?: never;\n    query?: {\n        entityType?: string;\n        id?: string;\n    };\n    url: '/umbraco/usync/api/v1/Publisher/GetSyncItem';\n};\n\nexport type GetSyncItemResponses = {\n    /**\n     * OK\n     */\n    200: SyncEntity;\n};\n\nexport type GetSyncItemResponse = GetSyncItemResponses[keyof GetSyncItemResponses];\n\nexport type GetSyncSendOptionsData = {\n    body?: never;\n    path?: never;\n    query?: {\n        serverAlias?: string;\n        entityType?: string;\n    };\n    url: '/umbraco/usync/api/v1/Publisher/GetSyncSendOptions';\n};\n\nexport type GetSyncSendOptionsErrors = {\n    /**\n     * Bad Request\n     */\n    400: BadRequest;\n};\n\nexport type GetSyncSendOptionsError = GetSyncSendOptionsErrors[keyof GetSyncSendOptionsErrors];\n\nexport type GetSyncSendOptionsResponses = {\n    /**\n     * OK\n     */\n    200: SyncSendOptions;\n};\n\nexport type GetSyncSendOptionsResponse = GetSyncSendOptionsResponses[keyof GetSyncSendOptionsResponses];\n\nexport type GetSyncSendOptionsByModeData = {\n    body?: never;\n    path?: never;\n    query?: {\n        serverAlias?: string;\n        mode?: PublishMode;\n        entityType?: string;\n    };\n    url: '/umbraco/usync/api/v2/Publisher/GetSyncSendOptions';\n};\n\nexport type GetSyncSendOptionsByModeErrors = {\n    /**\n     * Bad Request\n     */\n    400: BadRequest;\n};\n\nexport type GetSyncSendOptionsByModeError = GetSyncSendOptionsByModeErrors[keyof GetSyncSendOptionsByModeErrors];\n\nexport type GetSyncSendOptionsByModeResponses = {\n    /**\n     * OK\n     */\n    200: SyncSendOptions;\n};\n\nexport type GetSyncSendOptionsByModeResponse = GetSyncSendOptionsByModeResponses[keyof GetSyncSendOptionsByModeResponses];\n\nexport type GetTemplatesData = {\n    body?: never;\n    path?: never;\n    query?: never;\n    url: '/umbraco/usync/api/v1/Publisher/GetTemplates';\n};\n\nexport type GetTemplatesResponses = {\n    /**\n     * OK\n     */\n    200: Array<SyncServerTemplateModel>;\n};\n\nexport type GetTemplatesResponse = GetTemplatesResponses[keyof GetTemplatesResponses];\n\nexport type ClientOptions = {\n    baseUrl: 'http://localhost:36520' | (string & {});\n};","var j=async(t,r)=>{let e=typeof r==\"function\"?await r(t):r;if(e)return t.scheme===\"bearer\"?`Bearer ${e}`:t.scheme===\"basic\"?`Basic ${btoa(e)}`:e},z=(t,r,e)=>{typeof e==\"string\"||e instanceof Blob?t.append(r,e):t.append(r,JSON.stringify(e));},I=(t,r,e)=>{typeof e==\"string\"?t.append(r,e):t.append(r,JSON.stringify(e));},k={bodySerializer:t=>{let r=new FormData;return Object.entries(t).forEach(([e,i])=>{i!=null&&(Array.isArray(i)?i.forEach(a=>z(r,e,a)):z(r,e,i));}),r}},R={bodySerializer:t=>JSON.stringify(t,(r,e)=>typeof e==\"bigint\"?e.toString():e)},$={bodySerializer:t=>{let r=new URLSearchParams;return Object.entries(t).forEach(([e,i])=>{i!=null&&(Array.isArray(i)?i.forEach(a=>I(r,e,a)):I(r,e,i));}),r.toString()}},U=t=>{switch(t){case \"label\":return \".\";case \"matrix\":return \";\";case \"simple\":return \",\";default:return \"&\"}},_=t=>{switch(t){case \"form\":return \",\";case \"pipeDelimited\":return \"|\";case \"spaceDelimited\":return \"%20\";default:return \",\"}},D=t=>{switch(t){case \"label\":return \".\";case \"matrix\":return \";\";case \"simple\":return \",\";default:return \"&\"}},O=({allowReserved:t,explode:r,name:e,style:i,value:a})=>{if(!r){let n=(t?a:a.map(l=>encodeURIComponent(l))).join(_(i));switch(i){case \"label\":return `.${n}`;case \"matrix\":return `;${e}=${n}`;case \"simple\":return n;default:return `${e}=${n}`}}let o=U(i),s=a.map(n=>i===\"label\"||i===\"simple\"?t?n:encodeURIComponent(n):y({allowReserved:t,name:e,value:n})).join(o);return i===\"label\"||i===\"matrix\"?o+s:s},y=({allowReserved:t,name:r,value:e})=>{if(e==null)return \"\";if(typeof e==\"object\")throw new Error(\"Deeply-nested arrays/objects aren\\u2019t supported. Provide your own `querySerializer()` to handle these.\");return `${r}=${t?e:encodeURIComponent(e)}`},q=({allowReserved:t,explode:r,name:e,style:i,value:a})=>{if(a instanceof Date)return `${e}=${a.toISOString()}`;if(i!==\"deepObject\"&&!r){let n=[];Object.entries(a).forEach(([f,p])=>{n=[...n,f,t?p:encodeURIComponent(p)];});let l=n.join(\",\");switch(i){case \"form\":return `${e}=${l}`;case \"label\":return `.${l}`;case \"matrix\":return `;${e}=${l}`;default:return l}}let o=D(i),s=Object.entries(a).map(([n,l])=>y({allowReserved:t,name:i===\"deepObject\"?`${e}[${n}]`:n,value:l})).join(o);return i===\"label\"||i===\"matrix\"?o+s:s};var H=/\\{[^{}]+\\}/g,B=({path:t,url:r})=>{let e=r,i=r.match(H);if(i)for(let a of i){let o=false,s=a.substring(1,a.length-1),n=\"simple\";s.endsWith(\"*\")&&(o=true,s=s.substring(0,s.length-1)),s.startsWith(\".\")?(s=s.substring(1),n=\"label\"):s.startsWith(\";\")&&(s=s.substring(1),n=\"matrix\");let l=t[s];if(l==null)continue;if(Array.isArray(l)){e=e.replace(a,O({explode:o,name:s,style:n,value:l}));continue}if(typeof l==\"object\"){e=e.replace(a,q({explode:o,name:s,style:n,value:l}));continue}if(n===\"matrix\"){e=e.replace(a,`;${y({name:s,value:l})}`);continue}let f=encodeURIComponent(n===\"label\"?`.${l}`:l);e=e.replace(a,f);}return e},A=({allowReserved:t,array:r,object:e}={})=>a=>{let o=[];if(a&&typeof a==\"object\")for(let s in a){let n=a[s];if(n!=null)if(Array.isArray(n)){let l=O({allowReserved:t,explode:true,name:s,style:\"form\",value:n,...r});l&&o.push(l);}else if(typeof n==\"object\"){let l=q({allowReserved:t,explode:true,name:s,style:\"deepObject\",value:n,...e});l&&o.push(l);}else {let l=y({allowReserved:t,name:s,value:n});l&&o.push(l);}}return o.join(\"&\")},P=t=>{if(!t)return \"stream\";let r=t.split(\";\")[0]?.trim();if(r){if(r.startsWith(\"application/json\")||r.endsWith(\"+json\"))return \"json\";if(r===\"multipart/form-data\")return \"formData\";if([\"application/\",\"audio/\",\"image/\",\"video/\"].some(e=>r.startsWith(e)))return \"blob\";if(r.startsWith(\"text/\"))return \"text\"}},E=async({security:t,...r})=>{for(let e of t){let i=await j(e,r.auth);if(!i)continue;let a=e.name??\"Authorization\";switch(e.in){case \"query\":r.query||(r.query={}),r.query[a]=i;break;case \"cookie\":r.headers.append(\"Cookie\",`${a}=${i}`);break;case \"header\":default:r.headers.set(a,i);break}return}},S=t=>W({baseUrl:t.baseUrl,path:t.path,query:t.query,querySerializer:typeof t.querySerializer==\"function\"?t.querySerializer:A(t.querySerializer),url:t.url}),W=({baseUrl:t,path:r,query:e,querySerializer:i,url:a})=>{let o=a.startsWith(\"/\")?a:`/${a}`,s=(t??\"\")+o;r&&(s=B({path:r,url:s}));let n=e?i(e):\"\";return n.startsWith(\"?\")&&(n=n.substring(1)),n&&(s+=`?${n}`),s},x=(t,r)=>{let e={...t,...r};return e.baseUrl?.endsWith(\"/\")&&(e.baseUrl=e.baseUrl.substring(0,e.baseUrl.length-1)),e.headers=C(t.headers,r.headers),e},C=(...t)=>{let r=new Headers;for(let e of t){if(!e||typeof e!=\"object\")continue;let i=e instanceof Headers?e.entries():Object.entries(e);for(let[a,o]of i)if(o===null)r.delete(a);else if(Array.isArray(o))for(let s of o)r.append(a,s);else o!==void 0&&r.set(a,typeof o==\"object\"?JSON.stringify(o):o);}return r},h=class{_fns;constructor(){this._fns=[];}clear(){this._fns=[];}getInterceptorIndex(r){return typeof r==\"number\"?this._fns[r]?r:-1:this._fns.indexOf(r)}exists(r){let e=this.getInterceptorIndex(r);return !!this._fns[e]}eject(r){let e=this.getInterceptorIndex(r);this._fns[e]&&(this._fns[e]=null);}update(r,e){let i=this.getInterceptorIndex(r);return this._fns[i]?(this._fns[i]=e,r):false}use(r){return this._fns=[...this._fns,r],this._fns.length-1}},v=()=>({error:new h,request:new h,response:new h}),N=A({allowReserved:false,array:{explode:true,style:\"form\"},object:{explode:true,style:\"deepObject\"}}),Q={\"Content-Type\":\"application/json\"},w=(t={})=>({...R,headers:Q,parseAs:\"auto\",querySerializer:N,...t});var J=(t={})=>{let r=x(w(),t),e=()=>({...r}),i=s=>(r=x(r,s),e()),a=v(),o=async s=>{let n={...r,...s,fetch:s.fetch??r.fetch??globalThis.fetch,headers:C(r.headers,s.headers)};n.security&&await E({...n,security:n.security}),n.body&&n.bodySerializer&&(n.body=n.bodySerializer(n.body)),(n.body===void 0||n.body===\"\")&&n.headers.delete(\"Content-Type\");let l=S(n),f={redirect:\"follow\",...n},p=new Request(l,f);for(let c of a.request._fns)c&&(p=await c(p,n));let T=n.fetch,u=await T(p);for(let c of a.response._fns)c&&(u=await c(u,p,n));let m={request:p,response:u};if(u.ok){if(u.status===204||u.headers.get(\"Content-Length\")===\"0\")return {data:{},...m};let c=(n.parseAs===\"auto\"?P(u.headers.get(\"Content-Type\")):n.parseAs)??\"json\";if(c===\"stream\")return {data:u.body,...m};let b=await u[c]();return c===\"json\"&&(n.responseValidator&&await n.responseValidator(b),n.responseTransformer&&(b=await n.responseTransformer(b))),{data:b,...m}}let g=await u.text();try{g=JSON.parse(g);}catch{}let d=g;for(let c of a.error._fns)c&&(d=await c(g,u,p,n));if(d=d||{},n.throwOnError)throw d;return {error:d,...m}};return {buildUrl:S,connect:s=>o({...s,method:\"CONNECT\"}),delete:s=>o({...s,method:\"DELETE\"}),get:s=>o({...s,method:\"GET\"}),getConfig:e,head:s=>o({...s,method:\"HEAD\"}),interceptors:a,options:s=>o({...s,method:\"OPTIONS\"}),patch:s=>o({...s,method:\"PATCH\"}),post:s=>o({...s,method:\"POST\"}),put:s=>o({...s,method:\"PUT\"}),request:o,setConfig:i,trace:s=>o({...s,method:\"TRACE\"})}};export{J as createClient,w as createConfig,k as formDataBodySerializer,R as jsonBodySerializer,$ as urlSearchParamsBodySerializer};//# sourceMappingURL=index.js.map\n//# sourceMappingURL=index.js.map","// This file is auto-generated by @hey-api/openapi-ts\n\nimport type { ClientOptions } from './types.gen';\nimport { type Config, type ClientOptions as DefaultClientOptions, createClient, createConfig } from '@hey-api/client-fetch';\n\n/**\n * The `createClientConfig()` function will be called on client initialization\n * and the returned object will become the client's initial configuration.\n *\n * You may want to initialize your client this way instead of calling\n * `setConfig()`. This is useful for example if you're using Next.js\n * to ensure your client always has the correct values.\n */\nexport type CreateClientConfig<T extends DefaultClientOptions = ClientOptions> = (override?: Config<DefaultClientOptions & T>) => Config<Required<DefaultClientOptions> & T>;\n\nexport const client = createClient(createConfig<ClientOptions>({\n    baseUrl: 'http://localhost:36520',\n    throwOnError: true\n}));","// This file is auto-generated by @hey-api/openapi-ts\n\nimport type { Options as ClientOptions, TDataShape, Client } from '@hey-api/client-fetch';\nimport type { CalculateContentChangesData, CalculateContentChangesResponse, CalculateMediaChangesData, CalculateMediaChangesResponse, GetContentEntityData, GetContentEntityResponse, GetContentFoldersData, GetContentFoldersResponse, GetLocalContentFoldersData, GetLocalContentFoldersResponse, GetLocalMediaFoldersData, GetLocalMediaFoldersResponse, GetMediaEntityData, GetMediaEntityResponse, GetMediaFoldersData, GetMediaFoldersResponse, HasContentData, HasContentResponse, HasContentOrMediaData, HasContentOrMediaResponse, HasMediaData, HasMediaResponse, GetVariantsData, GetVariantsResponse, CreateKeysData, CreateKeysResponse, HasKeysData, HasKeysResponse, SaveKeysData, SaveKeysResponse, GetPublisherData, GetPublisherResponse, GetPublishersData, GetPublishersResponse, GetSiteStatusData, GetSiteStatusResponse, AddToAllServersData, AddToAllServersResponse, CheckServerData, CheckServerResponse, CheckServerUrlData, CheckServerUrlResponse, CopyServerData, CopyServerResponse, DeleteServerData, DeleteServerResponse, GetAllServersData, GetAllServersResponse, GetAvailableServersData, GetAvailableServersResponse, GetServerData, GetServerResponse, GetServerByUrlData, GetServerByUrlResponse, GetServersData, GetServersResponse, SaveServerData, SaveServerResponse, SetServerOrderData, SetServerOrderResponse, GetAncestorsData, GetAncestorsResponse, GetChildrenData, GetChildrenResponse, RootData, RootResponse, GetButtonsData, GetButtonsResponse, GetDescendantCountData, GetDescendantCountResponse, GetSettingsData, GetSettingsResponse, GetUserGroupsData, GetUserGroupsResponse, ReloadSettingsData, ReloadSettingsResponse, SaveSettingsData, SaveSettingsResponse, SyncSettingsData, SyncSettingsResponse, SyncSettingsError, GetActionViewData, GetActionViewResponse, GetServerByAliasData, GetServerByAliasResponse, GetStrategyByPublisherData, GetStrategyByPublisherResponse, GetStrategyByServerData, GetStrategyByServerResponse, GetSyncItemData, GetSyncItemResponse, GetSyncSendOptionsData, GetSyncSendOptionsResponse, GetSyncSendOptionsError, GetSyncSendOptionsByModeData, GetSyncSendOptionsByModeResponse, GetSyncSendOptionsByModeError, GetTemplatesData, GetTemplatesResponse } from './types.gen';\nimport { client as _heyApiClient } from './client.gen';\n\nexport type Options<TData extends TDataShape = TDataShape, ThrowOnError extends boolean = boolean> = ClientOptions<TData, ThrowOnError> & {\n    /**\n     * You can provide a client instance returned by `createClient()` instead of\n     * individual options. This might be also useful if you want to implement a\n     * custom client.\n     */\n    client?: Client;\n    /**\n     * You can pass arbitrary values through the `meta` object. This can be\n     * used to access values that aren't defined as part of the SDK function.\n     */\n    meta?: Record<string, unknown>;\n};\n\nexport class BrowserService {\n    public static calculateContentChanges<ThrowOnError extends boolean = true>(options?: Options<CalculateContentChangesData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).post<CalculateContentChangesResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/CalculateContentChanges',\n            ...options,\n            headers: {\n                'Content-Type': 'application/json',\n                ...options?.headers\n            }\n        });\n    }\n    \n    public static calculateMediaChanges<ThrowOnError extends boolean = true>(options?: Options<CalculateMediaChangesData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).post<CalculateMediaChangesResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/CalculateMediaChanges',\n            ...options,\n            headers: {\n                'Content-Type': 'application/json',\n                ...options?.headers\n            }\n        });\n    }\n    \n    public static getContentEntity<ThrowOnError extends boolean = true>(options?: Options<GetContentEntityData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetContentEntityResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetContentEntity',\n            ...options\n        });\n    }\n    \n    public static getContentFolders<ThrowOnError extends boolean = true>(options?: Options<GetContentFoldersData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetContentFoldersResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetContentFolders',\n            ...options\n        });\n    }\n    \n    public static getLocalContentFolders<ThrowOnError extends boolean = true>(options?: Options<GetLocalContentFoldersData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetLocalContentFoldersResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetLocalContentFolders',\n            ...options\n        });\n    }\n    \n    public static getLocalMediaFolders<ThrowOnError extends boolean = true>(options?: Options<GetLocalMediaFoldersData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetLocalMediaFoldersResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetLocalMediaFolders',\n            ...options\n        });\n    }\n    \n    public static getMediaEntity<ThrowOnError extends boolean = true>(options?: Options<GetMediaEntityData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetMediaEntityResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetMediaEntity',\n            ...options\n        });\n    }\n    \n    public static getMediaFolders<ThrowOnError extends boolean = true>(options?: Options<GetMediaFoldersData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetMediaFoldersResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetMediaFolders',\n            ...options\n        });\n    }\n    \n    public static hasContent<ThrowOnError extends boolean = true>(options?: Options<HasContentData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<HasContentResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/HasContent',\n            ...options\n        });\n    }\n    \n    public static hasContentOrMedia<ThrowOnError extends boolean = true>(options?: Options<HasContentOrMediaData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<HasContentOrMediaResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/HasContentOrMedia',\n            ...options\n        });\n    }\n    \n    public static hasMedia<ThrowOnError extends boolean = true>(options?: Options<HasMediaData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<HasMediaResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/HasMedia',\n            ...options\n        });\n    }\n    \n}\n\nexport class ContentService {\n    public static getVariants<ThrowOnError extends boolean = true>(options?: Options<GetVariantsData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).post<GetVariantsResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetVariants',\n            ...options\n        });\n    }\n    \n}\n\nexport class KeysService {\n    public static createKeys<ThrowOnError extends boolean = true>(options?: Options<CreateKeysData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<CreateKeysResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/CreateKeys',\n            ...options\n        });\n    }\n    \n    public static hasKeys<ThrowOnError extends boolean = true>(options?: Options<HasKeysData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<HasKeysResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/HasKeys',\n            ...options\n        });\n    }\n    \n    public static saveKeys<ThrowOnError extends boolean = true>(options?: Options<SaveKeysData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).post<SaveKeysResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/SaveKeys',\n            ...options,\n            headers: {\n                'Content-Type': 'application/json',\n                ...options?.headers\n            }\n        });\n    }\n    \n}\n\nexport class PublishersService {\n    public static getPublisher<ThrowOnError extends boolean = true>(options?: Options<GetPublisherData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetPublisherResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetPublisher',\n            ...options\n        });\n    }\n    \n    public static getPublishers<ThrowOnError extends boolean = true>(options?: Options<GetPublishersData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetPublishersResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetPublishers',\n            ...options\n        });\n    }\n    \n}\n\nexport class SeedService {\n    public static getSiteStatus<ThrowOnError extends boolean = true>(options?: Options<GetSiteStatusData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetSiteStatusResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetSiteStatus',\n            ...options\n        });\n    }\n    \n}\n\nexport class ServersService {\n    public static addToAllServers<ThrowOnError extends boolean = true>(options?: Options<AddToAllServersData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<AddToAllServersResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/AddToAllServers',\n            ...options\n        });\n    }\n    \n    public static checkServer<ThrowOnError extends boolean = true>(options?: Options<CheckServerData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<CheckServerResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/CheckServer',\n            ...options\n        });\n    }\n    \n    public static checkServerUrl<ThrowOnError extends boolean = true>(options?: Options<CheckServerUrlData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<CheckServerUrlResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/CheckServerUrl',\n            ...options\n        });\n    }\n    \n    public static copyServer<ThrowOnError extends boolean = true>(options?: Options<CopyServerData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).post<CopyServerResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/CopyServer',\n            ...options,\n            headers: {\n                'Content-Type': 'application/json',\n                ...options?.headers\n            }\n        });\n    }\n    \n    public static deleteServer<ThrowOnError extends boolean = true>(options?: Options<DeleteServerData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).delete<DeleteServerResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/DeleteServer',\n            ...options\n        });\n    }\n    \n    public static getAllServers<ThrowOnError extends boolean = true>(options?: Options<GetAllServersData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetAllServersResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetAllServers',\n            ...options\n        });\n    }\n    \n    public static getAvailableServers<ThrowOnError extends boolean = true>(options?: Options<GetAvailableServersData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).post<GetAvailableServersResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetAvailableServers',\n            ...options,\n            headers: {\n                'Content-Type': 'application/json',\n                ...options?.headers\n            }\n        });\n    }\n    \n    public static getServer<ThrowOnError extends boolean = true>(options?: Options<GetServerData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetServerResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetServer',\n            ...options\n        });\n    }\n    \n    public static getServerByUrl<ThrowOnError extends boolean = true>(options?: Options<GetServerByUrlData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetServerByUrlResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetServerByUrl',\n            ...options\n        });\n    }\n    \n    public static getServers<ThrowOnError extends boolean = true>(options?: Options<GetServersData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetServersResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetServers',\n            ...options\n        });\n    }\n    \n    public static saveServer<ThrowOnError extends boolean = true>(options?: Options<SaveServerData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).post<SaveServerResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/SaveServer',\n            ...options,\n            headers: {\n                'Content-Type': 'application/json',\n                ...options?.headers\n            }\n        });\n    }\n    \n    public static setServerOrder<ThrowOnError extends boolean = true>(options?: Options<SetServerOrderData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).post<SetServerOrderResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/SetServerOrder',\n            ...options,\n            headers: {\n                'Content-Type': 'application/json',\n                ...options?.headers\n            }\n        });\n    }\n    \n    public static getAncestors<ThrowOnError extends boolean = true>(options?: Options<GetAncestorsData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetAncestorsResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/tree/server/ServerAncestors',\n            ...options\n        });\n    }\n    \n    public static getChildren<ThrowOnError extends boolean = true>(options?: Options<GetChildrenData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetChildrenResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/tree/server/ServerChildren',\n            ...options\n        });\n    }\n    \n    public static root<ThrowOnError extends boolean = true>(options?: Options<RootData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<RootResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/tree/server/ServerRoot',\n            ...options\n        });\n    }\n    \n}\n\nexport class SettingsService {\n    public static getButtons<ThrowOnError extends boolean = true>(options?: Options<GetButtonsData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetButtonsResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetButtons',\n            ...options\n        });\n    }\n    \n    public static getDescendantCount<ThrowOnError extends boolean = true>(options?: Options<GetDescendantCountData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetDescendantCountResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetDescendantCount',\n            ...options\n        });\n    }\n    \n    public static getSettings<ThrowOnError extends boolean = true>(options?: Options<GetSettingsData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetSettingsResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetSettings',\n            ...options\n        });\n    }\n    \n    public static getUserGroups<ThrowOnError extends boolean = true>(options?: Options<GetUserGroupsData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetUserGroupsResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetUserGroups',\n            ...options\n        });\n    }\n    \n    public static reloadSettings<ThrowOnError extends boolean = true>(options?: Options<ReloadSettingsData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<ReloadSettingsResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/ReloadSettings',\n            ...options\n        });\n    }\n    \n    public static saveSettings<ThrowOnError extends boolean = true>(options?: Options<SaveSettingsData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).post<SaveSettingsResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/SaveSettings',\n            ...options,\n            headers: {\n                'Content-Type': 'application/json',\n                ...options?.headers\n            }\n        });\n    }\n    \n    public static syncSettings<ThrowOnError extends boolean = true>(options?: Options<SyncSettingsData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).post<SyncSettingsResponse, SyncSettingsError, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/SyncSettings',\n            ...options,\n            headers: {\n                'Content-Type': 'application/json',\n                ...options?.headers\n            }\n        });\n    }\n    \n}\n\nexport class StrategyService {\n    public static getActionView<ThrowOnError extends boolean = true>(options?: Options<GetActionViewData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetActionViewResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetActionViewModel',\n            ...options\n        });\n    }\n    \n    public static getServerByAlias<ThrowOnError extends boolean = true>(options?: Options<GetServerByAliasData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetServerByAliasResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetServerByAlias',\n            ...options\n        });\n    }\n    \n    public static getStrategyByPublisher<ThrowOnError extends boolean = true>(options?: Options<GetStrategyByPublisherData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetStrategyByPublisherResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetStrategyByPublisher',\n            ...options\n        });\n    }\n    \n    public static getStrategyByServer<ThrowOnError extends boolean = true>(options?: Options<GetStrategyByServerData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetStrategyByServerResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetStrategyByServer',\n            ...options\n        });\n    }\n    \n    public static getSyncItem<ThrowOnError extends boolean = true>(options?: Options<GetSyncItemData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetSyncItemResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetSyncItem',\n            ...options\n        });\n    }\n    \n    /**\n     * @deprecated\n     */\n    public static getSyncSendOptions<ThrowOnError extends boolean = true>(options?: Options<GetSyncSendOptionsData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetSyncSendOptionsResponse, GetSyncSendOptionsError, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetSyncSendOptions',\n            ...options\n        });\n    }\n    \n    public static getSyncSendOptionsByMode<ThrowOnError extends boolean = true>(options?: Options<GetSyncSendOptionsByModeData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetSyncSendOptionsByModeResponse, GetSyncSendOptionsByModeError, ThrowOnError>({\n            url: '/umbraco/usync/api/v2/Publisher/GetSyncSendOptions',\n            ...options\n        });\n    }\n    \n}\n\nexport class TemplatesService {\n    public static getTemplates<ThrowOnError extends boolean = true>(options?: Options<GetTemplatesData, ThrowOnError>) {\n        return (options?.client ?? _heyApiClient).get<GetTemplatesResponse, unknown, ThrowOnError>({\n            url: '/umbraco/usync/api/v1/Publisher/GetTemplates',\n            ...options\n        });\n    }\n    \n}","export const USYNC_PUBLISHER_DETAILS_MODAL_ALIAS = 'usync.publisher.details.modal';\r\nexport const USYNC_PUBLISHER_DETAILS_CONTEXT_ALIAS = 'usync.publisher.details.workspace';\r\n\r\nexport const USYNC_PUBLISHER_DETAILS_ENTITY = 'usync-change-detail';\r\n","import { UmbModalToken } from '@umbraco-cms/backoffice/modal';\r\nimport {\r\n\tuSyncPublisherChangeDetailsData,\r\n\tuSyncPublisherChangeDetailsValue,\r\n} from './types';\r\nimport { USYNC_PUBLISHER_DETAILS_MODAL_ALIAS } from './entities';\r\n\r\nexport const USYNC_PUBLISHER_DETAILS_MODAL = new UmbModalToken<\r\n\tuSyncPublisherChangeDetailsData,\r\n\tuSyncPublisherChangeDetailsValue\r\n>(USYNC_PUBLISHER_DETAILS_MODAL_ALIAS, {\r\n\tmodal: {\r\n\t\ttype: 'sidebar',\r\n\t\tsize: 'full',\r\n\t},\r\n});\r\n","import { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport { tryExecute } from '@umbraco-cms/backoffice/resources';\r\nimport { BrowserService, UdiModel } from '../api';\r\n\r\nexport class SyncPublisherBrowserSource {\r\n\t#host: UmbControllerHost;\r\n\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tthis.#host = host;\r\n\t}\r\n\r\n\tasync getContentFolders(id: string, server: string, page: number) {\r\n\t\treturn await tryExecute(\r\n\t\t\tthis.#host,\r\n\t\t\tBrowserService.getContentFolders({ query: { id: id, server: server, page: page } }),\r\n\t\t);\r\n\t}\r\n\r\n\tasync getMediaFolders(id: string, server: string, page: number) {\r\n\t\treturn await tryExecute(\r\n\t\t\tthis.#host,\r\n\t\t\tBrowserService.getMediaFolders({ query: { id: id, server: server, page: page } }),\r\n\t\t);\r\n\t}\r\n\r\n\tasync getLocalContentFolders(id: string, page: number) {\r\n\t\treturn await tryExecute(\r\n\t\t\tthis.#host,\r\n\t\t\tBrowserService.getLocalContentFolders({ query: { id: id, page: page } }),\r\n\t\t);\r\n\t}\r\n\r\n\tasync getLocalMediaFolders(id: string, page: number) {\r\n\t\treturn await tryExecute(\r\n\t\t\tthis.#host,\r\n\t\t\tBrowserService.getLocalMediaFolders({ query: { id: id, page: page } }),\r\n\t\t);\r\n\t}\r\n\r\n\tasync calculateContentChanges(server: string, udis: UdiModel[]) {\r\n\t\treturn await tryExecute(\r\n\t\t\tthis.#host,\r\n\t\t\tBrowserService.calculateContentChanges({ query: { server: server }, body: udis }),\r\n\t\t);\r\n\t}\r\n\r\n\tasync calculateMediaChanges(server: string, udis: UdiModel[]) {\r\n\t\treturn await tryExecute(\r\n\t\t\tthis.#host,\r\n\t\t\tBrowserService.calculateMediaChanges({ query: { server: server }, body: udis }),\r\n\t\t);\r\n\t}\r\n\r\n\tasync getContentEntity(id: string, server: string) {\r\n\t\treturn await tryExecute(\r\n\t\t\tthis.#host,\r\n\t\t\tBrowserService.getContentEntity({ query: { id: id, server: server } }),\r\n\t\t);\r\n\t}\r\n\r\n\tasync getMediaEntity(id: string, server: string) {\r\n\t\treturn await tryExecute(\r\n\t\t\tthis.#host,\r\n\t\t\tBrowserService.getMediaEntity({ query: { id: id, server: server } }),\r\n\t\t);\r\n\t}\r\n\r\n\tasync hasContent() {\r\n\t\treturn await tryExecute(this.#host, BrowserService.hasContent());\r\n\t}\r\n\r\n\tasync hasMedia() {\r\n\t\treturn await tryExecute(this.#host, BrowserService.hasMedia());\r\n\t}\r\n\r\n\tasync hasContentOrMedia(checkEnabled: boolean) {\r\n\t\treturn await tryExecute(\r\n\t\t\tthis.#host,\r\n\t\t\tBrowserService.hasContentOrMedia({ query: { checkEnabled: checkEnabled } }),\r\n\t\t);\r\n\t}\r\n}\r\n","import { UmbControllerBase } from '@umbraco-cms/backoffice/class-api';\r\nimport { SyncPublisherBrowserSource } from './browser.source';\r\nimport { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport { UdiModel } from '../api';\r\n\r\nexport class SyncPublisherBrowserRepository extends UmbControllerBase {\r\n\t#browserSource: SyncPublisherBrowserSource;\r\n\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tsuper(host);\r\n\t\tthis.#browserSource = new SyncPublisherBrowserSource(this);\r\n\t}\r\n\r\n\tasync getContentFolders(id: string, server: string, page: number) {\r\n\t\treturn (await this.#browserSource.getContentFolders(id, server, page)).data;\r\n\t}\r\n\r\n\tasync getMediaFolders(id: string, server: string, page: number) {\r\n\t\treturn (await this.#browserSource.getMediaFolders(id, server, page)).data;\r\n\t}\r\n\r\n\tasync getLocalContentFolders(id: string, page: number) {\r\n\t\treturn (await this.#browserSource.getLocalContentFolders(id, page)).data;\r\n\t}\r\n\r\n\tasync getLocalMediaFolders(id: string, page: number) {\r\n\t\treturn (await this.#browserSource.getLocalMediaFolders(id, page)).data;\r\n\t}\r\n\r\n\tasync calculateContentChanges(server: string, udis: UdiModel[]) {\r\n\t\treturn (await this.#browserSource.calculateContentChanges(server, udis)).data;\r\n\t}\r\n\r\n\tasync calculateMediaChanges(server: string, udis: UdiModel[]) {\r\n\t\treturn (await this.#browserSource.calculateMediaChanges(server, udis)).data;\r\n\t}\r\n\r\n\tasync getContentEntity(id: string, server: string) {\r\n\t\treturn (await this.#browserSource.getContentEntity(id, server)).data;\r\n\t}\r\n\r\n\tasync getMediaEntity(id: string, server: string) {\r\n\t\treturn (await this.#browserSource.getMediaEntity(id, server)).data;\r\n\t}\r\n\r\n\tasync hasContent() {\r\n\t\treturn (await this.#browserSource.hasContent()).data;\r\n\t}\r\n\r\n\tasync hasMedia() {\r\n\t\treturn (await this.#browserSource.hasMedia()).data;\r\n\t}\r\n\r\n\tasync hasContentOrMedia(checkEnabled: boolean = false) {\r\n\t\treturn (await this.#browserSource.hasContentOrMedia(checkEnabled)).data;\r\n\t}\r\n}\r\n","import {\r\n\tcustomElement,\r\n\thtml,\r\n\tnothing,\r\n\tstate,\r\n\twhen,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbModalBaseElement } from '@umbraco-cms/backoffice/modal';\r\nimport { SplitEntityView } from '../api';\r\nimport { SyncPublisherBrowserRepository } from '../browsers/browser.repository';\r\nimport {\r\n\tuSyncPublisherChangeDetailsData,\r\n\tuSyncPublisherChangeDetailsValue,\r\n} from './types';\r\n\r\n@customElement('usync-publisher-change-details-modal')\r\nexport default class uSyncPublisherChangeDetailsModal extends UmbModalBaseElement<\r\n\tuSyncPublisherChangeDetailsData,\r\n\tuSyncPublisherChangeDetailsValue\r\n> {\r\n\t#browserRepository: SyncPublisherBrowserRepository;\r\n\r\n\t@state()\r\n\tentityView?: SplitEntityView;\r\n\r\n\tisContent: boolean = true;\r\n\r\n\t@state()\r\n\thasCompare: boolean = false;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.#browserRepository = new SyncPublisherBrowserRepository(this);\r\n\t}\r\n\r\n\tasync #getDetail(id?: string, server?: string) {\r\n\t\tif (!id || !server) return;\r\n\r\n\t\tconst detail = this.isContent\r\n\t\t\t? await this.#browserRepository.getContentEntity(id, server)\r\n\t\t\t: await this.#browserRepository.getMediaEntity(id, server);\r\n\r\n\t\tif (!detail) return;\r\n\t\tthis.entityView = detail;\r\n\t}\r\n\r\n\tasync connectedCallback() {\r\n\t\tsuper.connectedCallback();\r\n\r\n\t\tthis.isContent = this.data?.item.itemType == 'IContent';\r\n\t\tthis.hasCompare =\r\n\t\t\tthis.data?.item.itemType == 'IContent' || this.data?.item.itemType == 'IMedia';\r\n\r\n\t\tthis.viewDetails = !(this.data?.compareDefault ?? false);\r\n\r\n\t\tawait this.#getDetail(this.data?.item.key, this.data?.server);\r\n\t}\r\n\r\n\t/**\r\n\t * close the modal\r\n\t */\r\n\t#onClose() {\r\n\t\tthis.modalContext?.reject();\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout headline=\"Changes: ${this.data?.item.name ?? ''}\">\r\n\t\t\t\t${this.renderTabs()}\r\n\t\t\t\t${when(\r\n\t\t\t\t\tthis.viewDetails == true,\r\n\t\t\t\t\t() => this.renderDetail(),\r\n\t\t\t\t\t() => this.renderCompare(),\r\n\t\t\t\t)}\r\n\t\t\t\t<div slot=\"actions\">\r\n\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tid=\"cancel\"\r\n\t\t\t\t\t\tlabel=${this.localize.term('general_close')}\r\n\t\t\t\t\t\t@click=${this.#onClose}></uui-button>\r\n\t\t\t\t</div>\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\t@state()\r\n\tviewDetails: boolean = true;\r\n\r\n\trenderTabs() {\r\n\t\treturn html`\r\n\t\t\t<uui-tab-group slot=\"navigation\">\r\n\t\t\t\t${!this.data?.item\r\n\t\t\t\t\t? nothing\r\n\t\t\t\t\t: html` <uui-tab\r\n\t\t\t\t\t\t\tlabel=\"details\"\r\n\t\t\t\t\t\t\t?active=${this.viewDetails}\r\n\t\t\t\t\t\t\t@click=${() => (this.viewDetails = true)}>\r\n\t\t\t\t\t\t\t<umb-localize key=\"usyncpublish_detailsTab\"></umb-localize>\r\n\t\t\t\t\t\t\t<uui-icon slot=\"icon\" name=\"icon-bulleted-list\"></uui-icon>\r\n\t\t\t\t\t\t</uui-tab>`}\r\n\t\t\t\t${!this.hasCompare\r\n\t\t\t\t\t? nothing\r\n\t\t\t\t\t: html`\r\n\t\t\t\t\t\t\t<uui-tab\r\n\t\t\t\t\t\t\t\tlabel=\"compare\"\r\n\t\t\t\t\t\t\t\t?active=${!this.viewDetails}\r\n\t\t\t\t\t\t\t\t@click=${() => (this.viewDetails = false)}>\r\n\t\t\t\t\t\t\t\t<umb-localize key=\"usyncpublish_compareTab\"></umb-localize>\r\n\t\t\t\t\t\t\t\t<uui-icon slot=\"icon\" name=\"icon-display\"></uui-icon>\r\n\t\t\t\t\t\t\t</uui-tab>\r\n\t\t\t\t\t\t`}\r\n\t\t\t</uui-tab-group>\r\n\t\t`;\r\n\t}\r\n\r\n\trenderDetail() {\r\n\t\treturn !this.data?.item\r\n\t\t\t? nothing\r\n\t\t\t: html`<usync-publisher-change-details-default\r\n\t\t\t\t\t.item=${this.data.item}></usync-publisher-change-details-default>`;\r\n\t}\r\n\r\n\trenderCompare() {\r\n\t\treturn !this.entityView\r\n\t\t\t? nothing\r\n\t\t\t: html`<usync-publisher-change-compare\r\n\t\t\t\t\t.isContent=${this.isContent}\r\n\t\t\t\t\t.details=${this.entityView}></usync-publisher-change-compare> `;\r\n\t}\r\n}\r\n","import { customElement, html, property } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { USyncActionView } from '../../api';\r\n\r\n@customElement('usync-publisher-change-details-default')\r\nexport class uSyncPublisherChangeDetailsElement extends UmbLitElement {\r\n\t@property({ type: Object })\r\n\titem: USyncActionView | null | undefined;\r\n\r\n\trender() {\r\n\t\treturn html`\r\n\t\t\t<uui-box .headline=${this.localize.term('uSync_detailHeadline')}>\r\n\t\t\t\t<div slot=\"header\">\r\n\t\t\t\t\t<umb-localize key=\"uSync_detailHeader\"></umb-localize>\r\n\t\t\t\t</div>\r\n\t\t\t\t<usync-change-view .item=${this.item}></usync-change-view>\r\n\t\t\t</uui-box>\r\n\t\t`;\r\n\t}\r\n}\r\n\r\nexport default uSyncPublisherChangeDetailsElement;\r\n","import {\r\n\tcss,\r\n\tcustomElement,\r\n\thtml,\r\n\tnothing,\r\n\tproperty,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { SplitEntityView, USyncEntityView } from '../../api';\r\nimport { UmbImageCropperPropertyEditorValue } from '@umbraco-cms/backoffice/media';\r\n\r\n@customElement('usync-publisher-change-compare')\r\nexport class uSyncPublisherChangeCompareElement extends UmbLitElement {\r\n\t@property({ type: Boolean })\r\n\tisContent: boolean = true;\r\n\r\n\t@property({ type: Object })\r\n\tdetails?: SplitEntityView;\r\n\r\n\trender() {\r\n\t\treturn html`<div class=\"compare\">\r\n\t\t\t${this.isContent ? this.renderContent() : this.renderMedia()}\r\n\t\t</div>`;\r\n\t}\r\n\r\n\trenderContent() {\r\n\t\treturn html`${this.renderLocalContent()} ${this.renderRemoteContent()}`;\r\n\t}\r\n\r\n\trenderLocalContent() {\r\n\t\tif (!this.details?.local?.localUrl) return nothing;\r\n\t\treturn html`\r\n\t\t\t<div class=\"view\">\r\n\t\t\t\t<h4>${this.details.local.localUrl}</h4>\r\n\t\t\t\t<iframe\r\n\t\t\t\t\t.src=${this.details?.local?.localUrl}\r\n\t\t\t\t\tframeborder=\"0\"\r\n\t\t\t\t\tscrolling=\"no\"\r\n\t\t\t\t\t.onload=${this.#onIFrameLoadAndResize}></iframe>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\trenderRemoteContent() {\r\n\t\tif (!this.details?.remote?.remoteUrl) return nothing;\r\n\t\treturn html` <div class=\"view\">\r\n\t\t\t<h4>${this.details.remote.remoteUrl}</h4>\r\n\t\t\t<iframe\r\n\t\t\t\tid=\"target-view\"\r\n\t\t\t\t.src=${this.details?.remote?.remoteUrl}\r\n\t\t\t\tframeborder=\"0\"\r\n\t\t\t\tscrolling=\"no\"></iframe>\r\n\t\t</div>`;\r\n\t}\r\n\r\n\t#onIFrameLoadAndResize(e: Event) {\r\n\t\tconst source = e.target as HTMLIFrameElement;\r\n\t\tif (!source) return;\r\n\r\n\t\ttry {\r\n\t\t\tsource.style.height =\r\n\t\t\t\tsource.contentWindow?.document.documentElement.scrollHeight + 'px';\r\n\t\t} catch {\r\n\t\t\tsource.style.height = '2000px';\r\n\t\t}\r\n\r\n\t\tconst frames = Array.from(\r\n\t\t\tthis.parentElement?.parentElement?.getElementsByTagName('iframe') ?? [],\r\n\t\t);\r\n\t\tframes.forEach((frame) => {\r\n\t\t\tframe.style.height = source.style.height;\r\n\t\t});\r\n\t}\r\n\r\n\trenderMedia() {\r\n\t\treturn html` ${this.renderMediaView(this.details?.local)}\r\n\t\t${this.renderMediaView(this.details?.remote)}`;\r\n\t}\r\n\r\n\trenderMediaView(view: USyncEntityView | null | undefined) {\r\n\t\tif (!view?.localUrl) return html`<div class=\"view\">No item</div>`;\r\n\r\n\t\treturn html`\r\n\t\t\t<div class=\"view\">\r\n\t\t\t\t<h4>${view.localUrl}</h4>\r\n\t\t\t\t<div class=\"main\">\r\n\t\t\t\t\t<img .src=${view.localUrl} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"crops\">${this.renderCrops(view.mediaProperty)}</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\trenderCrops(crops: string | null | undefined) {\r\n\t\tif (!crops) return nothing;\r\n\t\tconst cropJson = JSON.parse(crops) as UmbImageCropperPropertyEditorValue;\r\n\t\tif (!cropJson) return nothing;\r\n\r\n\t\tif (!cropJson.crops) {\r\n\t\t\tcropJson.crops = [];\r\n\t\t}\r\n\r\n\t\treturn html`\r\n\t\t\t<umb-image-cropper-field .value=${cropJson} .crops=${[]}></umb-image-cropper-field>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic styles = css`\r\n\t\t.compare {\r\n\t\t\tdisplay: flex;\r\n\t\t\tgap: 20px;\r\n\t\t\tjustify-content: stretch;\r\n\t\t\theight: calc(100vh - 250px);\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\r\n\t\t.compare .view {\r\n\t\t\tflex-grow: 2;\r\n\t\t}\r\n\r\n\t\t.compare iframe {\r\n\t\t\tborder: 1px solid #567;\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\r\n\t\t.view img {\r\n\t\t\tmax-width: 100%;\r\n\t\t}\r\n\t`;\r\n}\r\n\r\nexport default uSyncPublisherChangeCompareElement;\r\n","import {\r\n\tcss,\r\n\tcustomElement,\r\n\thtml,\r\n\tnothing,\r\n\tproperty,\r\n\tstate,\r\n\tTemplateResult,\r\n\twhen,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { ChangeType, USyncActionView } from '../../api';\r\nimport { UMB_MODAL_MANAGER_CONTEXT } from '@umbraco-cms/backoffice/modal';\r\nimport { USYNC_PUBLISHER_DETAILS_MODAL } from '../../change';\r\n\r\n@customElement('usync-publisher-report-view')\r\nexport class uSyncPublisherReportView extends UmbLitElement {\r\n\t@state()\r\n\t_modalPath = '';\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\t@state()\r\n\tshowAll: boolean = false;\r\n\r\n\t@property({ type: String })\r\n\theadline: string = 'Change report';\r\n\r\n\t@property({ type: Boolean })\r\n\tisReport: boolean = true;\r\n\r\n\t@property({ type: Array })\r\n\tresults?: USyncActionView[];\r\n\r\n\t@property({ type: String })\r\n\tserver?: string;\r\n\r\n\t#getChangeCount(): number {\r\n\t\tlet changes = 0;\r\n\t\tthis.results?.forEach((r) => {\r\n\t\t\tif (r.change !== ChangeType.NO_CHANGE) {\r\n\t\t\t\tchanges++;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn changes;\r\n\t}\r\n\r\n\tasync #showDetail(e: CustomEvent<USyncActionView>) {\r\n\t\tconst action = e.detail;\r\n\t\tif (action.change == ChangeType.NO_CHANGE) return;\r\n\r\n\t\tconst modalManager = await this.getContext(UMB_MODAL_MANAGER_CONTEXT);\r\n\r\n\t\tconst detailsModal = modalManager?.open(this, USYNC_PUBLISHER_DETAILS_MODAL, {\r\n\t\t\tdata: { server: this.server, item: action },\r\n\t\t});\r\n\r\n\t\tconst data = await detailsModal?.onSubmit();\r\n\t\tif (!data) return;\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst changes = this.#getChangeCount();\r\n\r\n\t\treturn html`\r\n\t\t\t${this.renderChangeSummary(changes)}\r\n\t\t\t<uui-box .headline=${this.headline} style=\"--uui-box-default-padding: 0px;\">\r\n\t\t\t\t<div slot=\"header-actions\">${this.renderToggle()}</div>\r\n\t\t\t</uui-box>\r\n\t\t\t${when(this.showAll || changes > 0, () => this.renderTable())}\r\n\t\t`;\r\n\t}\r\n\r\n\trenderToggle() {\r\n\t\treturn html`\r\n\t\t\t<uui-toggle\r\n\t\t\t\t.label=${this.localize.term('uSync_showAll')}\r\n\t\t\t\tlabelPosition=\"left\"\r\n\t\t\t\t?checked=${this.showAll}\r\n\t\t\t\t@change=${() => {\r\n\t\t\t\t\tthis.showAll = !this.showAll;\r\n\t\t\t\t}}></uui-toggle>\r\n\t\t`;\r\n\t}\r\n\r\n\trenderChangeSummary(changes: number) {\r\n\t\treturn this.isReport\r\n\t\t\t? this.renderReportSummary(changes)\r\n\t\t\t: this.renderResultSummary(changes);\r\n\t}\r\n\r\n\trenderReportSummary(changes: number) {\r\n\t\treturn changes > 0\r\n\t\t\t? html`<div class=\"change-msg warning\">\r\n\t\t\t\t\t<div><uui-icon name=\"icon-layout\"></uui-icon></div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t${changes} pending change${when(changes > 1, () => 's')} across\r\n\t\t\t\t\t\t\t${this.results?.length} items.\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t<p>You can review the changes here before they are applied.</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>`\r\n\t\t\t: html`<div class=\"change-msg positive\">\r\n\t\t\t\t\t<div><uui-icon name=\"icon-checkbox-dotted\"></uui-icon></div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h3>No changes detected</h3>\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t${this.results?.length}\r\n\t\t\t\t\t\t\titem${when(\r\n\t\t\t\t\t\t\t\tthis.results?.length ?? 0 > 1,\r\n\t\t\t\t\t\t\t\t() => 's where',\r\n\t\t\t\t\t\t\t\t() => ' was',\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\tchecked. It looks like the server is upto date and there are no new changes\r\n\t\t\t\t\t\t\tto be made.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>`;\r\n\t}\r\n\r\n\trenderResultSummary(changes: number) {\r\n\t\treturn changes > 0\r\n\t\t\t? html`<div class=\"change-msg positive\t\">\r\n\t\t\t\t\t<div><uui-icon name=\"icon-check\"></uui-icon></div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t${changes}\r\n\t\t\t\t\t\t\tchange${when(\r\n\t\t\t\t\t\t\t\tchanges > 1,\r\n\t\t\t\t\t\t\t\t() => 's where',\r\n\t\t\t\t\t\t\t\t() => ' was',\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\tmade across ${this.results?.length} items.\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t<p>You can see what changes were made in the report below.</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>`\r\n\t\t\t: html`<div class=\"change-msg positive\">\r\n\t\t\t\t\t<div><uui-icon name=\"icon-checkbox-dotted\"></uui-icon></div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h3>No changes detected</h3>\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t${this.results?.length}\r\n\t\t\t\t\t\t\titem${when(\r\n\t\t\t\t\t\t\t\tthis.results?.length ?? 0 > 1,\r\n\t\t\t\t\t\t\t\t() => 's where',\r\n\t\t\t\t\t\t\t\t() => ' was',\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\tchecked. Nothing changed.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>`;\r\n\t}\r\n\r\n\trenderTable() {\r\n\t\treturn html` ${this.renderGroups()} `;\r\n\t}\r\n\r\n\trenderGroups() {\r\n\t\tconst groups = this.groupBy(this.results ?? [], (item) => item.itemType);\r\n\t\tconst groupedHtml: TemplateResult[] = [];\r\n\t\tconst sortedGroups = Object.keys(groups).sort();\r\n\r\n\t\tsortedGroups.forEach((key) => {\r\n\t\t\tif (groups[key].length === 0) return nothing;\r\n\t\t\tif (this.showAll === false && this.getChangeCount(groups[key]) === 0)\r\n\t\t\t\treturn nothing;\r\n\r\n\t\t\tconst groupHtml = html`<usync-publisher-grouped-report-table\r\n\t\t\t\t.results=${groups[key]}\r\n\t\t\t\t.showAll=${this.showAll}\r\n\t\t\t\t@show-detail=${this.#showDetail}\r\n\t\t\t\t.groupName=${key}></usync-publisher-grouped-report-table>`;\r\n\r\n\t\t\tgroupedHtml.push(groupHtml);\r\n\t\t});\r\n\r\n\t\treturn html`<div class=\"groups\">${groupedHtml}</div>`;\r\n\t}\r\n\r\n\tgroupBy<T>(arr: T[], fn: (item: T) => string) {\r\n\t\treturn arr.reduce<Record<string, T[]>>((prev, curr) => {\r\n\t\t\tconst groupKey = fn(curr);\r\n\t\t\tconst group = prev[groupKey] || [];\r\n\t\t\tgroup.push(curr);\r\n\t\t\treturn { ...prev, [groupKey]: group };\r\n\t\t}, {});\r\n\t}\r\n\r\n\tgetChangeCount(results: USyncActionView[]): number {\r\n\t\treturn results?.filter((r) => r.change !== ChangeType.NO_CHANGE).length;\r\n\t}\r\n\r\n\tstatic styles = css`\r\n\t\t.groups {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tgap: var(--uui-size-space-4);\r\n\t\t}\r\n\r\n\t\t.change-msg {\r\n\t\t\tdisplay: flex;\r\n\t\t\tgap: var(--uui-size-space-4);\r\n\t\t\tpadding: var(--uui-size-3);\r\n\t\t\tmargin-bottom: var(--uui-size-3);\r\n\t\t\tbackground-color: var(--uui-color-border);\r\n\t\t}\r\n\r\n\t\t.change-msg.positive {\r\n\t\t\tbackground-color: var(--uui-color-positive-emphasis);\r\n\t\t\tcolor: var(--uui-color-positive-contrast);\r\n\t\t\tbox-shadow: var(--uui-shadow-depth-1);\r\n\t\t}\r\n\r\n\t\t.change-msg.warning {\r\n\t\t\tbackground-color: var(--uui-color-selected);\r\n\t\t\tcolor: var(--uui-color-selected-contrast);\r\n\t\t\tbox-shadow: var(--uui-shadow-depth-1);\r\n\t\t}\r\n\r\n\t\t.change-msg > * {\r\n\t\t\tmargin: var(--uui-size-4) 0;\r\n\t\t}\r\n\r\n\t\t.change-msg uui-icon {\r\n\t\t\tfont-size: 40pt;\r\n\t\t}\r\n\r\n\t\th3 {\r\n\t\t\tmargin: 0;\r\n\t\t}\r\n\r\n\t\tuui-box {\r\n\t\t\tmargin-bottom: var(--uui-size-3);\r\n\t\t}\r\n\r\n\t\tuui-table-row:hover {\r\n\t\t\tbackground-color: var(--uui-color-disabled);\r\n\t\t}\r\n\t`;\r\n}\r\n\r\nexport default uSyncPublisherReportView;\r\n","import { UmbElementMixin } from '@umbraco-cms/backoffice/element-api';\r\nimport {\r\n\tLitElement,\r\n\tcss,\r\n\tcustomElement,\r\n\thtml,\r\n\tnothing,\r\n\tproperty,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { SyncSendOption } from '../../api';\r\n\r\nexport type PublisherYesNoDetail = {\r\n\tid: string;\r\n\tselected: boolean;\r\n};\r\n\r\n@customElement('usync-publisher-yes-no-checkbox')\r\nexport class uSyncPublisherYesNoElement extends UmbElementMixin(LitElement) {\r\n\t@property({ type: Object })\r\n\tvalue?: SyncSendOption;\r\n\r\n\t@property()\r\n\tlabel: string = '';\r\n\r\n\t#onChange(e: InputEvent) {\r\n\t\tconst target = e.target as HTMLInputElement;\r\n\r\n\t\tthis.dispatchEvent(\r\n\t\t\tnew CustomEvent<PublisherYesNoDetail>('item-selected', {\r\n\t\t\t\tbubbles: true,\r\n\t\t\t\tcomposed: true,\r\n\t\t\t\tdetail: {\r\n\t\t\t\t\tid: this.id,\r\n\t\t\t\t\tselected: target.checked,\r\n\t\t\t\t},\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn this.value?.editable == false\r\n\t\t\t? nothing\r\n\t\t\t: html`\r\n\t\t\t\t\t<uui-checkbox\r\n\t\t\t\t\t\tname=\"checkbox\"\r\n\t\t\t\t\t\t.label=${this.localize.term(this.label)}\r\n\t\t\t\t\t\t.checked=${this.value?.value ?? false}\r\n\t\t\t\t\t\t@change=${this.#onChange}></uui-checkbox>\r\n\t\t\t\t`;\r\n\t}\r\n\r\n\tstatic styles = css`\r\n\t\t:host {\r\n\t\t\tdisplay: block;\r\n\t\t}\r\n\t`;\r\n}\r\n\r\nexport default uSyncPublisherYesNoElement;\r\n","import { UmbElementMixin } from '@umbraco-cms/backoffice/element-api';\r\nimport {\r\n\tcss,\r\n\tcustomElement,\r\n\thtml,\r\n\tLitElement,\r\n\tnothing,\r\n\tproperty,\r\n\tstate,\r\n\twhen,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { SyncSendOption, SyncSendOptions } from '../../api';\r\nimport { PublisherYesNoDetail } from './yes-no.element';\r\n\r\n/**\r\n * @description user picker for options when pushing or pulling.\r\n *\r\n * @property {SyncSendOptions} settings - the settings for the sync.\r\n * @property {boolean} showAdvanced - show the advanced options by default.\r\n * @property {Record<string, unknown>} serverSettings - the settings for the server.\r\n *\r\n * @fires update-settings - when the settings are updated.\r\n * @fires update-release-date - when the schedule date is updated.\r\n */\r\n@customElement('usync-publisher-sync-options')\r\nexport default class uSyncPublisherSyncOptionsElement extends UmbElementMixin(\r\n\tLitElement,\r\n) {\r\n\t@property({ type: Object })\r\n\tsettings?: SyncSendOptions;\r\n\r\n\t@property({ type: Object })\r\n\tserverSettings?: Record<string, unknown>;\r\n\r\n\t@property({ type: Boolean })\r\n\tshowAdvanced: boolean = false;\r\n\r\n\t@property({ type: Object })\r\n\tpublisherSettings?: Record<string, unknown>;\r\n\r\n\t@property({ type: Boolean })\r\n\tcanBeScheduled: boolean = true;\r\n\r\n\t@state()\r\n\t_showAdvanced?: boolean;\r\n\r\n\t@state()\r\n\t_userRemoveValue?: boolean;\r\n\r\n\t#onUpdateSendOption(syncOption: SyncSendOption, id: string, selected: boolean) {\r\n\t\tconst item = {\r\n\t\t\t[id]: {\r\n\t\t\t\teditable: syncOption.editable,\r\n\t\t\t\tvalue: selected,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst merge = Object.assign({}, this.settings, item);\r\n\r\n\t\tthis.dispatchEvent(\r\n\t\t\tnew CustomEvent<SyncSendOptions>('update-settings', {\r\n\t\t\t\tbubbles: true,\r\n\t\t\t\tcomposed: true,\r\n\t\t\t\tdetail: merge,\r\n\t\t\t}),\r\n\t\t);\r\n\r\n\t\treturn item;\r\n\t}\r\n\r\n\t#updateDeleteMissing(value: boolean) {\r\n\t\tif (!this.settings) return;\r\n\t\tif (value == false) this.settings.deleteMissing.value = false;\r\n\t\tif (value == true) this.settings.deleteMissing.value = this._userRemoveValue ?? false;\r\n\t\tthis.#onUpdateSendOption(this.settings.deleteMissing, 'deleteMissing', false);\r\n\t}\r\n\r\n\t#onUpdate(id: string, setting: SyncSendOption) {\r\n\t\tsetting.value = !setting.value;\r\n\r\n\t\tthis.#onUpdateSendOption(setting, id, setting.value);\r\n\r\n\t\tif (id == 'includeChildren') {\r\n\t\t\tthis.#updateDeleteMissing(setting.value);\r\n\t\t\t// we need to do this, because we update the delete setting as well.\r\n\t\t\tthis.requestUpdate();\r\n\t\t}\r\n\r\n\t\tif (id == 'deleteMissing') {\r\n\t\t\tthis._userRemoveValue = setting.value;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * fire this update whenever options are changed.\r\n\t */\r\n\tasync #onChange(e: CustomEvent<PublisherYesNoDetail>) {\r\n\t\tif (this.settings == null) return;\r\n\r\n\t\tconst option = this.settings[e.detail.id as keyof SyncSendOptions];\r\n\r\n\t\tif (!this._isSendOption(option)) return;\r\n\r\n\t\tconst syncOption: SyncSendOption = option;\r\n\r\n\t\tthis.#onUpdateSendOption(syncOption, e.detail.id, e.detail.selected);\r\n\t}\r\n\r\n\t#onDateChange(e: Event) {\r\n\t\tconst element = e.target as HTMLInputElement;\r\n\t\tif (!element) return;\r\n\r\n\t\tthis.dispatchEvent(\r\n\t\t\tnew CustomEvent<string>('update-release-date', {\r\n\t\t\t\tbubbles: true,\r\n\t\t\t\tcomposed: true,\r\n\t\t\t\tdetail: element.value,\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\t_hasAdvanced(settings: SyncSendOptions, includePublish: boolean) {\r\n\t\tif (this._showAdvanced === undefined) {\r\n\t\t\tthis._showAdvanced = !settings.hideAdvanced;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\tsettings['includeConfig'].editable ||\r\n\t\t\tsettings['createRestorePoint'].editable ||\r\n\t\t\tsettings['includeAncestors'].editable ||\r\n\t\t\tsettings['includeDependencies'].editable ||\r\n\t\t\tsettings['includeFiles'].editable ||\r\n\t\t\tsettings['includeLinked'].editable ||\r\n\t\t\t(includePublish && this.publisherSettings?.canSchedule && this.canBeScheduled)\r\n\t\t);\r\n\t}\r\n\r\n\t_isSendOption(option: SyncSendOption | boolean | string): option is SyncSendOption {\r\n\t\treturn (option as SyncSendOption).value !== undefined;\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this._userRemoveValue == undefined && this.settings !== undefined) {\r\n\t\t\tthis._userRemoveValue = this.settings?.deleteMissing.value ?? false;\r\n\t\t}\r\n\r\n\t\tconst headline = 'Settings';\r\n\r\n\t\treturn html`\r\n\t\t\t<uui-box .headline=${headline}>\r\n\t\t\t\t${this.renderDocumentOptionBoxes(this.settings)}\r\n\t\t\t</uui-box>\r\n\r\n\t\t\t${this.renderAdvancedToggle(this.settings)}\r\n\t\t\t${this.renderAdvancedBoxes(this.settings)}\r\n\t\t\t${this.renderPublisherSettings(this.publisherSettings)}\r\n\t\t`;\r\n\t}\r\n\r\n\trenderAdvancedToggle(settings?: SyncSendOptions) {\r\n\t\tif (!settings || !this._hasAdvanced(settings, true)) return nothing;\r\n\r\n\t\treturn this._showAdvanced\r\n\t\t\t? nothing\r\n\t\t\t: html`<uui-button\r\n\t\t\t\t\tlook=\"placeholder\"\r\n\t\t\t\t\tcolor=\"positive\"\r\n\t\t\t\t\tlabel=\"Show advanced\"\r\n\t\t\t\t\t@click=${() => {\r\n\t\t\t\t\t\tthis._showAdvanced = !this._showAdvanced;\r\n\t\t\t\t\t}}></uui-button>`;\r\n\t}\r\n\r\n\trenderDocumentOptionBoxes(settings?: SyncSendOptions) {\r\n\t\treturn !settings\r\n\t\t\t? nothing\r\n\t\t\t: html`\r\n\t\t\t\t\t<usync-publisher-yes-no-checkbox\r\n\t\t\t\t\t\tid=\"includeChildren\"\r\n\t\t\t\t\t\tlabel=\"Include children\"\r\n\t\t\t\t\t\t.value=${settings?.includeChildren}\r\n\t\t\t\t\t\t@item-selected=${() =>\r\n\t\t\t\t\t\t\tthis.#onUpdate(\r\n\t\t\t\t\t\t\t\t'includeChildren',\r\n\t\t\t\t\t\t\t\tsettings?.includeChildren,\r\n\t\t\t\t\t\t\t)}></usync-publisher-yes-no-checkbox>\r\n\t\t\t\t\t${when(\r\n\t\t\t\t\t\tsettings?.includeChildren.value == true,\r\n\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\thtml` <div\r\n\t\t\t\t\t\t\t\tclass=\"${settings.includeChildren.editable == true ? 'indent' : ''}\">\r\n\t\t\t\t\t\t\t\t<usync-publisher-yes-no-checkbox\r\n\t\t\t\t\t\t\t\t\tid=\"deleteMissing\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Delete missing\"\r\n\t\t\t\t\t\t\t\t\t.value=${settings?.deleteMissing}\r\n\t\t\t\t\t\t\t\t\t@item-selected=${() =>\r\n\t\t\t\t\t\t\t\t\t\tthis.#onUpdate(\r\n\t\t\t\t\t\t\t\t\t\t\t'deleteMissing',\r\n\t\t\t\t\t\t\t\t\t\t\tsettings?.deleteMissing,\r\n\t\t\t\t\t\t\t\t\t\t)}></usync-publisher-yes-no-checkbox>\r\n\t\t\t\t\t\t\t</div>`,\r\n\t\t\t\t\t\t() => nothing,\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<usync-publisher-yes-no-checkbox\r\n\t\t\t\t\t\tid=\"includeMedia\"\r\n\t\t\t\t\t\tlabel=\"Include media\"\r\n\t\t\t\t\t\t.value=${settings?.includeMedia}\r\n\t\t\t\t\t\t@item-selected=${this.#onChange}></usync-publisher-yes-no-checkbox>\r\n\t\t\t\t`;\r\n\t}\r\n\r\n\trenderAdvancedBoxes(settings?: SyncSendOptions) {\r\n\t\treturn !settings || !this._hasAdvanced(settings, false) || !this._showAdvanced\r\n\t\t\t? nothing\r\n\t\t\t: html`\r\n\t\t\t\t\t<uui-box headline=\"Advanced\">\r\n\t\t\t\t\t\t${when(\r\n\t\t\t\t\t\t\tthis._showAdvanced,\r\n\t\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\t\thtml`<div>\r\n\t\t\t\t\t\t\t\t\t<usync-publisher-yes-no-checkbox\r\n\t\t\t\t\t\t\t\t\t\tid=\"includeMediaFiles\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Include media files\"\r\n\t\t\t\t\t\t\t\t\t\t.value=${settings?.includeMediaFiles}\r\n\t\t\t\t\t\t\t\t\t\t@item-selected=${this.#onChange}></usync-publisher-yes-no-checkbox>\r\n\r\n\t\t\t\t\t\t\t\t\t<usync-publisher-yes-no-checkbox\r\n\t\t\t\t\t\t\t\t\t\tid=\"includeDependencies\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Include dependencies\"\r\n\t\t\t\t\t\t\t\t\t\t.value=${settings?.includeDependencies}\r\n\t\t\t\t\t\t\t\t\t\t@item-selected=${this.#onChange}></usync-publisher-yes-no-checkbox>\r\n\r\n\t\t\t\t\t\t\t\t\t<usync-publisher-ys-no-checkbox\r\n\t\t\t\t\t\t\t\t\t\tid=\"createRestorePoint\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Create restore point\"\r\n\t\t\t\t\t\t\t\t\t\t.value=${settings?.createRestorePoint}\r\n\t\t\t\t\t\t\t\t\t\t@item-selected=${this.#onChange}></usync-publisher-ys-no-checkbox>\r\n\r\n\t\t\t\t\t\t\t\t\t<usync-publisher-yes-no-checkbox\r\n\t\t\t\t\t\t\t\t\t\tid=\"includeFiles\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Include files\"\r\n\t\t\t\t\t\t\t\t\t\t.value=${settings?.includeFiles}\r\n\t\t\t\t\t\t\t\t\t\t@item-selected=${this.#onChange}></usync-publisher-yes-no-checkbox>\r\n\r\n\t\t\t\t\t\t\t\t\t<usync-publisher-yes-no-checkbox\r\n\t\t\t\t\t\t\t\t\t\tid=\"includeConfig\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Include config\"\r\n\t\t\t\t\t\t\t\t\t\t.value=${settings?.includeConfig}\r\n\t\t\t\t\t\t\t\t\t\t@item-selected=${this.#onChange}></usync-publisher-yes-no-checkbox>\r\n\r\n\t\t\t\t\t\t\t\t\t<usync-publisher-yes-no-checkbox\r\n\t\t\t\t\t\t\t\t\t\tid=\"createRestorePoint\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Create restore point\"\r\n\t\t\t\t\t\t\t\t\t\t.value=${settings?.createRestorePoint}\r\n\t\t\t\t\t\t\t\t\t\t@item-selected=${this.#onChange}></usync-publisher-yes-no-checkbox>\r\n\r\n\t\t\t\t\t\t\t\t\t<usync-publisher-yes-no-checkbox\r\n\t\t\t\t\t\t\t\t\t\tid=\"includeAncestors\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Include ancestors\"\r\n\t\t\t\t\t\t\t\t\t\t.value=${settings?.includeAncestors}\r\n\t\t\t\t\t\t\t\t\t\t@item-selected=${this.#onChange}></usync-publisher-yes-no-checkbox>\r\n\r\n\t\t\t\t\t\t\t\t\t<usync-publisher-yes-no-checkbox\r\n\t\t\t\t\t\t\t\t\t\tid=\"includeLinked\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Include linked items\"\r\n\t\t\t\t\t\t\t\t\t\t.value=${settings?.includeLinked}\r\n\t\t\t\t\t\t\t\t\t\t@item-selected=${this.#onChange}></usync-publisher-yes-no-checkbox>\r\n\t\t\t\t\t\t\t\t</div>`,\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</uui-box>\r\n\t\t\t\t`;\r\n\t}\r\n\r\n\trenderPublisherSettings(settings?: Record<string, unknown>) {\r\n\t\tif (!this.canBeScheduled || !this._showAdvanced) return nothing;\r\n\t\tif (!settings || !settings.canSchedule) return nothing;\r\n\r\n\t\treturn html`\r\n\t\t\t<uui-box style=\"--uui-box-default-padding: 0px 20px;\">\r\n\t\t\t\t<umb-property-layout\r\n\t\t\t\t\tclass=\"scheduled\"\r\n\t\t\t\t\tlabel=\"Scheduled publish\"\r\n\t\t\t\t\talias=\"schedule\"\r\n\t\t\t\t\torientation=\"vertical\"\r\n\t\t\t\t\tdescription=\"Select a date and time to publish the content\">\r\n\t\t\t\t\t<div slot=\"editor\">\r\n\t\t\t\t\t\t<uui-input\r\n\t\t\t\t\t\t\tlabel=\"scheduled date\"\r\n\t\t\t\t\t\t\tclass=\"date\"\r\n\t\t\t\t\t\t\ttype=\"datetime-local\"\r\n\t\t\t\t\t\t\t@change=${this.#onDateChange}></uui-input>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</umb-property-layout>\r\n\t\t\t</uui-box>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic styles = css`\r\n\t\t:host {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tgap: 10px;\r\n\t\t}\r\n\r\n\t\t.indent {\r\n\t\t\tpadding-left: 10px;\r\n\t\t}\r\n\r\n\t\tusync-publisher-yes-no-checkbox {\r\n\t\t\tmargin-bottom: 3px;\r\n\t\t}\r\n\r\n\t\tuui-input {\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\t`;\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'usync-publisher-sync-options': uSyncPublisherSyncOptionsElement;\r\n\t}\r\n}\r\n","import {\r\n\tclassMap,\r\n\tcss,\r\n\tcustomElement,\r\n\thtml,\r\n\tnothing,\r\n\tproperty,\r\n\tstate,\r\n\twhen,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { ChangeType, USyncActionView } from '../../api';\r\n\r\n@customElement('usync-publisher-grouped-report-table')\r\nexport class uSyncPublisherGroupedReportTable extends UmbLitElement {\r\n\t@property({ type: Boolean })\r\n\tshowAll: boolean = false;\r\n\r\n\t@property({ type: Array })\r\n\tresults?: Array<USyncActionView>;\r\n\r\n\t@state()\r\n\texpanded: boolean = false;\r\n\r\n\t@property({ type: String })\r\n\tgroupName: string = '';\r\n\r\n\tasync #showDetail(action: USyncActionView) {\r\n\t\tthis.dispatchEvent(\r\n\t\t\tnew CustomEvent<USyncActionView>('show-detail', { detail: action }),\r\n\t\t);\r\n\t}\r\n\r\n\tgetChangeCount() {\r\n\t\treturn this.results?.filter((r) => r.change !== ChangeType.NO_CHANGE).length;\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst changeCount = this.getChangeCount() ?? 0;\r\n\r\n\t\tif (changeCount == 0 && this.showAll == false) return nothing;\r\n\r\n\t\treturn html`\r\n\t\t\t<uui-box class=${classMap({ has_changes: changeCount > 0 })}>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass=\"summary ${when(this.expanded, () => 'expanded')}\"\r\n\t\t\t\t\t@click=${() => (this.expanded = !this.expanded)}>\r\n\t\t\t\t\t<h4>${this.localize.term('usyncpublish_' + this.groupName)}</h4>\r\n\t\t\t\t\t<h4 class=\"count\">${changeCount}/${this.results?.length}</h4>\r\n\t\t\t\t</div>\r\n\t\t\t\t<uui-table>\r\n\t\t\t\t\t${when(\r\n\t\t\t\t\t\tthis.expanded == true,\r\n\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\thtml`${this.renderTableHeader()}${this.renderGroupedRows(this.results)}`,\r\n\t\t\t\t\t)}\r\n\t\t\t\t</uui-table>\r\n\t\t\t</uui-box>\r\n\t\t`;\r\n\t}\r\n\r\n\trenderTableHeader() {\r\n\t\treturn html`\r\n\t\t\t<uui-table-head>\r\n\t\t\t\t<uui-table-head-cell class=\"icon-cell\" .noPadding=${true}>\r\n\t\t\t\t\t<!-- <umb-icon name=\"icon-checkbox-dotted\"></umb-icon> -->\r\n\t\t\t\t</uui-table-head-cell>\r\n\t\t\t\t<uui-table-head-cell style=\"--uui-table-cell-padding: var(--uui-size-space-2);\">\r\n\t\t\t\t\t<umb-localize key=\"uSync_changeName\">Name</umb-localize>\r\n\t\t\t\t</uui-table-head-cell>\r\n\t\t\t</uui-table-head>\r\n\t\t`;\r\n\t}\r\n\r\n\trenderGroupedRows(results?: USyncActionView[]) {\r\n\t\tresults?.sort();\r\n\r\n\t\tconst rowsHtml = results?.map((result) => {\r\n\t\t\tif (!this.showAll && result.change == ChangeType.NO_CHANGE) return nothing;\r\n\r\n\t\t\tconst icon =\r\n\t\t\t\tresult.change == ChangeType.NO_CHANGE\r\n\t\t\t\t\t? 'icon-trafic'\r\n\t\t\t\t\t: result.success\r\n\t\t\t\t\t\t? 'icon-check color-green'\r\n\t\t\t\t\t\t: 'icon-wrong color-red';\r\n\r\n\t\t\treturn html`\r\n\t\t\t\t<uui-table-row\r\n\t\t\t\t\tclass=${classMap({ changerow: result.change != ChangeType.NO_CHANGE })}>\r\n\t\t\t\t\t<uui-table-cell class=\"icon-cell\" .noPadding=${true}>\r\n\t\t\t\t\t\t<umb-icon .name=${icon}></umb-icon>\r\n\t\t\t\t\t</uui-table-cell>\r\n\t\t\t\t\t<uui-table-cell\r\n\t\t\t\t\t\t@click=${() => this.#showDetail(result)}\r\n\t\t\t\t\t\t.clipText=${true}\r\n\t\t\t\t\t\tstyle=\"--uui-table-cell-padding: var(--uui-size-space-2);\">\r\n\t\t\t\t\t\t<div>${result.name}</div>\r\n\t\t\t\t\t\t<div class=\"item-detail\">\r\n\t\t\t\t\t\t\t<div>${result.itemType}</div>\r\n\t\t\t\t\t\t\t<div>${result.change}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</uui-table-cell>\r\n\t\t\t\t</uui-table-row>\r\n\t\t\t`;\r\n\t\t});\r\n\r\n\t\treturn html`${rowsHtml}`;\r\n\t}\r\n\r\n\tstatic styles = css`\r\n\t\tuui-box {\r\n\t\t\tcursor: pointer;\r\n\t\t\t--uui-box-default-padding: 1px 20px;\r\n\t\t}\r\n\r\n\t\t.summary {\r\n\t\t\tdisplay: flex;\r\n\t\t\tmargin: 0 -20px;\r\n\t\t\tpadding: 0 20px;\r\n\t\t\tjustify-content: space-between;\r\n\t\t}\r\n\r\n\t\t.expanded {\r\n\t\t\tborder-bottom: 1px solid var(--uui-color-border);\r\n\t\t}\r\n\r\n\t\t.count {\r\n\t\t\tcolor: var(--uui-color-border);\r\n\t\t}\r\n\r\n\t\t.has_changes .count {\r\n\t\t\tcolor: var(--uui-text);\r\n\t\t}\r\n\r\n\t\t.changerow {\r\n\t\t\tcursor: pointer;\r\n\t\t}\r\n\r\n\t\t.icon-cell {\r\n\t\t\twidth: var(--uui-size-8);\r\n\t\t}\r\n\r\n\t\t.item-detail {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tfont-size: smaller;\r\n\t\t\tcolor: var(--uui-color-disabled-contrast);\r\n\t\t}\r\n\t`;\r\n}\r\n\r\nexport default uSyncPublisherGroupedReportTable;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'usync-publisher-grouped-report-table': uSyncPublisherGroupedReportTable;\r\n\t}\r\n}\r\n","import { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport {\r\n\tAppKeyView,\r\n\tKeysService,\r\n\tPublishersService,\r\n\tPublishMode,\r\n\tServersService,\r\n\tSettingsService,\r\n\tSyncPublishAvailableServerRequest,\r\n\tSyncPublishServerCopyView,\r\n\tSyncPublishServerView,\r\n\tTemplatesService,\r\n} from '../api';\r\nimport { tryExecute } from '@umbraco-cms/backoffice/resources';\r\n\r\ntype avalibleServerCache = {\r\n\tmode: PublishMode;\r\n\tentityType: string | null | undefined;\r\n\tenabledOnly: boolean;\r\n\tservers: SyncPublishServerView[];\r\n};\r\n\r\nexport class SyncPublisherServersSource {\r\n\t#host: UmbControllerHost;\r\n\r\n\t#avalibleServers: Array<avalibleServerCache> = [];\r\n\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tthis.#host = host;\r\n\r\n\t\tthis.#avalibleServers = [];\r\n\t}\r\n\r\n\tasync addToAllServers(server: string) {\r\n\t\treturn await tryExecute(\r\n\t\t\tthis.#host,\r\n\t\t\tServersService.addToAllServers({ query: { server: server } }),\r\n\t\t);\r\n\t}\r\n\r\n\tasync checkServer(server: string) {\r\n\t\treturn await tryExecute(\r\n\t\t\tthis.#host,\r\n\t\t\tServersService.checkServer({ query: { server: server } }),\r\n\t\t);\r\n\t}\r\n\r\n\tasync checkServerUrl(url: string) {\r\n\t\treturn await tryExecute(\r\n\t\t\tthis.#host,\r\n\t\t\tServersService.checkServerUrl({ query: { url: url } }),\r\n\t\t);\r\n\t}\r\n\r\n\tasync copyServer(copyView: SyncPublishServerCopyView) {\r\n\t\treturn await tryExecute(this.#host, ServersService.copyServer({ body: copyView }));\r\n\t}\r\n\r\n\tasync deleteServer(key: string) {\r\n\t\treturn await tryExecute(\r\n\t\t\tthis.#host,\r\n\t\t\tServersService.deleteServer({ query: { key: key } }),\r\n\t\t);\r\n\t}\r\n\r\n\tasync getAllServers(enabledOnly: boolean) {\r\n\t\treturn await tryExecute(\r\n\t\t\tthis.#host,\r\n\t\t\tServersService.getAllServers({ query: { enabledOnly: enabledOnly } }),\r\n\t\t);\r\n\t}\r\n\r\n\tasync getAvailableServers(request: SyncPublishAvailableServerRequest) {\r\n\t\tconst existing = this.#avalibleServers.find(\r\n\t\t\t(item) =>\r\n\t\t\t\titem.mode === request.mode &&\r\n\t\t\t\titem.entityType === request.entityType &&\r\n\t\t\t\titem.enabledOnly === request.enabledOnly,\r\n\t\t);\r\n\r\n\t\tif (existing) {\r\n\t\t\treturn { data: existing.servers };\r\n\t\t} else {\r\n\t\t\tconst result = await tryExecute(\r\n\t\t\t\tthis.#host,\r\n\t\t\t\tServersService.getAvailableServers({ body: request }),\r\n\t\t\t);\r\n\r\n\t\t\tif (result.data) {\r\n\t\t\t\tthis.#avalibleServers.push({\r\n\t\t\t\t\tmode: request.mode,\r\n\t\t\t\t\tentityType: request.entityType,\r\n\t\t\t\t\tenabledOnly: request.enabledOnly,\r\n\t\t\t\t\tservers: result.data,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n\r\n\tasync getServer(server: string) {\r\n\t\treturn await tryExecute(\r\n\t\t\tthis.#host,\r\n\t\t\tServersService.getServer({ query: { key: server } }),\r\n\t\t);\r\n\t}\r\n\r\n\tasync getServerByUrl(url: string) {\r\n\t\treturn await tryExecute(\r\n\t\t\tthis.#host,\r\n\t\t\tServersService.getServerByUrl({ query: { url: url } }),\r\n\t\t);\r\n\t}\r\n\r\n\tasync getServers(action: string, enabledOnly: boolean) {\r\n\t\treturn await tryExecute(\r\n\t\t\tthis.#host,\r\n\t\t\tServersService.getServers({ query: { action: action, enabledOnly: enabledOnly } }),\r\n\t\t);\r\n\t}\r\n\r\n\tasync saveServer(serverView: SyncPublishServerView) {\r\n\t\tthis.#avalibleServers = [];\r\n\t\treturn await tryExecute(this.#host, ServersService.saveServer({ body: serverView }));\r\n\t}\r\n\r\n\tasync setServerOrder(order: Array<string>) {\r\n\t\treturn await tryExecute(this.#host, ServersService.setServerOrder({ body: order }));\r\n\t}\r\n\r\n\tasync getTemplates() {\r\n\t\treturn await tryExecute(this.#host, TemplatesService.getTemplates());\r\n\t}\r\n\r\n\tasync getPublishers() {\r\n\t\treturn await tryExecute(this.#host, PublishersService.getPublishers());\r\n\t}\r\n\r\n\tasync syncSettings(servers: string[]) {\r\n\t\tthis.#avalibleServers = [];\r\n\r\n\t\treturn await tryExecute(\r\n\t\t\tthis.#host,\r\n\t\t\tSettingsService.syncSettings({ body: { servers: servers } }),\r\n\t\t);\r\n\t}\r\n\r\n\tasync hasKeys() {\r\n\t\treturn await tryExecute(this.#host, KeysService.hasKeys());\r\n\t}\r\n\r\n\tasync createKeys() {\r\n\t\treturn await tryExecute(this.#host, KeysService.createKeys());\r\n\t}\r\n\r\n\tasync saveKeys(keys: AppKeyView) {\r\n\t\treturn await tryExecute(this.#host, KeysService.saveKeys({ body: keys }));\r\n\t}\r\n}\r\n","import { UmbControllerBase } from '@umbraco-cms/backoffice/class-api';\r\nimport { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport { SyncPublisherServersSource } from './servers.source';\r\nimport { SyncPublishServerCopyView, SyncPublishServerView, PublishMode } from '../api';\r\n\r\nexport class SyncPublisherServersRepository extends UmbControllerBase {\r\n\t#serversSource: SyncPublisherServersSource;\r\n\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tsuper(host);\r\n\t\tthis.#serversSource = new SyncPublisherServersSource(this);\r\n\t}\r\n\r\n\tasync addToAllServers(server: string) {\r\n\t\treturn (await this.#serversSource.addToAllServers(server)).data;\r\n\t}\r\n\r\n\tasync checkServer(server: string) {\r\n\t\treturn (await this.#serversSource.checkServer(server)).data;\r\n\t}\r\n\r\n\tasync checkServerUrl(url: string) {\r\n\t\treturn (await this.#serversSource.checkServerUrl(url)).data;\r\n\t}\r\n\r\n\tasync copyServer(copyView: SyncPublishServerCopyView) {\r\n\t\treturn (await this.#serversSource.copyServer(copyView)).data;\r\n\t}\r\n\r\n\tasync deleteServer(key: string) {\r\n\t\treturn (await this.#serversSource.deleteServer(key)).data;\r\n\t}\r\n\r\n\tasync getAllServers(enabledOnly: boolean) {\r\n\t\treturn (await this.#serversSource.getAllServers(enabledOnly)).data;\r\n\t}\r\n\r\n\tasync getAvailableServers(\r\n\t\titem: string | null | undefined,\r\n\t\tentityType: string | null | undefined,\r\n\t\tenabledOnly: boolean,\r\n\t\tmode: PublishMode,\r\n\t) {\r\n\t\t// this method is called on each node in a tree,\r\n\t\t// we lock it so the internal server request has time to return and be cached.\r\n\t\tlet result: Array<SyncPublishServerView> | undefined;\r\n\r\n\t\tawait navigator.locks.request('serversSource', async () => {\r\n\t\t\tresult = (\r\n\t\t\t\tawait this.#serversSource.getAvailableServers({\r\n\t\t\t\t\tudi: item,\r\n\t\t\t\t\tentityType: entityType,\r\n\t\t\t\t\tenabledOnly: enabledOnly,\r\n\t\t\t\t\tmode: mode,\r\n\t\t\t\t})\r\n\t\t\t).data;\r\n\t\t});\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tasync getServer(server: string) {\r\n\t\treturn (await this.#serversSource.getServer(server)).data;\r\n\t}\r\n\r\n\tasync getServerByUrl(url: string) {\r\n\t\treturn (await this.#serversSource.getServerByUrl(url)).data;\r\n\t}\r\n\r\n\tasync getServers(action: string, enabledOnly: boolean) {\r\n\t\treturn (await this.#serversSource.getServers(action, enabledOnly)).data;\r\n\t}\r\n\r\n\tasync saveServer(serverView: SyncPublishServerView) {\r\n\t\treturn (await this.#serversSource.saveServer(serverView)).data;\r\n\t}\r\n\r\n\tasync setServerOrder(order: Array<string>) {\r\n\t\treturn (await this.#serversSource.setServerOrder(order)).data;\r\n\t}\r\n\r\n\tasync getTemplates() {\r\n\t\treturn (await this.#serversSource.getTemplates()).data;\r\n\t}\r\n\r\n\tasync getPublishers() {\r\n\t\treturn (await this.#serversSource.getPublishers()).data;\r\n\t}\r\n\r\n\tasync syncSettings(servers: string[]) {\r\n\t\treturn (await this.#serversSource.syncSettings(servers)).data;\r\n\t}\r\n\r\n\tasync hasKeys() {\r\n\t\treturn (await this.#serversSource.hasKeys()).data;\r\n\t}\r\n\r\n\tasync createKeys() {\r\n\t\treturn (await this.#serversSource.createKeys()).data;\r\n\t}\r\n\r\n\tasync saveKeys(appId: string, appKey: string) {\r\n\t\treturn (\r\n\t\t\tawait this.#serversSource.saveKeys({\r\n\t\t\t\tappId: appId,\r\n\t\t\t\tappKey: appKey,\r\n\t\t\t})\r\n\t\t).data;\r\n\t}\r\n}\r\n","import { UmbControllerBase } from '@umbraco-cms/backoffice/class-api';\r\nimport { SyncPublisherServersRepository } from './servers.repository';\r\nimport { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\nimport { UmbArrayState } from '@umbraco-cms/backoffice/observable-api';\r\nimport {\r\n\tPublishMode,\r\n\tSyncPublishServerView,\r\n\tSyncServerTemplateModel,\r\n\tUSyncPublishServerStatus,\r\n} from '../api';\r\nimport {\r\n\tUMB_NOTIFICATION_CONTEXT,\r\n\tUmbNotificationContext,\r\n} from '@umbraco-cms/backoffice/notification';\r\nimport { USyncPublisherView } from '../api';\r\n\r\n/**\r\n * Context for getting and interacting with servers via uSyncPublisher\r\n * @abstract the servers context, lets you get and interrigate uSync.Publisher servers\r\n */\r\nexport class SyncPublisherServersContext extends UmbControllerBase {\r\n\t#notificationContext?: UmbNotificationContext;\r\n\t#repository: SyncPublisherServersRepository;\r\n\r\n\t#servers = new UmbArrayState<SyncPublishServerView>([], (x) => x.alias);\r\n\tpublic readonly servers = this.#servers.asObservable();\r\n\r\n\t#allServers = new UmbArrayState<SyncPublishServerView>([], (x) => x.alias);\r\n\tpublic readonly allServers = this.#allServers.asObservable();\r\n\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tsuper(host);\r\n\r\n\t\tthis.consumeContext(UMB_NOTIFICATION_CONTEXT, (_instance) => {\r\n\t\t\tthis.#notificationContext = _instance;\r\n\t\t});\r\n\r\n\t\tthis.provideContext(USYNC_PUBLISHER_SERVER_CONTEXT, this);\r\n\t\tthis.#repository = new SyncPublisherServersRepository(this);\r\n\t}\r\n\r\n\t/**\r\n\t * @name getAllServers\r\n\t * @description get all the configured servers\r\n\t * @param includeDisabled include servers that are disabled\r\n\t * @returns a list of configured servers\r\n\t */\r\n\tasync getAllServers(\r\n\t\tincludeDisabled: boolean = false,\r\n\t): Promise<Array<SyncPublishServerView> | undefined> {\r\n\t\tconst result = await this.#repository.getAllServers(includeDisabled);\r\n\t\tif (result) {\r\n\t\t\tthis.#allServers.setValue(result);\r\n\t\t\tthis.#servers.setValue(result);\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\t/**\r\n\t * get a list of avalible servers for this action.\r\n\t * @param unique unique id of the root element\r\n\t * @param entityType entity type of the root element\r\n\t * @param mode publisher mode\r\n\t * @param includeDisabled do we include servers that are disabled by default?\r\n\t * @returns list of servers.\r\n\t */\r\n\tasync getAvailableServers(\r\n\t\titem?: string | null,\r\n\t\tentityType?: string | null,\r\n\t\tmode?: PublishMode | null,\r\n\t\tincludeDisabled: boolean | undefined | null = false,\r\n\t): Promise<Array<SyncPublishServerView> | undefined> {\r\n\t\tconst result = await this.#repository.getAvailableServers(\r\n\t\t\titem,\r\n\t\t\tentityType,\r\n\t\t\t!includeDisabled,\r\n\t\t\tmode ?? PublishMode.PUSH,\r\n\t\t);\r\n\r\n\t\tif (result) {\r\n\t\t\tthis.#servers.setValue(result);\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\t/**\r\n\t * checks to see if we can reach a server by its URL\r\n\t * @param url the url of the server to check\r\n\t * @returns the status of the check.\r\n\t */\r\n\tasync checkServerUrl(url: string): Promise<USyncPublishServerStatus | undefined> {\r\n\t\treturn await this.#repository.checkServerUrl(url);\r\n\t}\r\n\r\n\t/**\r\n\t * checks a server based on the alias of that server.\r\n\t * @param alias alias to the server you want to check\r\n\t * @returns the status of that server\r\n\t */\r\n\r\n\tasync checkServer(alias: string): Promise<USyncPublishServerStatus | undefined> {\r\n\t\treturn await this.#repository.checkServer(alias);\r\n\t}\r\n\r\n\t/**\r\n\t * @name deleteServer\r\n\t * @param alias the alias of the server you want to delete\r\n\t * @returns true if the server is deleted\r\n\t */\r\n\tasync deleteServer(alias: string): Promise<boolean | undefined> {\r\n\t\treturn await this.#repository.deleteServer(alias);\r\n\t}\r\n\r\n\t/**\r\n\t * @name saveServer\r\n\t * @description save or create a server\r\n\t * @param server the server details to save.\r\n\t * @returns true if the server was saved\r\n\t * @abstract if the server id is -1, then this will add a server\r\n\t */\r\n\tasync saveServer(server: SyncPublishServerView): Promise<boolean> {\r\n\t\tconst result = await this.#repository.saveServer(server);\r\n\t\tif (!result) return false;\r\n\r\n\t\t// refresh the list of servers,\r\n\t\tawait this.getAllServers();\r\n\r\n\t\tthis.#notificationContext?.peek('positive', {\r\n\t\t\tdata: { headline: 'Saved', message: 'Server settings updated' },\r\n\t\t});\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tasync getServer(key: string): Promise<SyncPublishServerView | undefined> {\r\n\t\treturn await this.#repository.getServer(key);\r\n\t}\r\n\r\n\t/**\r\n\t * fetch the possible templates we can use when creating a server.\r\n\t * @returns an array of template models we can use to create a server\r\n\t */\r\n\tasync getTemplates(): Promise<Array<SyncServerTemplateModel>> {\r\n\t\treturn (await this.#repository.getTemplates()) ?? [];\r\n\t}\r\n\r\n\t/**\r\n\t * fetch all the possible publishers we can set.\r\n\t * @returns list of avalible publishers\r\n\t */\r\n\tasync getPublishers(): Promise<Array<USyncPublisherView>> {\r\n\t\treturn (await this.#repository.getPublishers()) ?? [];\r\n\t}\r\n\r\n\t/**\r\n\t * sync the settings across the servers.\r\n\t * @param servers list of servers to sync\r\n\t */\r\n\tasync syncSettings(servers: string[]) {\r\n\t\treturn await this.#repository.syncSettings(servers);\r\n\t}\r\n\r\n\t/**\r\n\t * checks to see if this server has appid/key set\r\n\t * @returns true if the server's appid and appkey are set\r\n\t */\r\n\tasync hasKeys() {\r\n\t\treturn await this.#repository.hasKeys();\r\n\t}\r\n\r\n\t/**\r\n\t * generates a new set of keys for the server\r\n\t * @returns information for a new set of keys\r\n\t */\r\n\tasync createKeys() {\r\n\t\treturn await this.#repository.createKeys();\r\n\t}\r\n\r\n\t/**\r\n\t * save an appid and appkey in the config.\r\n\t */\r\n\tasync saveKeys(appId: string, appKey: string) {\r\n\t\treturn await this.#repository.saveKeys(appId, appKey);\r\n\t}\r\n}\r\n\r\nexport default SyncPublisherServersContext;\r\n\r\nexport const USYNC_PUBLISHER_SERVER_CONTEXT =\r\n\tnew UmbContextToken<SyncPublisherServersContext>('uSyncPublisherServersContext');\r\n","import { UmbElementMixin } from '@umbraco-cms/backoffice/element-api';\r\nimport {\r\n\tLitElement,\r\n\tclassMap,\r\n\tcss,\r\n\tcustomElement,\r\n\thtml,\r\n\tnothing,\r\n\tproperty,\r\n\tstate,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport {\r\n\tSyncPublishServerView,\r\n\tSyncServerStatus,\r\n\tUSyncPublishServerStatus,\r\n} from '../api';\r\nimport SyncPublisherServersContext, {\r\n\tUSYNC_PUBLISHER_SERVER_CONTEXT,\r\n} from '../servers/servers.context';\r\n\r\n@customElement('usync-publisher-server-button')\r\nexport default class uSyncPublisherServerButtonElement extends UmbElementMixin(\r\n\tLitElement,\r\n) {\r\n\t#serverContext: SyncPublisherServersContext | undefined;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(USYNC_PUBLISHER_SERVER_CONTEXT, (_context) => {\r\n\t\t\tif (!_context) return;\r\n\r\n\t\t\tthis.#serverContext = _context;\r\n\r\n\t\t\tif (this.server) {\r\n\t\t\t\tthis.#checkServer(this.server);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tasync #checkServer(server: SyncPublishServerView) {\r\n\t\tif (this.#serverContext === undefined) return;\r\n\r\n\t\tif (this.performCheck) {\r\n\t\t\tthis.status = await this.#serverContext.checkServerUrl(server.url);\r\n\t\t} else {\r\n\t\t\tthis.status = { enabled: true, status: SyncServerStatus.UNKNOWN, message: '' };\r\n\t\t}\r\n\t}\r\n\r\n\t@property({ type: Object })\r\n\tserver: SyncPublishServerView | null | undefined;\r\n\r\n\t@state()\r\n\tstatus?: USyncPublishServerStatus;\r\n\r\n\t@property({ type: Boolean })\r\n\tselected: boolean = false;\r\n\r\n\t@property({ type: Boolean })\r\n\tadd: boolean = false;\r\n\r\n\t@property({ type: Boolean })\r\n\thideUrl: boolean = false;\r\n\r\n\t@property({ type: Boolean })\r\n\tperformCheck: boolean = true;\r\n\r\n\t@property({ type: Boolean })\r\n\tselectDisabled: boolean = false;\r\n\r\n\trender() {\r\n\t\tconst classes = {\r\n\t\t\tselected: this.selected,\r\n\t\t\tdisabled: !(this.status?.enabled ?? false),\r\n\t\t};\r\n\r\n\t\treturn this.add\r\n\t\t\t? this.renderAddButton()\r\n\t\t\t: html`\r\n\t\t\t\t\t<uui-box @click=${this._handleSelect} class=${classMap(classes)}>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div class=\"server-header\">\r\n\t\t\t\t\t\t\t\t<umb-icon .name=${this.server?.icon ?? 'icon-bug'}></umb-icon>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<h4>${this.server?.name}</h4>\r\n\t\t\t\t\t\t\t\t\t<small>${this.server?.description}</small>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t${this.renderDetails()} ${this.renderStatus()}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</uui-box>\r\n\t\t\t\t`;\r\n\t}\r\n\r\n\trenderDetails() {\r\n\t\treturn this.hideUrl\r\n\t\t\t? nothing\r\n\t\t\t: html`<div class=\"detail\">${this.renderUrl()} ${this.renderPublisher()}</div>`;\r\n\t}\r\n\r\n\trenderPublisher() {\r\n\t\treturn html`<small class=\"publisher\"><em>[${this.server?.publisher}]</em></small>`;\r\n\t}\r\n\r\n\trenderStatus() {\r\n\t\treturn this.performCheck == false\r\n\t\t\t? nothing\r\n\t\t\t: html`<usync-publisher-server-status\r\n\t\t\t\t\t.status=${this.status}></usync-publisher-server-status>`;\r\n\t}\r\n\r\n\trenderUrl() {\r\n\t\treturn this.hideUrl == true\r\n\t\t\t? nothing\r\n\t\t\t: html`<small class=\"url\">${this.server?.url}</small>`;\r\n\t}\r\n\r\n\tprivate _handleSelect() {\r\n\t\tif (!this.server) return;\r\n\t\tif (!this.selectDisabled && !this.status?.enabled) return;\r\n\r\n\t\tthis.dispatchEvent(\r\n\t\t\tnew CustomEvent<SyncPublishServerView>('server-selected', {\r\n\t\t\t\tbubbles: true,\r\n\t\t\t\tcomposed: true,\r\n\t\t\t\tdetail: this.server,\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tprivate _handleAddServer() {\r\n\t\tthis.dispatchEvent(new Event('add-server', { bubbles: true, composed: true }));\r\n\t}\r\n\r\n\trenderAddButton() {\r\n\t\treturn html`\r\n\t\t\t<uui-box @click=${this._handleAddServer} class=\"add-box\">\r\n\t\t\t\t<div class=\"add-button\">\r\n\t\t\t\t\t<umb-icon name=\"icon-add\"></umb-icon>\r\n\t\t\t\t\t<h4><umb-localize key=\"usyncpublish_addServer\"></umb-localize></h4>\r\n\t\t\t\t</div>\r\n\t\t\t</uui-box>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic styles = css`\r\n\t\tuui-box {\r\n\t\t\theight: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-flow: column;\r\n\t\t\talign-items: center;\r\n\t\t\talign-content: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tcursor: pointer;\r\n\t\t}\r\n\r\n\t\t.add-box {\r\n\t\t\tbox-shadow: none;\r\n\t\t\tbackground-color: transparent;\r\n\t\t\tborder: 1px dashed #aaa;\r\n\t\t\tmin-height: 155px;\r\n\t\t}\r\n\r\n\t\tuui-box > div {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-flow: column;\r\n\t\t\talign-items: center;\r\n\t\t\talign-content: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\theight: 100%;\r\n\t\t}\r\n\r\n\t\t.selected {\r\n\t\t\tbackground-color: lightblue;\r\n\t\t}\r\n\r\n\t\t.disabled {\r\n\t\t\tcursor: not-allowed;\r\n\t\t\topacity: 0.6;\r\n\t\t}\r\n\r\n\t\t.add-button {\r\n\t\t\tcolor: var(--uui-color-positive);\r\n\t\t}\r\n\r\n\t\t.server-header {\r\n\t\t\tdisplay: flex;\r\n\t\t\tpadding: var(--uui-size-3);\r\n\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\r\n\t\th4 {\r\n\t\t\tmargin: 0;\r\n\t\t\tline-height: 1.1;\r\n\t\t}\r\n\r\n\t\t.server-header small {\r\n\t\t\tfont-style: italic;\r\n\t\t}\r\n\r\n\t\t.detail {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\r\n\t\t.url {\r\n\t\t\tfont-size: calc(var(--uui-size-layout-1) / 2);\r\n\t\t\ttext-overflow: clip;\r\n\t\t}\r\n\r\n\t\tumb-icon {\r\n\t\t\tfont-size: var(--uui-type-h2-size);\r\n\t\t}\r\n\r\n\t\tusync-publisher-server-status {\r\n\t\t\tmargin: var(--uui-size-2) 0;\r\n\t\t}\r\n\t`;\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'usync-publisher-server-button': uSyncPublisherServerButtonElement;\r\n\t}\r\n}\r\n","import { UmbElementMixin } from '@umbraco-cms/backoffice/element-api';\r\nimport {\r\n\tLitElement,\r\n\tcss,\r\n\tcustomElement,\r\n\thtml,\r\n\tproperty,\r\n\twhen,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { type USyncPublishServerStatus } from '../api';\r\n\r\n@customElement('usync-publisher-server-status')\r\nexport class uSyncPublisherServerStatusElement extends UmbElementMixin(LitElement) {\r\n\t@property({ type: Object })\r\n\tstatus?: USyncPublishServerStatus;\r\n\r\n\t@property({ type: Boolean })\r\n\tshowStatus: boolean = false;\r\n\r\n\trender() {\r\n\t\treturn this.status === undefined\r\n\t\t\t? this.renderWaiting()\r\n\t\t\t: this.status?.enabled\r\n\t\t\t\t? this.renderAvailible()\r\n\t\t\t\t: this.renderUnavailible();\r\n\t}\r\n\r\n\trenderWaiting() {\r\n\t\treturn html`\r\n\t\t\t<div>\r\n\t\t\t\t<umb-icon name=\"icon-sync color-blue\" class=\"waiting\"></umb-icon>\r\n\t\t\t\t<umb-localize key=\"usyncpublish_working\"></umb-localize>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\trenderAvailible() {\r\n\t\treturn html`\r\n\t\t\t<div>\r\n\t\t\t\t<umb-icon name=\"icon-check color-green\"></umb-icon>\r\n\t\t\t\t<umb-localize key=\"usyncpublish_availible\"></umb-localize>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\trenderUnavailible() {\r\n\t\treturn html`\r\n\t\t\t<div class=\"status\" .title=${this.status?.status ?? ''}>\r\n\t\t\t\t${when(this.showStatus, () => html`${this.status?.status}`)}\r\n\t\t\t\t<umb-icon name=\"icon-wrong color-red\"></umb-icon>\r\n\t\t\t\t<umb-localize key=\"usyncpublish_unavailible\"></umb-localize>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic styles = css`\r\n\t\t.status {\r\n\t\t\tdisplay: flex;\r\n\t\t\tgap: var(--uui-size-3);\r\n\t\t}\r\n\r\n\t\tumb-icon {\r\n\t\t\tfont-size: 15pt;\r\n\t\t}\r\n\r\n\t\tumb-icon.waiting {\r\n\t\t\tmargin: 0;\r\n\t\t\tpadding: 0;\r\n\t\t\tdisplay: flex;\r\n\t\t\tanimation-name: spin;\r\n\t\t\tanimation-duration: 1000ms;\r\n\t\t\tanimation-iteration-count: infinite;\r\n\t\t\tanimation-timing-function: cubic-bezier(0.165, 0.84, 0.44, 1);\r\n\t\t}\r\n\r\n\t\t@keyframes spin {\r\n\t\t\tfrom {\r\n\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t}\r\n\t\t\tto {\r\n\t\t\t\ttransform: rotate(0deg);\r\n\t\t\t}\r\n\t\t}\r\n\t`;\r\n}\r\n\r\nexport default uSyncPublisherServerStatusElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'usync-publisher-server-status': uSyncPublisherServerStatusElement;\r\n\t}\r\n}\r\n","import { UmbElementMixin } from '@umbraco-cms/backoffice/element-api';\r\nimport {\r\n\tLitElement,\r\n\tcss,\r\n\tcustomElement,\r\n\thtml,\r\n\tnothing,\r\n\tproperty,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { SyncPublishServerView, USyncPublishServerStatus } from '../api';\r\n\r\nexport type SyncServerStatuses = { [key: string]: USyncPublishServerStatus | undefined };\r\n\r\n@customElement('usync-publisher-server-list')\r\nexport class uSyncPublisherServerButtonListElement extends UmbElementMixin(LitElement) {\r\n\t@property({ type: Array })\r\n\tservers?: SyncPublishServerView[];\r\n\r\n\t@property({ type: Boolean })\r\n\tshowAdd: boolean = true;\r\n\r\n\t@property({ type: String })\r\n\tselected: string | undefined;\r\n\r\n\t@property({ type: Boolean })\r\n\thideUrl: boolean = false;\r\n\r\n\t@property({ type: Boolean })\r\n\tperformCheck: boolean = true;\r\n\r\n\t@property({ type: Boolean })\r\n\topenServer: boolean = false;\r\n\r\n\t@property({ type: Boolean })\r\n\tselectDisabled: boolean = false;\r\n\r\n\t@property({ type: Boolean })\r\n\tuseGrid: boolean = false;\r\n\r\n\trender() {\r\n\t\tconst serverhtml = this.servers?.map((server) => {\r\n\t\t\tif (!server) return html`<!-- no server -->`;\r\n\t\t\treturn html`\r\n\t\t\t\t<usync-publisher-server-button\r\n\t\t\t\t\t.server=${server}\r\n\t\t\t\t\t.hideUrl=${this.hideUrl}\r\n\t\t\t\t\t.performCheck=${this.performCheck}\r\n\t\t\t\t\t.selectDisabled=${this.selectDisabled}\r\n\t\t\t\t\t.selected=${server.alias == this.selected}></usync-publisher-server-button>\r\n\t\t\t`;\r\n\t\t});\r\n\r\n\t\treturn html`<div\r\n\t\t\tclass=\"server-list ${this.getLayoutClass(this.servers?.length || 0)}\">\r\n\t\t\t${serverhtml}${this.renderAddButton()}\r\n\t\t</div> `;\r\n\t}\r\n\r\n\tgetLayoutClass(count: number) {\r\n\t\tif (this.useGrid == false) return 'dashboard';\r\n\t\tif (count == 1) return 'single';\r\n\t\treturn 'grid';\r\n\t}\r\n\r\n\trenderAddButton() {\r\n\t\treturn this.showAdd == false\r\n\t\t\t? nothing\r\n\t\t\t: html`<usync-publisher-server-button\r\n\t\t\t\t\t.add=${true}></usync-publisher-server-button>`;\r\n\t}\r\n\r\n\tstatic styles = css`\r\n\t\t.server-list {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: stretch;\r\n\t\t\tflex-flow: row;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\tgap: var(--uui-size-4) var(--uui-size-4);\r\n\t\t}\r\n\r\n\t\t.server-list.grid {\r\n\t\t\tdisplay: grid;\r\n\t\t\tgrid-template-columns: 1fr 1fr;\r\n\t\t}\r\n\r\n\t\tusync-publisher-server-button {\r\n\t\t\tflex-grow: 2;\r\n\t\t\tmax-width: 450px;\r\n\t\t\tmin-width: 200px;\r\n\t\t}\r\n\t`;\r\n}\r\n\r\nexport default uSyncPublisherServerButtonListElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'usync-publisher-server-list': uSyncPublisherServerButtonListElement;\r\n\t}\r\n}\r\n","import { UmbElementMixin } from '@umbraco-cms/backoffice/element-api';\r\nimport {\r\n\tLitElement,\r\n\tcss,\r\n\tcustomElement,\r\n\thtml,\r\n\tproperty,\r\n\tstate,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { SyncServerTemplateModel } from '../api';\r\n\r\n@customElement('usync-publisher-template-list')\r\nexport class uSyncPublisherServerTemplateView extends UmbElementMixin(LitElement) {\r\n\t#attached: boolean = false;\r\n\r\n\t#templates?: Array<SyncServerTemplateModel>;\r\n\t@property({ type: Array })\r\n\tget templates() {\r\n\t\treturn this.#templates;\r\n\t}\r\n\tset templates(value: Array<SyncServerTemplateModel> | undefined) {\r\n\t\tif (!value) return;\r\n\t\tthis.#templates = value;\r\n\r\n\t\tif (!this.#attached) {\r\n\t\t\tthis.selectedTemplate = value[0];\r\n\t\t\tthis.#attached = true;\r\n\t\t}\r\n\t}\r\n\r\n\t@state()\r\n\tselectedTemplate?: SyncServerTemplateModel;\r\n\r\n\t#onRadioClick(template: SyncServerTemplateModel) {\r\n\t\tthis.selectedTemplate = template;\r\n\t\tthis.#fireTemplateSelected();\r\n\t}\r\n\r\n\t#fireTemplateSelected() {\r\n\t\tthis.dispatchEvent(\r\n\t\t\tnew CustomEvent<SyncServerTemplateModel>('template-selected', {\r\n\t\t\t\tdetail: this.selectedTemplate,\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst templatesHtml = this.templates?.map((template) => {\r\n\t\t\treturn html`\r\n                <input \r\n                    id=\"template-${template.id}\"\r\n                    name=\"template\"\r\n                    type=\"radio\"\r\n                    class=\"form-check-input\"\r\n                    @click=${() => this.#onRadioClick(template)}\r\n                    ?checked=${this.selectedTemplate?.id === template.id}>\r\n                    <label for=\"template-${template.id}\">\r\n                        <div>\r\n                            <uui-icon name=${template.icon ?? 'icon-bug'}></uui-icon>\r\n                        </div>\r\n                        <div>\r\n                            <h4>${template.heading}</h4>\r\n                            <small>${template.subHeading}</small>\r\n                        </div>\r\n                    </label>\r\n                </div>\r\n            `;\r\n\t\t});\r\n\r\n\t\treturn html` <div>${templatesHtml}</div>`;\r\n\t}\r\n\r\n\tstatic styles = css`\r\n\t\tlabel {\r\n\t\t\tborder-radius: var(--uui-button-border-radius, var(--uui-border-radius, 3px));\r\n\t\t\tborder: 1px solid var(--uui-color-border);\r\n\t\t\tcursor: pointer;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tmargin: 10px 0;\r\n\t\t\tpadding: 10px;\r\n\t\t}\r\n\r\n\t\tlabel:hover {\r\n\t\t\tbackground-color: var(--uui-color-background);\r\n\t\t}\r\n\r\n\t\tinput[type='radio'] {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\r\n\t\tinput[type='radio']:checked + label {\r\n\t\t\tbackground-color: var(--uui-color-positive);\r\n\t\t\tcolor: var(--uui-color-positive-contrast);\r\n\t\t}\r\n\r\n\t\th4,\r\n\t\tp {\r\n\t\t\tmargin: 0;\r\n\t\t}\r\n\r\n\t\tuui-icon {\r\n\t\t\tfont-size: 20pt;\r\n\t\t\tmargin-right: 20px;\r\n\t\t}\r\n\t`;\r\n}\r\n\r\nexport default uSyncPublisherServerTemplateView;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'usync-publisher-template-list': uSyncPublisherServerTemplateView;\r\n\t}\r\n}\r\n","import { UmbElementMixin } from '@umbraco-cms/backoffice/element-api';\r\nimport {\r\n\tLitElement,\r\n\tcss,\r\n\tcustomElement,\r\n\thtml,\r\n\tproperty,\r\n\tstate,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { USYNC_PUBLISHER_SERVER_CONTEXT } from '../servers/servers.context';\r\nimport { PublishMode, SyncPublishServerView } from '../api';\r\n\r\n@customElement('usync-publisher-server-picker')\r\nexport class uSyncPublisherServerPicker extends UmbElementMixin(LitElement) {\r\n\t@property({ type: String })\r\n\taction: string | null = null;\r\n\r\n\t@property({ type: String })\r\n\tmode: PublishMode | undefined | null = PublishMode.PUSH;\r\n\r\n\t@property({ type: Boolean })\r\n\thideUrl: boolean = false;\r\n\r\n\t@property({ type: String })\r\n\tentityType?: string | null;\r\n\r\n\t@property({ type: String })\r\n\tprimary?: string | null;\r\n\r\n\t@property({ type: Boolean })\r\n\tperformCheck: boolean = true;\r\n\r\n\t@property({ type: Boolean })\r\n\tshowAll: boolean = false;\r\n\r\n\t@property({ type: Boolean })\r\n\tuseGrid: boolean = false;\r\n\r\n\t@state()\r\n\tservers?: Array<SyncPublishServerView>;\r\n\r\n\t@state()\r\n\tselected?: string;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(USYNC_PUBLISHER_SERVER_CONTEXT, (_context) => {\r\n\t\t\tif (!_context) return;\r\n\r\n\t\t\tif (this.showAll == false) {\r\n\t\t\t\t_context.getAvailableServers(this.primary, this.entityType, this.mode, false);\r\n\t\t\t} else {\r\n\t\t\t\t_context.getAllServers();\r\n\t\t\t}\r\n\r\n\t\t\tthis.observe(_context.servers, (_servers) => {\r\n\t\t\t\tthis.servers = _servers;\r\n\r\n\t\t\t\t// when there is only one server, we pick it\r\n\t\t\t\tif (this.servers?.length === 1) {\r\n\t\t\t\t\tthis.selected = this.servers[0].alias;\r\n\t\t\t\t\tthis.#fireSelected(this.servers[0]);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t#onPickServer(e: CustomEvent<SyncPublishServerView>) {\r\n\t\tthis.selected = e.detail.alias;\r\n\t}\r\n\r\n\t#fireSelected(server: SyncPublishServerView) {\r\n\t\tthis.dispatchEvent(\r\n\t\t\tnew CustomEvent<SyncPublishServerView>('server-selected', {\r\n\t\t\t\tbubbles: true,\r\n\t\t\t\tcomposed: true,\r\n\t\t\t\tdetail: server,\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn html`\r\n\t\t\t<div class=\"servers\">\r\n\t\t\t\t<usync-publisher-server-list\r\n\t\t\t\t\t.servers=${this.servers}\r\n\t\t\t\t\t.showAdd=${false}\r\n\t\t\t\t\t.selected=${this.selected}\r\n\t\t\t\t\t.hideUrl=${this.hideUrl}\r\n\t\t\t\t\t.performCheck=${this.performCheck}\r\n\t\t\t\t\t.useGrid=${this.useGrid}\r\n\t\t\t\t\t@server-selected=${this.#onPickServer}></usync-publisher-server-list>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic styles = css`\r\n\t\tdiv.servers {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t}\r\n\r\n\t\tusync-publisher-server-list {\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\t`;\r\n}\r\n\r\nexport default uSyncPublisherServerPicker;\r\n","import { UmbElementMixin } from '@umbraco-cms/backoffice/element-api';\r\nimport {\r\n\tLitElement,\r\n\tcss,\r\n\tcustomElement,\r\n\thtml,\r\n\tproperty,\r\n\twhen,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { SyncSendOption } from '../api';\r\n\r\nexport type SyncPublisherYesNoValueChange = {\r\n\tid: string;\r\n\teditable: boolean;\r\n\tchecked: boolean;\r\n};\r\n\r\n/**\r\n * @description the yes/no/locked option for the server options page.\r\n */\r\n@customElement('usync-publisher-yes-no-server-option')\r\nexport class uSyncPublisherYesNoServerOption extends UmbElementMixin(LitElement) {\r\n\t@property({ type: Object })\r\n\tvalue?: SyncSendOption;\r\n\r\n\t@property()\r\n\tlabel: string = '';\r\n\r\n\t#onChange(e: Event) {\r\n\t\tconst element = e.target as HTMLInputElement;\r\n\t\tif (element) {\r\n\t\t\tthis.dispatchEvent(\r\n\t\t\t\tnew CustomEvent<SyncPublisherYesNoValueChange>('value-change', {\r\n\t\t\t\t\tdetail: {\r\n\t\t\t\t\t\tid: this.id,\r\n\t\t\t\t\t\teditable: this.value?.editable ?? false,\r\n\t\t\t\t\t\tchecked: element.checked,\r\n\t\t\t\t\t},\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\t#onLocked(e: Event) {\r\n\t\tconst element = e.target as HTMLInputElement;\r\n\t\tif (element) {\r\n\t\t\tthis.dispatchEvent(\r\n\t\t\t\tnew CustomEvent<SyncPublisherYesNoValueChange>('value-change', {\r\n\t\t\t\t\tdetail: {\r\n\t\t\t\t\t\tid: this.id,\r\n\t\t\t\t\t\teditable: element.checked,\r\n\t\t\t\t\t\tchecked: this.value?.value ?? false,\r\n\t\t\t\t\t},\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn html`\r\n\t\t\t<div class=\"lockable-checkbox\">\r\n\t\t\t\t${this.renderCheckbox()} ${this.renderLockButton()}\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\trenderCheckbox() {\r\n\t\treturn html`\r\n\t\t\t<uui-checkbox\r\n\t\t\t\tname=\"checkbox\"\r\n\t\t\t\t@change=${this.#onChange}\r\n\t\t\t\t.checked=${this.value?.value ?? false}\r\n\t\t\t\tlabel=\"select item\">\r\n\t\t\t\t<div slot=\"label\"></div>\r\n\t\t\t</uui-checkbox>\r\n\t\t`;\r\n\t}\r\n\r\n\trenderLockButton() {\r\n\t\tconst label = this.value?.editable ?? false ? 'unlocked' : 'locked';\r\n\r\n\t\treturn html`\r\n\t\t\t<label for=\"locked\" class=\"locked-label\">\r\n\t\t\t\t${when(\r\n\t\t\t\t\tthis.value?.editable ?? false,\r\n\t\t\t\t\t() => html`<umb-icon name=\"unlock\" color=\"green\"></umb-icon>`,\r\n\t\t\t\t\t() => html`<umb-icon name=\"lock\" color=\"red\"></umb-icon>`,\r\n\t\t\t\t)}\r\n\t\t\t\t${label}\r\n\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\tid=\"locked\"\r\n\t\t\t\t\t.checked=${this.value?.editable ?? false}\r\n\t\t\t\t\t@change=${this.#onLocked} />\r\n\t\t\t</label>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic styles = css`\r\n\t\t.lockable-checkbox {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t}\r\n\r\n\t\t.locked-label {\r\n\t\t\tcursor: pointer;\r\n\t\t\tdisplay: flex;\r\n\t\t\tpadding: 5px;\r\n\t\t\tbackground-color: #efefef;\r\n\t\t\tborder-radius: 10px;\r\n\t\t\twidth: 80px;\r\n\t\t}\r\n\r\n\t\tumb-icon {\r\n\t\t\tmargin-top: -5px;\r\n\t\t\tmargin-right: 5px;\r\n\t\t}\r\n\r\n\t\t.locked-label input {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t`;\r\n}\r\n\r\nexport default uSyncPublisherYesNoServerOption;\r\n","import {\r\n\tcss,\r\n\tcustomElement,\r\n\thtml,\r\n\tLitElement,\r\n\tproperty,\r\n\tstate,\r\n\twhen,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\n\r\n@customElement('usync-debug')\r\nexport class uSyncObjectDebugElement extends LitElement {\r\n\t@property({ type: String })\r\n\theadline?: string;\r\n\r\n\t@property({ type: Object })\r\n\tdata?: object | null;\r\n\r\n\t@state()\r\n\thidden: boolean = true;\r\n\r\n\t#toggle() {\r\n\t\tthis.hidden = !this.hidden;\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn html`\r\n\t\t\t<div @click=${this.#toggle}>\r\n\t\t\t\t<h4>Debug: ${this.headline ?? ''}</h4>\r\n\t\t\t\t${when(\r\n\t\t\t\t\t!this.hidden,\r\n\t\t\t\t\t() =>\r\n\t\t\t\t\t\thtml` <div>\r\n\t\t\t\t\t\t\t<pre>${JSON.stringify(this.data, null, 1)}</pre>\r\n\t\t\t\t\t\t</div>`,\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic styles = css`\r\n\t\t:host {\r\n\t\t\tdisplay: block;\r\n\t\t\tbackground-color: #ffebee;\r\n\t\t\tborder-radius: 5px;\r\n\t\t\tmargin: 5px 0;\r\n\t\t\tpadding: 3px;\r\n\t\t\tbox-shadow: 1px 1px #ddd;\r\n\t\t}\r\n\r\n\t\th4 {\r\n\t\t\tcursor: pointer;\r\n\t\t\tpadding: 2px;\r\n\t\t\tmargin: 0;\r\n\t\t}\r\n\t`;\r\n}\r\n","import {\r\n\tclassMap,\r\n\tcss,\r\n\tcustomElement,\r\n\thtml,\r\n\tLitElement,\r\n\tproperty,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { SyncSendOptions } from '../../api';\r\n\r\nconst elementName = 'usync-publisher-server-sync-settings';\r\n\r\n/**\r\n * @description provides the three 'simple setup' boxes for a server.\r\n */\r\n\r\n@customElement(elementName)\r\nexport class uSyncPublisherSyncSettingsElement extends LitElement {\r\n\t/**\r\n\t * @name Settings\r\n\t * @description SyncSendOptions for the server\r\n\t */\r\n\t@property({ type: Object })\r\n\tsettings?: SyncSendOptions | null;\r\n\r\n\t#hasContent(): boolean {\r\n\t\treturn this.settings?.includeMedia.value === true;\r\n\t}\r\n\r\n\t#hasSettings(): boolean {\r\n\t\treturn this.settings?.includeDependencies.value === true;\r\n\t}\r\n\r\n\t#hasFiles(): boolean {\r\n\t\treturn this.settings?.includeFiles.value === true;\r\n\t}\r\n\r\n\t#onToggleContent() {\r\n\t\tconst contentToggle = !this.settings?.includeChildren.value;\r\n\r\n\t\tconst contentValues = {\r\n\t\t\tincludeChildren: { editable: contentToggle, value: contentToggle },\r\n\t\t\tdeleteMissing: { editable: contentToggle, value: contentToggle },\r\n\t\t\tincludeMedia: { editable: contentToggle, value: contentToggle },\r\n\t\t};\r\n\r\n\t\tthis.#toggleSettings(contentValues);\r\n\t}\r\n\r\n\t#onToggleSettings() {\r\n\t\tconst settingsToggle = !this.settings?.includeDependencies.value;\r\n\r\n\t\tconst toggledValues = {\r\n\t\t\tincludeDependencies: { editable: false, value: settingsToggle },\r\n\t\t\tincludeConfig: { editable: false, value: settingsToggle },\r\n\t\t\tincludeMediaFiles: { editable: false, value: false },\r\n\t\t};\r\n\r\n\t\tthis.#toggleSettings(toggledValues);\r\n\t}\r\n\r\n\t#onToggleFiles() {\r\n\t\tconst filesToggle = !this.settings?.includeFiles.value;\r\n\r\n\t\tconst toggledValues = {\r\n\t\t\tincludeFiles: { editable: false, value: filesToggle },\r\n\t\t};\r\n\r\n\t\tthis.#toggleSettings(toggledValues);\r\n\t}\r\n\r\n\t#toggleSettings(options: object) {\r\n\t\tif (!this.settings) return;\r\n\t\tconst update = { ...this.settings, ...options } as SyncSendOptions;\r\n\r\n\t\tthis.dispatchEvent(\r\n\t\t\tnew CustomEvent<SyncSendOptions>('usync-publisher-server-update-sync', {\r\n\t\t\t\tdetail: update,\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn html`\r\n\t\t\t<div class=\"options\">\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass=\"option ${classMap({ selected: this.#hasContent() })}\"\r\n\t\t\t\t\t@click=${this.#onToggleContent}>\r\n\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t<umb-localize key=\"usyncpublish_quickContentTitle\">Content</umb-localize>\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t\t<umb-localize key=\"usyncpublish_quickContentDesc\"></umb-localize>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass=\"option ${classMap({ selected: this.#hasSettings() })}\"\r\n\t\t\t\t\t@click=${this.#onToggleSettings}>\r\n\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t<umb-localize key=\"usyncpublish_quickSettingsTitle\">Settings</umb-localize>\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t\t<umb-localize key=\"usyncpublish_quickSettingsDesc\"></umb-localize>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass=\"option ${classMap({ selected: this.#hasFiles() })}\"\r\n\t\t\t\t\t@click=${this.#onToggleFiles}>\r\n\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t<umb-localize key=\"usyncpublish_quickFilesTitle\">Files</umb-localize>\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t\t<umb-localize key=\"usyncpublish_quickFilesDesc\"></umb-localize>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic styles = css`\r\n\t\t.options {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t}\r\n\r\n\t\t.option {\r\n\t\t\tflex-grow: 1;\r\n\t\t\tborder: 1px solid #aaa;\r\n\t\t\tborder-radius: 5px;\r\n\t\t\tmargin: 5px 10px;\r\n\t\t\tpadding: 10px;\r\n\t\t\tcursor: pointer;\r\n\t\t}\r\n\r\n\t\t.option.selected {\r\n\t\t\tbackground-color: #a5d6a7;\r\n\t\t}\r\n\t`;\r\n}\r\n\r\nexport default uSyncPublisherSyncSettingsElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t[elementName]: uSyncPublisherSyncSettingsElement;\r\n\t}\r\n}\r\n","import {\r\n\tcss,\r\n\tcustomElement,\r\n\thtml,\r\n\tnothing,\r\n\tproperty,\r\n\tstate,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { SettingsService, UserGroupListModel } from '../../api';\r\nimport { UMB_MODAL_MANAGER_CONTEXT } from '@umbraco-cms/backoffice/modal';\r\nimport { UMB_USER_GROUP_PICKER_MODAL } from '@umbraco-cms/backoffice/user-group';\r\n\r\n@customElement('usync-publisher-server-user-groups')\r\nexport class uSyncServerUserGroupPicker extends UmbLitElement {\r\n\t@property({ type: Array })\r\n\tgroups?: string[];\r\n\r\n\t@state()\r\n\tuserGroups?: UserGroupListModel[];\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.loadGroups().then(() => {\r\n\t\t\t// loaded the groups.\r\n\t\t});\r\n\t}\r\n\r\n\tasync loadGroups() {\r\n\t\tthis.userGroups = (await SettingsService.getUserGroups()).data;\r\n\t}\r\n\r\n\tasync #onOpenGroupPicker() {\r\n\t\tconst modalManager = await this.getContext(UMB_MODAL_MANAGER_CONTEXT);\r\n\t\tif (!modalManager) return;\r\n\r\n\t\tconst modal = modalManager.open(this, UMB_USER_GROUP_PICKER_MODAL);\r\n\t\tif (!modal) return;\r\n\r\n\t\tconst result = await modal.onSubmit();\r\n\r\n\t\tconst groups = [...(this.groups ?? []), ...result.selection];\r\n\r\n\t\tthis.#dispatchChange(groups);\r\n\t}\r\n\r\n\tasync #onRemoveGroup(key: string) {\r\n\t\tconst index = this.groups?.indexOf(key) ?? -1;\r\n\t\tif (index == -1) return;\r\n\r\n\t\tconst groups = this.groups?.filter((g) => g != key);\r\n\r\n\t\tthis.#dispatchChange(groups);\r\n\t}\r\n\r\n\t#dispatchChange(groups: unknown) {\r\n\t\tthis.dispatchEvent(\r\n\t\t\tnew CustomEvent('usync-server-update-groups', {\r\n\t\t\t\tbubbles: true,\r\n\t\t\t\tcomposed: true,\r\n\t\t\t\tdetail: { groups: groups },\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst groupsHtml = this.userGroups?.map((group) => {\r\n\t\t\tif (!this.groups?.includes(group.key)) return nothing;\r\n\r\n\t\t\treturn html`\r\n\t\t\t\t<div class=\"group\">\r\n\t\t\t\t\t<div class=\"icon\">\r\n\t\t\t\t\t\t<umb-icon name=${group.icon}></umb-icon>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"name\">${group.name} (${group.alias})</div>\r\n\t\t\t\t\t<div class=\"remove\">\r\n\t\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\t\tid=${group.key}\r\n\t\t\t\t\t\t\tlabel=\"remove\"\r\n\t\t\t\t\t\t\t@click=${() => this.#onRemoveGroup(group.key)}></uui-button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t`;\r\n\t\t});\r\n\r\n\t\treturn html`\r\n\t\t\t${groupsHtml}\r\n\r\n\t\t\t<uui-button id=\"addButton\" label=\"pick\" @click=${this.#onOpenGroupPicker}\r\n\t\t\t\t>Add Group</uui-button\r\n\t\t\t>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic styles = css`\r\n\t\t.group {\r\n\t\t\tdisplay: flex;\r\n\t\t\tpadding: 10px;\r\n\t\t\tmargin: 5px 0;\r\n\t\t\tborder: 1px dotted #888;\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\r\n\t\t.name {\r\n\t\t\tflex-grow: 2;\r\n\t\t}\r\n\r\n\t\t.icon {\r\n\t\t\tpadding-right: 10px;\r\n\t\t\tfont-size: 15pt;\r\n\t\t}\r\n\r\n\t\t#addButton {\r\n\t\t\tdisplay: block;\r\n\t\t\tmargin: 5px 0;\r\n\t\t\tborder: 1px dotted #888;\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\t`;\r\n}\r\n\r\nexport default uSyncServerUserGroupPicker;\r\n","export const USYNC_PUBLISHER_ADD_SERVER_MODAL_ALIAS = 'usync.publisher.add.server.modal';\r\nexport const USYNC_PUBLISHER_CONNECTED_SERVER_MODEL_ALIAS =\r\n\t'usync.publisher.connected.server.modal';\r\n\r\nexport const USYNC_PUBLISHER_GENERATE_KEY_MODAL_ALIAS =\r\n\t'usync.publisher.generate.key.modal';\r\n","import { UmbModalToken } from '@umbraco-cms/backoffice/modal';\r\nimport { USyncAllowedServer } from '../../api';\r\nimport { USYNC_PUBLISHER_CONNECTED_SERVER_MODEL_ALIAS } from '../_constants';\r\n\r\nexport interface SyncPublisherConnectedServerData {}\r\n\r\nexport interface SyncPublisherConnectedServerValue {\r\n\tallowedServer: USyncAllowedServer | undefined;\r\n}\r\n\r\nexport const USYNC_PUBLISHER_CONNECTED_SERVER_MODAL = new UmbModalToken<\r\n\tSyncPublisherConnectedServerData,\r\n\tSyncPublisherConnectedServerValue\r\n>(USYNC_PUBLISHER_CONNECTED_SERVER_MODEL_ALIAS, {\r\n\tmodal: { type: 'sidebar', size: 'small' },\r\n});\r\n","import {\r\n\tcss,\r\n\tcustomElement,\r\n\thtml,\r\n\tnothing,\r\n\tproperty,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { USyncAllowedServer } from '../../api';\r\nimport {\r\n\tUMB_MODAL_MANAGER_CONTEXT,\r\n\tUmbModalManagerContext,\r\n} from '@umbraco-cms/backoffice/modal';\r\nimport { USYNC_PUBLISHER_CONNECTED_SERVER_MODAL } from './connected-server-modal.token';\r\n\r\n@customElement('usync-publisher-connected-servers')\r\nexport class uSyncPublisherConnectedServersPicker extends UmbLitElement {\r\n\t#modalContext?: UmbModalManagerContext;\r\n\r\n\t@property({ type: Array })\r\n\tallowedServers?: Array<USyncAllowedServer> | null;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_MODAL_MANAGER_CONTEXT, (_modalManager) => {\r\n\t\t\tthis.#modalContext = _modalManager;\r\n\t\t});\r\n\t}\r\n\r\n\t#dispatchUpdate(servers: Array<USyncAllowedServer | undefined> | undefined) {\r\n\t\tthis.dispatchEvent(\r\n\t\t\tnew CustomEvent('update-allowed-servers', { detail: { allowedServers: servers } }),\r\n\t\t);\r\n\t}\r\n\r\n\tasync #onAddServer() {\r\n\t\tconst addAllowedServerContext = this.#modalContext?.open(\r\n\t\t\tthis,\r\n\t\t\tUSYNC_PUBLISHER_CONNECTED_SERVER_MODAL,\r\n\t\t\t{ data: {} },\r\n\t\t);\r\n\r\n\t\tconst result = await addAllowedServerContext?.onSubmit();\r\n\r\n\t\tif (!result) return;\r\n\r\n\t\tconst exists = this.allowedServers?.filter(\r\n\t\t\t(s) => s?.alias == result.allowedServer?.alias,\r\n\t\t);\r\n\r\n\t\tif (exists?.length == 0) {\r\n\t\t\tconst servers = [...(this.allowedServers ?? []), result.allowedServer];\r\n\t\t\tthis.#dispatchUpdate(servers);\r\n\t\t}\r\n\t}\r\n\r\n\t#onPushToggle(e: Event) {\r\n\t\tconst element = e.target as HTMLInputElement;\r\n\t\tif (!element) return;\r\n\r\n\t\tconst alias = element.getAttribute('data-alias');\r\n\t\tif (!alias) return;\r\n\r\n\t\tconst allowedServers = structuredClone(this.allowedServers);\r\n\t\tlet changes = false;\r\n\r\n\t\tconst servers = allowedServers?.map((s) => {\r\n\t\t\tif (s.alias == alias) {\r\n\t\t\t\ts.push = element.checked;\r\n\t\t\t\tchanges = true;\r\n\t\t\t\treturn s;\r\n\t\t\t} else {\r\n\t\t\t\treturn s;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (changes) this.#dispatchUpdate(servers);\r\n\t}\r\n\r\n\t#onPullToggle(e: Event) {\r\n\t\tconst element = e.target as HTMLInputElement;\r\n\t\tif (!element) return;\r\n\r\n\t\tconst alias = element.getAttribute('data-alias');\r\n\t\tif (!alias) return;\r\n\r\n\t\tconst allowedServers = structuredClone(this.allowedServers);\r\n\t\tlet changes = false;\r\n\r\n\t\tconst servers = allowedServers?.map((s) => {\r\n\t\t\tif (s.alias == alias) {\r\n\t\t\t\ts.pull = element.checked;\r\n\t\t\t\tchanges = true;\r\n\t\t\t\treturn s;\r\n\t\t\t} else {\r\n\t\t\t\treturn s;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (changes) this.#dispatchUpdate(servers);\r\n\t}\r\n\r\n\t#onRemove(e: Event) {\r\n\t\tconst element = e.target as HTMLInputElement;\r\n\t\tif (!element) return;\r\n\r\n\t\tconst alias = element.getAttribute('data-alias');\r\n\t\tif (!alias) return;\r\n\r\n\t\tconst allowedServers = structuredClone(this.allowedServers);\r\n\r\n\t\tconst servers = allowedServers?.filter((s) => {\r\n\t\t\treturn s.alias != alias;\r\n\t\t});\r\n\r\n\t\tif (allowedServers?.length != this.allowedServers) {\r\n\t\t\tthis.#dispatchUpdate(servers);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn html`\r\n\t\t\t${this.renderServers()}\r\n\t\t\t<uui-button\r\n\t\t\t\tclass=\"add-btn\"\r\n\t\t\t\t.label=${this.localize.term('usyncpublish_addServer')}\r\n\t\t\t\t@click=${this.#onAddServer}></uui-button>\r\n\t\t`;\r\n\t}\r\n\r\n\trenderServers() {\r\n\t\treturn this.allowedServers == null\r\n\t\t\t? nothing\r\n\t\t\t: this.allowedServers.map((s) => {\r\n\t\t\t\t\treturn html`\r\n\t\t\t\t\t\t<div class=\"server\">\r\n\t\t\t\t\t\t\t<umb-icon name=${s.icon}></umb-icon>\r\n\t\t\t\t\t\t\t<div class=\"name\">${s.name}</div>\r\n\r\n\t\t\t\t\t\t\t<uui-checkbox\r\n\t\t\t\t\t\t\t\tid=\"${s.alias}-push-toggle\"\r\n\t\t\t\t\t\t\t\tdata-alias=${s.alias}\r\n\t\t\t\t\t\t\t\t.label=${this.localize.term('usyncpublish_push')}\r\n\t\t\t\t\t\t\t\t.checked=${s.push}\r\n\t\t\t\t\t\t\t\t@change=${this.#onPushToggle}></uui-checkbox>\r\n\r\n\t\t\t\t\t\t\t<uui-checkbox\r\n\t\t\t\t\t\t\t\tid=\"${s.alias}-pull-toggle\"\r\n\t\t\t\t\t\t\t\t.label=${this.localize.term('usyncpublish_pull')}\r\n\t\t\t\t\t\t\t\t.checked=${s.pull}\r\n\t\t\t\t\t\t\t\tdata-alias=${s.alias}\r\n\t\t\t\t\t\t\t\t@change=${this.#onPullToggle}></uui-checkbox>\r\n\r\n\t\t\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\t\t\tid=\"remove\"\r\n\t\t\t\t\t\t\t\tcolor=\"danger\"\r\n\t\t\t\t\t\t\t\t.label=${this.localize.term('general_remove')}\r\n\t\t\t\t\t\t\t\tdata-alias=${s.alias}\r\n\t\t\t\t\t\t\t\t@click=${this.#onRemove}\r\n\t\t\t\t\t\t\t\t>Remove</uui-button\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t`;\r\n\t\t\t\t});\r\n\t}\r\n\r\n\tstatic styles = css`\r\n\t\t.server {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\tmargin-bottom: 10px;\r\n\t\t}\r\n\r\n\t\t.name {\r\n\t\t\tfont-weight: bold;\r\n\t\t\twidth: 200px;\r\n\t\t\tpadding: 0 10px;\r\n\t\t}\r\n\r\n\t\tuui-icon,\r\n\t\tuui-checkbox {\r\n\t\t\tpadding: 0 10px;\r\n\t\t}\r\n\r\n\t\t.add-btn {\r\n\t\t\twidth: 100%;\r\n\t\t\tborder: 1px dashed #ddd;\r\n\t\t}\r\n\t`;\r\n}\r\n\r\nexport default uSyncPublisherConnectedServersPicker;\r\n","const _constants = {\r\n\temptyGuid: '00000000-0000-0000-0000-000000000000',\r\n\temptyString: '',\r\n\r\n\tdashboard: {\r\n\t\talias: 'usync.publisher.dashboard',\r\n\t\telement: 'usync-publisher-dashboard',\r\n\t\tcontext: 'usync.publisher.dashboard.context',\r\n\t},\r\n};\r\n\r\nexport const uSyncPublisher = _constants;\r\n\r\nexport const PublisherTimeOptions: Intl.DateTimeFormatOptions = {\r\n\tyear: 'numeric',\r\n\tmonth: 'long',\r\n\tday: 'numeric',\r\n\thour: 'numeric',\r\n\tminute: 'numeric',\r\n\tsecond: 'numeric',\r\n};\r\n","import { css, customElement, html, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { uSyncPublisher } from '../../../../constants';\r\nimport { UMB_TEMPLATE_ENTITY_TYPE } from '@umbraco-cms/backoffice/template';\r\nimport { UMB_DOCUMENT_ENTITY_TYPE } from '@umbraco-cms/backoffice/document';\r\nimport { UMB_MEDIA_ENTITY_TYPE } from '@umbraco-cms/backoffice/media';\r\nimport { UMB_DATA_TYPE_ENTITY_TYPE } from '@umbraco-cms/backoffice/data-type';\r\n\r\ninterface syncEntityList {\r\n\tname: string;\r\n\tentities: syncEntity[];\r\n}\r\n\r\ninterface syncEntity {\r\n\tlabel: string;\r\n\tentity: string;\r\n\tselected: boolean;\r\n\trootId: string;\r\n}\r\n\r\n@customElement('usync-publisher-server-sync-list')\r\nexport class uSyncPublisherServerSyncListElement extends UmbLitElement {\r\n\t@state()\r\n\t_entityies: syncEntityList[] = [\r\n\t\t{\r\n\t\t\tname: 'Settings',\r\n\t\t\tentities: [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Document types',\r\n\t\t\t\t\tentity: 'document-type',\r\n\t\t\t\t\tselected: true,\r\n\t\t\t\t\trootId: uSyncPublisher.emptyGuid,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Data types',\r\n\t\t\t\t\tentity: UMB_DATA_TYPE_ENTITY_TYPE,\r\n\t\t\t\t\tselected: true,\r\n\t\t\t\t\trootId: uSyncPublisher.emptyGuid,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Member types',\r\n\t\t\t\t\tentity: 'member-type',\r\n\t\t\t\t\tselected: true,\r\n\t\t\t\t\trootId: uSyncPublisher.emptyGuid,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Media types',\r\n\t\t\t\t\tentity: 'media-type',\r\n\t\t\t\t\tselected: true,\r\n\t\t\t\t\trootId: uSyncPublisher.emptyGuid,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Document blueprints',\r\n\t\t\t\t\tentity: 'document-blueprint',\r\n\t\t\t\t\tselected: true,\r\n\t\t\t\t\trootId: uSyncPublisher.emptyGuid,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'Languages',\r\n\t\t\tentities: [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Languages',\r\n\t\t\t\t\tentity: 'language',\r\n\t\t\t\t\tselected: true,\r\n\t\t\t\t\trootId: uSyncPublisher.emptyString,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Dictionary items',\r\n\t\t\t\t\tentity: 'dictionary-item',\r\n\t\t\t\t\tselected: true,\r\n\t\t\t\t\trootId: uSyncPublisher.emptyGuid,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'Files',\r\n\t\t\tentities: [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Templates',\r\n\t\t\t\t\tentity: UMB_TEMPLATE_ENTITY_TYPE,\r\n\t\t\t\t\tselected: true,\r\n\t\t\t\t\trootId: uSyncPublisher.emptyString,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Partial views',\r\n\t\t\t\t\tentity: 'partial-view',\r\n\t\t\t\t\tselected: true,\r\n\t\t\t\t\trootId: uSyncPublisher.emptyString,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Scripts',\r\n\t\t\t\t\tentity: 'script',\r\n\t\t\t\t\tselected: true,\r\n\t\t\t\t\trootId: uSyncPublisher.emptyString,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Stylesheets',\r\n\t\t\t\t\tentity: 'stylesheet',\r\n\t\t\t\t\tselected: true,\r\n\t\t\t\t\trootId: uSyncPublisher.emptyString,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'Content',\r\n\t\t\tentities: [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Content',\r\n\t\t\t\t\tentity: UMB_DOCUMENT_ENTITY_TYPE,\r\n\t\t\t\t\tselected: false,\r\n\t\t\t\t\trootId: uSyncPublisher.emptyGuid,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Media',\r\n\t\t\t\t\tentity: UMB_MEDIA_ENTITY_TYPE,\r\n\t\t\t\t\tselected: false,\r\n\t\t\t\t\trootId: uSyncPublisher.emptyGuid,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t];\r\n\r\n\tconnectedCallback(): void {\r\n\t\tsuper.connectedCallback();\r\n\t\tthis.#sendUpdateSelectedEntitiesEvent();\r\n\t}\r\n\r\n\t#onUpdateToggle(listName: string, entity: syncEntity) {\r\n\t\tconst list = this._entityies.find((x) => x.name === listName);\r\n\t\tif (!list) return;\r\n\r\n\t\tconst item = list.entities.find((x) => x.entity === entity.entity);\r\n\t\tif (!item) return;\r\n\r\n\t\titem.selected = !item.selected;\r\n\t\tconst index = list.entities.findIndex((x) => x.entity === entity.entity);\r\n\t\tlist.entities.splice(index, 1, item);\r\n\r\n\t\tthis.requestUpdate();\r\n\t\tthis.#sendUpdateSelectedEntitiesEvent();\r\n\t}\r\n\r\n\t#onSelectAll(e: Event) {\r\n\t\tconst checked = (e.target as HTMLInputElement).checked;\r\n\t\tthis._entityies.forEach((list) => {\r\n\t\t\tlist.entities.forEach((entity) => {\r\n\t\t\t\tentity.selected = checked;\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.requestUpdate();\r\n\t\tthis.#sendUpdateSelectedEntitiesEvent();\r\n\t}\r\n\r\n\t#onSelectList(e: Event) {\r\n\t\tconst checkbox = e.target as HTMLInputElement;\r\n\t\tconst checked = checkbox.checked;\r\n\t\tconst listName = checkbox.getAttribute('data-list');\r\n\r\n\t\tthis._entityies.forEach((list) => {\r\n\t\t\tif (list.name === listName) {\r\n\t\t\t\tlist.entities.forEach((entity) => {\r\n\t\t\t\t\tentity.selected = checked;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.requestUpdate();\r\n\t\tthis.#sendUpdateSelectedEntitiesEvent();\r\n\t}\r\n\r\n\t#sendUpdateSelectedEntitiesEvent() {\r\n\t\tthis.dispatchEvent(\r\n\t\t\tnew CustomEvent<string[]>('update-selected-entities', {\r\n\t\t\t\tdetail: this._entityies.flatMap((list) =>\r\n\t\t\t\t\tlist.entities\r\n\t\t\t\t\t\t.filter((entity) => entity.selected)\r\n\t\t\t\t\t\t.map((entity) => `umb://${entity.entity}/${entity.rootId}`),\r\n\t\t\t\t),\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn html`\r\n\t\t\t${this.renderSelectAll()}\r\n\t\t\t<div class=\"entity-list\">${this.renderEntityList()}</div>\r\n\t\t`;\r\n\t}\r\n\r\n\trenderEntityList() {\r\n\t\treturn this._entityies.map((list) => {\r\n\t\t\treturn html`\r\n\t\t\t\t<div>\r\n\t\t\t\t\t${this.renderGroupSelect(list)}\r\n\t\t\t\t\t${list.entities.map((entity) => this.renderToggle(list.name, entity))}\r\n\t\t\t\t</div>\r\n\t\t\t`;\r\n\t\t});\r\n\t}\r\n\r\n\trenderGroupSelect(list: syncEntityList) {\r\n\t\treturn html`<h4>\r\n\t\t\t<uui-checkbox\r\n\t\t\t\tlabel=${list.name}\r\n\t\t\t\tdata-list=${list.name}\r\n\t\t\t\t@change=${this.#onSelectList}\r\n\t\t\t\t.checked=${list.entities.every((entity) => entity.selected)}>\r\n\t\t\t\t${list.name}</uui-checkbox\r\n\t\t\t>\r\n\t\t</h4>`;\r\n\t}\r\n\r\n\trenderSelectAll() {\r\n\t\treturn html`\r\n\t\t\t<div>\r\n\t\t\t\t<uui-checkbox\r\n\t\t\t\t\tlabel=\"Select all\"\r\n\t\t\t\t\t@change=${this.#onSelectAll}\r\n\t\t\t\t\t.checked=${this._entityies.every((list) =>\r\n\t\t\t\t\t\tlist.entities.every((entity) => entity.selected),\r\n\t\t\t\t\t)}></uui-checkbox>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\trenderToggle(listName: string, entity: syncEntity) {\r\n\t\treturn html`\r\n\t\t\t<div class=\"toggle\">\r\n\t\t\t\t<uui-checkbox\r\n\t\t\t\t\tid=${entity.entity}\r\n\t\t\t\t\tlabel-position=\"right\"\r\n\t\t\t\t\t.label=${entity.label}\r\n\t\t\t\t\t.checked=${entity.selected}\r\n\t\t\t\t\t@change=${() => this.#onUpdateToggle(listName, entity)}></uui-checkbox>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic styles = css`\r\n\t\t.entity-list {\r\n\t\t\tdisplay: grid;\r\n\t\t\tgrid-template-columns: 1fr 1fr 1fr;\r\n\t\t\tgap: 20px;\r\n\t\t}\r\n\r\n\t\t.toggle {\r\n\t\t\tpadding-left: var(--uui-size-space-4);\r\n\t\t}\r\n\r\n\t\th4 {\r\n\t\t\tborder-bottom: 1px solid var(--uui-color-border);\r\n\t\t\tmargin-bottom: var(--uui-size-space-4);\r\n\t\t}\r\n\t`;\r\n}\r\n\r\nexport default uSyncPublisherServerSyncListElement;\r\n","import { UmbControllerBase } from '@umbraco-cms/backoffice/class-api';\r\nimport SyncPublisherServersContext, {\r\n\tUSYNC_PUBLISHER_SERVER_CONTEXT,\r\n} from '../servers.context';\r\nimport {\r\n\tSyncPublishServerView,\r\n\tSyncSendOption,\r\n\tUSyncPublishServerStatus,\r\n\tUSyncPublisherView,\r\n} from '../../api';\r\nimport { UmbBooleanState, UmbObjectState } from '@umbraco-cms/backoffice/observable-api';\r\nimport { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\nimport { UmbIconPickerModalValue } from '@umbraco-cms/backoffice/icon';\r\n\r\nexport class SyncPublisherServerSharedContext extends UmbControllerBase {\r\n\t#serverContext: SyncPublisherServersContext | undefined;\r\n\r\n\t#data = new UmbObjectState<SyncPublishServerView | undefined>(undefined);\r\n\treadonly data = this.#data.asObservable();\r\n\r\n\t#hasKeys = new UmbBooleanState(undefined);\r\n\treadonly hasKeys = this.#hasKeys.asObservable();\r\n\r\n\tconstructor(host: UmbControllerHost, unique: string | undefined) {\r\n\t\tsuper(host);\r\n\r\n\t\tthis.provideContext(USYNC_PUBLISHER_SERVER_SHARED_CONTEXT, this);\r\n\r\n\t\tthis.consumeContext(USYNC_PUBLISHER_SERVER_CONTEXT, (context) => {\r\n\t\t\tthis.#serverContext = context;\r\n\r\n\t\t\tif (unique) {\r\n\t\t\t\tthis.load(unique);\r\n\t\t\t}\r\n\r\n\t\t\tthis.checkKeys();\r\n\t\t});\r\n\t}\r\n\r\n\tasync getPublishers(): Promise<USyncPublisherView[]> {\r\n\t\treturn (await this.#serverContext?.getPublishers()) ?? [];\r\n\t}\r\n\r\n\tsetIcon(icon: UmbIconPickerModalValue) {\r\n\t\tif (icon.icon) {\r\n\t\t\tif (icon.color) {\r\n\t\t\t\tthis.set({ icon: `${icon.icon} color-${icon.color}` });\r\n\t\t\t} else {\r\n\t\t\t\tthis.set({ icon: icon.icon });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tsetName(name: string) {\r\n\t\tthis.set({ name: name });\r\n\t}\r\n\r\n\tset(value: Record<string, unknown>) {\r\n\t\tthis.#data.update(value);\r\n\t}\r\n\r\n\tsetSyncOption(alias: string, option: SyncSendOption) {\r\n\t\tconst settings = this.#data.getValue()?.sendSettings;\r\n\t\tif (!settings) return;\r\n\r\n\t\tthis.#data.update({ sendSettings: { ...settings, ...{ [alias]: option } } });\r\n\t}\r\n\r\n\tsetSyncBoolOption(alias: string, value: boolean) {\r\n\t\tconst settings = this.#data.getValue()?.sendSettings;\r\n\t\tif (!settings) return;\r\n\r\n\t\tthis.#data.update({ sendSettings: { ...settings, ...{ [alias]: value } } });\r\n\t}\r\n\r\n\tsetPublisherSetting(alias: string, value: unknown) {\r\n\t\tconst publisherSettings = this.#data.getValue()?.publisherSettings;\r\n\t\tif (!publisherSettings) return;\r\n\r\n\t\tthis.#data.update({\r\n\t\t\tpublisherSettings: { ...publisherSettings, ...{ [alias]: value } },\r\n\t\t});\r\n\t}\r\n\r\n\tsetUserGroups(groups: string[]) {\r\n\t\tthis.#data.update({ userGroups: groups });\r\n\t}\r\n\r\n\tasync submit() {\r\n\t\tconst data = this.getData();\r\n\t\tif (!data) return;\r\n\r\n\t\tawait this.#serverContext?.saveServer(data);\r\n\r\n\t\tawait this.load(data.key);\r\n\t}\r\n\r\n\tasync load(unique: string) {\r\n\t\tconst data = await this.#serverContext?.getServer(unique);\r\n\t\tthis.#data.setValue(data);\r\n\t}\r\n\r\n\tasync checkServer(alias: string): Promise<USyncPublishServerStatus | undefined> {\r\n\t\tif (!this.#serverContext) return undefined;\r\n\r\n\t\treturn await this.#serverContext.checkServer(alias);\r\n\t}\r\n\r\n\tasync syncSettings(servers: string[]) {\r\n\t\tif (!this.#serverContext) return;\r\n\t\tawait this.#serverContext?.syncSettings(servers);\r\n\t}\r\n\r\n\tgetData(): SyncPublishServerView | undefined {\r\n\t\treturn this.#data.getValue();\r\n\t}\r\n\r\n\tasync checkKeys() {\r\n\t\tconst hasKeys = await this.#serverContext?.hasKeys();\r\n\t\tthis.#hasKeys.setValue(hasKeys);\r\n\t}\r\n\r\n\tasync createKeys() {\r\n\t\tif (!this.#serverContext) return;\r\n\t\treturn await this.#serverContext.createKeys();\r\n\t}\r\n\r\n\tasync saveKeys(appId: string, appKey: string) {\r\n\t\tif (!this.#serverContext) return;\r\n\t\treturn await this.#serverContext.saveKeys(appId, appKey);\r\n\t}\r\n}\r\n\r\nexport const USYNC_PUBLISHER_SERVER_SHARED_CONTEXT =\r\n\tnew UmbContextToken<SyncPublisherServerSharedContext>(\r\n\t\t'SyncPublisherServerWorkspaceSharedContext',\r\n\t);\r\n","import { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { SyncPublishServerView } from '../../api';\r\nimport { property } from '@umbraco-cms/backoffice/external/lit';\r\nimport {\r\n\tSyncPublisherServerSharedContext,\r\n\tUSYNC_PUBLISHER_SERVER_SHARED_CONTEXT,\r\n} from '../workspace/server-workspace-shared.context';\r\n\r\nexport class PublisherConfigElement extends HTMLElement {\r\n\toptions: SyncPublishServerView | undefined;\r\n}\r\n\r\nexport class PublisherConfigBase extends UmbLitElement {\r\n\t@property({ type: Object })\r\n\toptions: SyncPublishServerView | undefined;\r\n\r\n\tprotected sharedContext?: SyncPublisherServerSharedContext;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(USYNC_PUBLISHER_SERVER_SHARED_CONTEXT, async (_context) => {\r\n\t\t\tthis.sharedContext = _context;\r\n\t\t});\r\n\t}\r\n\r\n\tprotected onPublisherSettingChange(e: Event) {\r\n\t\tconst element = e.target as HTMLInputElement;\r\n\t\tif (element) {\r\n\t\t\tthis.sharedContext?.setPublisherSetting(element.id, element.checked);\r\n\t\t}\r\n\t}\r\n}\r\n","import { UmbControllerBase } from '@umbraco-cms/backoffice/class-api';\r\nimport { SyncPublisherBrowserRepository } from './browser.repository';\r\nimport { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\nimport {\r\n\tUmbArrayState,\r\n\tUmbObjectState,\r\n\tUmbStringState,\r\n} from '@umbraco-cms/backoffice/observable-api';\r\nimport {\r\n\tSyncBrowserItemChange,\r\n\tSyncPublishServerView,\r\n\tUdiModel,\r\n\tUSyncItemFolder,\r\n} from '../api';\r\n\r\nexport class SyncPublisherBrowserContext extends UmbControllerBase {\r\n\t#repository: SyncPublisherBrowserRepository;\r\n\r\n\t#entityType = new UmbStringState('document');\r\n\tpublic readonly entityType = this.#entityType.getValue();\r\n\r\n\t#server = new UmbObjectState<SyncPublishServerView | undefined>(undefined);\r\n\tpublic readonly server = this.#server.asObservable();\r\n\r\n\t#folder = new UmbObjectState<USyncItemFolder | undefined>(undefined);\r\n\tpublic readonly folder = this.#folder.asObservable();\r\n\r\n\t#changes = new UmbArrayState<SyncBrowserItemChange>([], (k) => k.udi);\r\n\tpublic readonly changes = this.#changes.asObservable();\r\n\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tsuper(host);\r\n\r\n\t\tthis.#repository = new SyncPublisherBrowserRepository(this);\r\n\t\tthis.provideContext(USYNC_PUBLISHER_BROWSER_CONTEXT, this);\r\n\t}\r\n\r\n\tasync setEntityType(entityType: string) {\r\n\t\tthis.#entityType.setValue(entityType);\r\n\t}\r\n\r\n\tasync updateServer(server: SyncPublishServerView) {\r\n\t\tthis.#server.setValue(server);\r\n\t}\r\n\t/**\r\n\t * get the folders for a given id.\r\n\t */\r\n\tasync getFolders(id: string, page: number) {\r\n\t\tconst type = this.#entityType.getValue();\r\n\t\tif (!type) return null;\r\n\r\n\t\tif (type == 'document') {\r\n\t\t\treturn await this.#getContentFolders(id, page);\r\n\t\t} else {\r\n\t\t\treturn await this.#getMediaFolders(id, page);\r\n\t\t}\r\n\t}\r\n\r\n\tasync calculateChanges(udis: UdiModel[]) {\r\n\t\tconst type = this.#entityType.getValue();\r\n\t\tif (!type) return null;\r\n\r\n\t\tif (type === 'document') {\r\n\t\t\treturn await this.#calculateContentChanges(udis);\r\n\t\t}\r\n\r\n\t\treturn await this.#calculateMediaChanges(udis);\r\n\t}\r\n\r\n\tasync #getContentFolders(id: string, page: number) {\r\n\t\tconst server = this.#server.getValue();\r\n\t\tif (!server) {\r\n\t\t\treturn await this.#getLocalContentFolders(id, page);\r\n\t\t}\r\n\r\n\t\tconst folder = await this.#repository.getContentFolders(id, server.alias, page);\r\n\t\tif (!folder) return;\r\n\t\tthis.#folder.setValue(folder);\r\n\t\treturn folder;\r\n\t}\r\n\r\n\tasync #getLocalContentFolders(id: string, page: number) {\r\n\t\tconst server = this.#server.getValue();\r\n\t\tif (!server) return;\r\n\r\n\t\tconst folder = await this.#repository.getLocalContentFolders(id, page);\r\n\t\tif (!folder) return;\r\n\t\tthis.#folder.setValue(folder);\r\n\t\treturn folder;\r\n\t}\r\n\r\n\tasync #getMediaFolders(id: string, page: number) {\r\n\t\tconst server = this.#server.getValue();\r\n\t\tif (!server) {\r\n\t\t\treturn await this.#getLocalMediaFolders(id, page);\r\n\t\t}\r\n\r\n\t\tconst folder = await this.#repository.getMediaFolders(id, server.alias, page);\r\n\t\tif (!folder) return;\r\n\t\tthis.#folder.setValue(folder);\r\n\t\treturn folder;\r\n\t}\r\n\r\n\tasync #getLocalMediaFolders(id: string, page: number) {\r\n\t\tconst server = this.#server.getValue();\r\n\t\tif (!server) return;\r\n\r\n\t\tconst folder = await this.#repository.getLocalMediaFolders(id, page);\r\n\t\tif (!folder) return;\r\n\t\tthis.#folder.setValue(folder);\r\n\t\treturn folder;\r\n\t}\r\n\r\n\tasync #calculateContentChanges(udis: UdiModel[]) {\r\n\t\tconst server = this.#server.getValue();\r\n\t\tif (!server) return;\r\n\r\n\t\tconst changes = await this.#repository.calculateContentChanges(server.alias, udis);\r\n\t\tif (!changes) return;\r\n\t\tthis.#changes.setValue(changes);\r\n\t\treturn changes;\r\n\t}\r\n\r\n\tasync #calculateMediaChanges(udis: UdiModel[]) {\r\n\t\tconst server = this.#server.getValue();\r\n\t\tif (!server) return;\r\n\r\n\t\tconst changes = await this.#repository.calculateContentChanges(server.alias, udis);\r\n\t\tif (!changes) return;\r\n\t\tthis.#changes.setValue(changes);\r\n\t\treturn changes;\r\n\t}\r\n\r\n\tasync getContentEntity(id: string) {\r\n\t\tconst server = this.#server.getValue();\r\n\t\tif (!server) return;\r\n\r\n\t\tconst entity = this.#repository.getContentEntity(id, server.alias);\r\n\t\treturn entity;\r\n\t}\r\n\r\n\tasync getMediaEntity(id: string) {\r\n\t\tconst server = this.#server.getValue();\r\n\t\tif (!server) return;\r\n\r\n\t\tconst entity = this.#repository.getMediaEntity(id, server.alias);\r\n\t\treturn entity;\r\n\t}\r\n\r\n\tasync HasContent() {\r\n\t\tconst server = this.#server.getValue();\r\n\t\tif (!server) return;\r\n\r\n\t\treturn this.#repository.hasContent();\r\n\t}\r\n\r\n\tasync HasMedia() {\r\n\t\tconst server = this.#server.getValue();\r\n\t\tif (!server) return;\r\n\r\n\t\treturn this.#repository.hasMedia();\r\n\t}\r\n\r\n\tasync HasContentOrMedia() {\r\n\t\tconst server = this.#server.getValue();\r\n\t\tif (!server) return;\r\n\r\n\t\treturn this.#repository.hasContentOrMedia();\r\n\t}\r\n}\r\n\r\nexport default SyncPublisherBrowserContext;\r\n\r\nexport const USYNC_PUBLISHER_BROWSER_CONTEXT =\r\n\tnew UmbContextToken<SyncPublisherBrowserContext>('uSyncPublisherBrowserContext');\r\n","import { customElement, html, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport {\r\n\tSyncBrowserItemChange,\r\n\tSyncPublishServerView,\r\n\tUdiModel,\r\n\tUSyncEntityView,\r\n\tUSyncItemFolder,\r\n} from '../../api';\r\nimport SyncPublisherBrowserContext from '../browser.context';\r\nimport { uSyncPublisher } from '../../constants';\r\nimport { UMB_MODAL_MANAGER_CONTEXT } from '@umbraco-cms/backoffice/modal';\r\nimport { USYNC_PUBLISHER_DETAILS_MODAL } from '../../change';\r\n\r\n@customElement('usync-publisher-browser-dashboard')\r\nexport class uSyncPublisherContentBrowserDashboardElement extends UmbLitElement {\r\n\t#browserContext: SyncPublisherBrowserContext;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.#browserContext = new SyncPublisherBrowserContext(this);\r\n\t\tthis.#browserContext.setEntityType('document');\r\n\t}\r\n\r\n\t@state()\r\n\t_folder?: USyncItemFolder;\r\n\r\n\t@state()\r\n\t_server?: SyncPublishServerView;\r\n\r\n\t@state()\r\n\t_changes?: SyncBrowserItemChange[];\r\n\r\n\tasync #checkFolders(folder: USyncItemFolder) {\r\n\t\tif (!this._server) return;\r\n\r\n\t\tconst udis = folder.folders\r\n\t\t\t?.map((item) => item.udi)\r\n\t\t\t.filter((x) => x != null || x != undefined) as UdiModel[];\r\n\t\tif (!udis) return;\r\n\r\n\t\tconst changes = await this.#browserContext.calculateChanges(udis);\r\n\t\tif (changes) this._changes = changes;\r\n\t}\r\n\r\n\tasync #onServerSelected(e: CustomEvent<SyncPublishServerView>) {\r\n\t\tif (!e.detail) return;\r\n\r\n\t\tthis._folder = undefined;\r\n\r\n\t\tthis._server = e.detail;\r\n\t\tthis.#browserContext.updateServer(e.detail);\r\n\r\n\t\tawait this.#getFolderContents(uSyncPublisher.emptyGuid, 1);\r\n\t}\r\n\r\n\t#getItemChange(udi: UdiModel): SyncBrowserItemChange | undefined {\r\n\t\tif (!this._changes) return undefined;\r\n\t\treturn this._changes.find((x) => x.udi?.uriValue == udi.uriValue);\r\n\t}\r\n\r\n\tasync #getFolderContents(unique: string, page: number) {\r\n\t\tconst folder = await this.#browserContext.getFolders(unique, page);\r\n\t\tif (!folder) return;\r\n\t\tawait this.#checkFolders(folder);\r\n\t\tthis._folder = folder;\r\n\t}\r\n\r\n\tasync #onItemOpen(e: CustomEvent<USyncEntityView>) {\r\n\t\t// opens this item, in the view.\r\n\t\tthis.#getFolderContents(e.detail.key, 1);\r\n\t}\r\n\r\n\tasync #onNavigate(e: CustomEvent<string>) {\r\n\t\tthis.#getFolderContents(e.detail, 1);\r\n\t}\r\n\r\n\tasync #onViewDetails(e: CustomEvent<USyncEntityView>) {\r\n\t\tif (!e.detail?.udi) return;\r\n\r\n\t\tconst change = this.#getItemChange(e.detail.udi);\r\n\r\n\t\tif (change?.action == null) return;\r\n\r\n\t\tconst modalManager = await this.getContext(UMB_MODAL_MANAGER_CONTEXT);\r\n\t\tconst detailsModal = modalManager?.open(this, USYNC_PUBLISHER_DETAILS_MODAL, {\r\n\t\t\tdata: {\r\n\t\t\t\tserver: this._server?.alias ?? '',\r\n\t\t\t\titem: change.action,\r\n\t\t\t\tcompareDefault: true,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tconst data = await detailsModal?.onSubmit();\r\n\t\tif (!data) return;\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn html`<umb-body-layout\r\n\t\t\t><usync-licence-notice></usync-licence-notice>${this.renderSources()}\r\n\t\t\t${this.renderBreadcrumb()} ${this.renderContent()}\r\n\t\t</umb-body-layout>`;\r\n\t}\r\n\r\n\trenderSources() {\r\n\t\treturn html`\r\n\t\t\t<uui-box headline=${this.localize.term('usyncpublish_pickServer')}>\r\n\t\t\t\t<div slot=\"header\">\r\n\t\t\t\t\t<small><umb-localize key=\"usyncpublish_pickServerTag\"></umb-localize></small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<usync-publisher-server-picker\r\n\t\t\t\t\t@server-selected=${this.#onServerSelected}></usync-publisher-server-picker\r\n\t\t\t></uui-box>\r\n\t\t`;\r\n\t}\r\n\r\n\trenderBreadcrumb() {\r\n\t\treturn html`<usync-publisher-browser-folder-path\r\n\t\t\t@navigate=${this.#onNavigate}\r\n\t\t\t.folder=${this._folder}></usync-publisher-browser-folder-path>`;\r\n\t}\r\n\r\n\trenderContent() {\r\n\t\treturn html`<usync-publisher-browser-folder-view\r\n\t\t\t.folder=${this._folder}\r\n\t\t\t.changes=${this._changes}\r\n\t\t\t@open-item=${this.#onItemOpen}\r\n\t\t\t@view-details=${this.#onViewDetails}></usync-publisher-browser-folder-view>`;\r\n\t}\r\n}\r\n\r\nexport default uSyncPublisherContentBrowserDashboardElement;\r\n","import {\r\n\tcss,\r\n\tcustomElement,\r\n\thtml,\r\n\tnothing,\r\n\tproperty,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport {\r\n\tChangeType,\r\n\tSyncBrowserItemChange,\r\n\tUdiModel,\r\n\tUSyncEntityView,\r\n\tUSyncItemFolder,\r\n} from '../../api';\r\nimport { UUIInterfaceColor } from '@umbraco-cms/backoffice/external/uui';\r\nimport { PublisherTimeOptions } from '../../constants';\r\n\r\n/**\r\n * @fires open-item - when an item is opened\r\n * @fires view-details - when an item is viewed\r\n */\r\nexport interface uSyncUpdateItemType {\r\n\ttag: string;\r\n\tcolor: UUIInterfaceColor;\r\n}\r\n\r\n@customElement('usync-publisher-browser-folder-view')\r\nexport class SyncPublisherBrowserFolderView extends UmbLitElement {\r\n\t@property({ type: Object })\r\n\tfolder?: USyncItemFolder;\r\n\r\n\t@property({ type: Array })\r\n\tchanges?: SyncBrowserItemChange[];\r\n\r\n\t#getChange(udi: UdiModel): uSyncUpdateItemType {\r\n\t\tif (!this.changes) return { tag: '...', color: 'warning' };\r\n\r\n\t\tconst result = this.changes.find((x) => x.udi?.uriValue == udi.uriValue);\r\n\t\tif (!result) return { tag: '...', color: 'warning' };\r\n\r\n\t\tswitch (result.action.change) {\r\n\t\t\tcase ChangeType.NO_CHANGE:\r\n\t\t\t\treturn { tag: 'in-sync', color: 'positive' };\r\n\t\t\tcase ChangeType.CLEAN:\r\n\t\t\t\treturn { tag: 'missing', color: 'warning' };\r\n\t\t\tdefault:\r\n\t\t\t\treturn { tag: 'out of sync', color: 'warning' };\r\n\t\t}\r\n\t}\r\n\r\n\tasync #onOpen(item: USyncEntityView) {\r\n\t\tif (!item.hasChildren) return;\r\n\r\n\t\tthis.dispatchEvent(\r\n\t\t\tnew CustomEvent<USyncEntityView>('open-item', {\r\n\t\t\t\tbubbles: true,\r\n\t\t\t\tcomposed: true,\r\n\t\t\t\tdetail: item,\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tasync #onViewDetails(item: USyncEntityView) {\r\n\t\tthis.dispatchEvent(\r\n\t\t\tnew CustomEvent<USyncEntityView>('view-details', {\r\n\t\t\t\tbubbles: true,\r\n\t\t\t\tcomposed: true,\r\n\t\t\t\tdetail: item,\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (!this.folder?.folders) return nothing;\r\n\t\treturn html` <div class=\"item-list\">${this.renderItems(this.folder.folders)}</div>`;\r\n\t}\r\n\r\n\trenderItems(items: USyncEntityView[]) {\r\n\t\treturn items.map((item) => {\r\n\t\t\tif (!item.udi) return nothing;\r\n\r\n\t\t\tconst update = new Date(item.update).toISOString();\r\n\t\t\tconst change = this.#getChange(item.udi);\r\n\r\n\t\t\treturn html`\r\n\t\t\t\t<uui-card-content-node\r\n\t\t\t\t\t.name=${item.name}\r\n\t\t\t\t\t@open=${() => this.#onOpen(item)}\r\n\t\t\t\t\t.selectable=${true}>\r\n\t\t\t\t\t<div slot=\"icon\"><umb-icon .name=${item.icon}></umb-icon></div>\r\n\t\t\t\t\t<div slot=\"actions\">\r\n\t\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\t\tlabel=\"Compare\"\r\n\t\t\t\t\t\t\tlook=\"outline\"\r\n\t\t\t\t\t\t\tcolor=${change.color}\r\n\t\t\t\t\t\t\t@click=${() => this.#onViewDetails(item)}></uui-button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"detail\">\r\n\t\t\t\t\t\t<div class=\"title\">Type</div>\r\n\t\t\t\t\t\t<div class=\"value\">${item.type}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"detail\">\r\n\t\t\t\t\t\t<div class=\"title\">Update</div>\r\n\t\t\t\t\t\t<div class=\"value\">${this.localize.date(update, PublisherTimeOptions)}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"detail\">\r\n\t\t\t\t\t\t<div class=\"title\">Url</div>\r\n\t\t\t\t\t\t<div class=\"value\">${item.remoteUrl}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</uui-card-content-node>\r\n\t\t\t`;\r\n\t\t});\r\n\t}\r\n\r\n\tstatic styles = css`\r\n\t\t.item-list {\r\n\t\t\tdisplay: grid;\r\n\t\t\tgrid-template-columns: repeat(3, 1fr);\r\n\t\t\tgap: 10px;\r\n\t\t\tmargin: var(--uui-size-3) 0;\r\n\t\t}\r\n\r\n\t\tuui-card-content-node ul {\r\n\t\t\tlist-style: none;\r\n\t\t\tpadding-inline-start: 0px;\r\n\t\t\tmargin: 0px;\r\n\t\t}\r\n\r\n\t\tuui-tag {\r\n\t\t\tcursor: zoom-in;\r\n\t\t}\r\n\r\n\t\t.detail {\r\n\t\t\tdisplay: flex;\r\n\t\t\tgap: 5px;\r\n\t\t}\r\n\r\n\t\t.detail .title {\r\n\t\t\tfont-weight: bold;\r\n\t\t\tmin-width: 60px;\r\n\t\t\ttext-align: right;\r\n\t\t}\r\n\r\n\t\t.detail .title::after {\r\n\t\t\tcontent: ' :';\r\n\t\t}\r\n\t`;\r\n}\r\n\r\nexport default SyncPublisherBrowserFolderView;\r\n","import {\r\n\tcss,\r\n\tcustomElement,\r\n\thtml,\r\n\tnothing,\r\n\tproperty,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { USyncItemFolder } from '../../api';\r\n\r\n@customElement('usync-publisher-browser-folder-path')\r\nexport class SyncPublisherBrowserFolderPath extends UmbLitElement {\r\n\t@property({ type: Object })\r\n\tfolder?: USyncItemFolder;\r\n\r\n\t#naviagate(key: string) {\r\n\t\tif (this.folder?.key == key) return;\r\n\r\n\t\tthis.dispatchEvent(\r\n\t\t\tnew CustomEvent<string>('navigate', { bubbles: true, composed: true, detail: key }),\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (!this.folder?.path) return nothing;\r\n\r\n\t\treturn html`<uui-breadcrumbs>\r\n\t\t\t${this.folder.path.map(\r\n\t\t\t\t(item) =>\r\n\t\t\t\t\thtml`<uui-breadcrumb-item\r\n\t\t\t\t\t\t.lastItem=${item.key == this.folder?.key}\r\n\t\t\t\t\t\t@click=${() => this.#naviagate(item.key)}\r\n\t\t\t\t\t\t>${item.name}</uui-breadcrumb-item\r\n\t\t\t\t\t>`,\r\n\t\t\t)}</uui-breadcrumbs\r\n\t\t>`;\r\n\t}\r\n\r\n\tstatic styles = css`\r\n\t\tuui-breadcrumbs {\r\n\t\t\tmargin: 15px 0;\r\n\t\t}\r\n\r\n\t\tuui-breadcrumb-item {\r\n\t\t\tcursor: pointer;\r\n\t\t}\r\n\t`;\r\n}\r\n\r\nexport default SyncPublisherBrowserFolderPath;\r\n","const context: UmbExtensionManifest = {\r\n\ttype: 'globalContext',\r\n\talias: 'usync.publisher.settings.context',\r\n\tname: 'usync publisher settings context',\r\n\tjs: () => import('./settings.context.js'),\r\n};\r\n\r\nexport const manifests = [context];\r\n","export const SYNC_PUBLISHER_SERVER_ROOT_ITEM_TYPE = 'sync-server-root';\r\nexport const SYNC_PUBLISHER_SERVER_ITEM_TYPE = 'sync-server-item';\r\n\r\nexport type SyncServerItemType = typeof SYNC_PUBLISHER_SERVER_ITEM_TYPE;\r\nexport type SyncServerRootItemType = typeof SYNC_PUBLISHER_SERVER_ROOT_ITEM_TYPE;\r\n","import {\r\n\tUmbTreeAncestorsOfRequestArgs,\r\n\tUmbTreeChildrenOfRequestArgs,\r\n\tUmbTreeRootItemsRequestArgs,\r\n\tUmbTreeServerDataSourceBase,\r\n} from '@umbraco-cms/backoffice/tree';\r\nimport { ServersService, SyncServerItemResponseModel } from '../../api';\r\nimport { SyncServerItemModel } from './types';\r\nimport { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport {\r\n\tSYNC_PUBLISHER_SERVER_ITEM_TYPE,\r\n\tSYNC_PUBLISHER_SERVER_ROOT_ITEM_TYPE,\r\n} from './entity';\r\n\r\nexport class SyncPublisherServerDataSource extends UmbTreeServerDataSourceBase<\r\n\tSyncServerItemResponseModel,\r\n\tSyncServerItemModel\r\n> {\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tsuper(host, { getRootItems, getChildrenOf, getAncestorsOf, mapper });\r\n\t}\r\n}\r\n\r\nconst getAncestorsOf = async (args: UmbTreeAncestorsOfRequestArgs) => {\r\n\treturn await ServersService.getAncestors({ query: { id: args.treeItem.unique } });\r\n};\r\n\r\nconst getRootItems = async (args: UmbTreeRootItemsRequestArgs) =>\r\n\tawait ServersService.root({ query: { skip: args.skip, take: args.take } });\r\n\r\nconst getChildrenOf = async (args: UmbTreeChildrenOfRequestArgs) => {\r\n\tif (args.parent?.unique === null) {\r\n\t\treturn await getRootItems(args);\r\n\t} else {\r\n\t\treturn await ServersService.getChildren({ query: { parent: args.parent.unique } });\r\n\t}\r\n};\r\n\r\nconst mapper = (item: SyncServerItemResponseModel): SyncServerItemModel => {\r\n\treturn {\r\n\t\tunique: item.id ?? '',\r\n\t\tparent: { unique: '', entityType: SYNC_PUBLISHER_SERVER_ROOT_ITEM_TYPE },\r\n\t\tname: item.name ?? 'unknown',\r\n\t\tentityType: SYNC_PUBLISHER_SERVER_ITEM_TYPE,\r\n\t\thasChildren: item.hasChildren,\r\n\t\tisFolder: false,\r\n\t\ticon: item.icon ?? 'icon-bug',\r\n\t};\r\n};\r\n","import { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\nimport { UmbControllerHostElement } from '@umbraco-cms/backoffice/controller-api';\r\nimport { UmbStoreConnector } from '@umbraco-cms/backoffice/store';\r\nimport { UmbUniqueTreeStore } from '@umbraco-cms/backoffice/tree';\r\nimport { SyncServerDetailModal, SyncServerItemModel } from './types';\r\n\r\nexport class SyncPublisherTreeStore extends UmbUniqueTreeStore {\r\n\tconstructor(host: UmbControllerHostElement) {\r\n\t\tsuper(host, SYNC_PUBLISHER_SERVER_TREE_STORE_CONTEXT.toString());\r\n\r\n\t\tnew UmbStoreConnector<SyncServerItemModel, SyncServerDetailModal>(host, {\r\n\t\t\tstore: this,\r\n\t\t\tconnectToStoreAlias: SYNC_PUBLISHER_SERVER_TREE_STORE_CONTEXT,\r\n\t\t\tupdateStoreItemMapper: (item) => this.#updateTreeItemMapper(item),\r\n\t\t});\r\n\t}\r\n\r\n\t#updateTreeItemMapper(model: SyncServerDetailModal) {\r\n\t\treturn {\r\n\t\t\tname: model.name,\r\n\t\t};\r\n\t}\r\n}\r\n\r\nexport const SYNC_PUBLISHER_SERVER_TREE_STORE_CONTEXT =\r\n\tnew UmbContextToken<SyncPublisherTreeStore>(SyncPublisherTreeStore.name);\r\n","import { UmbTreeRepositoryBase } from '@umbraco-cms/backoffice/tree';\r\nimport { SyncServerItemModel, SyncServerRootModel } from './types';\r\nimport { UmbApi } from '@umbraco-cms/backoffice/extension-api';\r\nimport { SyncPublisherServerDataSource } from './server-tree.data-source';\r\nimport { SYNC_PUBLISHER_SERVER_TREE_STORE_CONTEXT } from './server-tree.store';\r\nimport { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport { SYNC_PUBLISHER_SERVER_ROOT_ITEM_TYPE } from './entity';\r\n\r\nexport class SyncPublisherTreeRespository\r\n\textends UmbTreeRepositoryBase<SyncServerItemModel, SyncServerRootModel>\r\n\timplements UmbApi\r\n{\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tsuper(host, SyncPublisherServerDataSource, SYNC_PUBLISHER_SERVER_TREE_STORE_CONTEXT);\r\n\t}\r\n\r\n\tasync requestTreeRoot() {\r\n\t\tconst data: SyncServerRootModel = {\r\n\t\t\tunique: null,\r\n\t\t\tentityType: SYNC_PUBLISHER_SERVER_ROOT_ITEM_TYPE,\r\n\t\t\tname: '#usyncpublish_menuName',\r\n\t\t\thasChildren: true,\r\n\t\t\tisFolder: true,\r\n\t\t\ticon: 'icon-truck',\r\n\t\t};\r\n\r\n\t\treturn { data };\r\n\t}\r\n}\r\n","import { SyncPublisherTreeRespository } from './server-tree.repository';\r\nimport { SyncPublisherTreeStore } from './server-tree.store';\r\nimport {\r\n\tSYNC_PUBLISHER_SERVER_ITEM_TYPE,\r\n\tSYNC_PUBLISHER_SERVER_ROOT_ITEM_TYPE,\r\n} from './entity';\r\n\r\nconst repository: UmbExtensionManifest = {\r\n\ttype: 'repository',\r\n\talias: 'usync.publish.server.tree.repository',\r\n\tname: 'Publisher tree repository',\r\n\tapi: SyncPublisherTreeRespository,\r\n};\r\n\r\nconst store: UmbExtensionManifest = {\r\n\ttype: 'treeStore',\r\n\talias: 'usync.publish.server.tree.store',\r\n\tname: 'Publisher tree store',\r\n\tapi: SyncPublisherTreeStore,\r\n};\r\n\r\nconst tree: UmbExtensionManifest = {\r\n\ttype: 'tree',\r\n\tkind: 'default',\r\n\talias: 'usync.publisher.server.tree',\r\n\tname: 'Publisher tree',\r\n\tmeta: {\r\n\t\trepositoryAlias: repository.alias,\r\n\t},\r\n};\r\n\r\nconst treeItem: UmbExtensionManifest = {\r\n\ttype: 'treeItem',\r\n\tkind: 'default',\r\n\talias: 'sync.publisher.server.tree.rootitem',\r\n\tname: 'Publisher server tree root item',\r\n\tforEntityTypes: [SYNC_PUBLISHER_SERVER_ITEM_TYPE, SYNC_PUBLISHER_SERVER_ROOT_ITEM_TYPE],\r\n};\r\n\r\nconst menuItem: UmbExtensionManifest = {\r\n\ttype: 'menuItem',\r\n\tkind: 'tree',\r\n\talias: 'usync.publisher.server.tree.menuitem',\r\n\tname: 'Publisher server menu item',\r\n\tweight: -1,\r\n\tmeta: {\r\n\t\tlabel: 'usyncpublish_publisher',\r\n\t\ticon: 'icon-clock-alt',\r\n\t\tentityType: SYNC_PUBLISHER_SERVER_ITEM_TYPE,\r\n\t\tmenus: ['usync.menu'],\r\n\t\ttreeAlias: tree.alias,\r\n\t},\r\n};\r\n\r\nexport const manifests = [repository, store, tree, treeItem, menuItem];\r\n","export const USYNC_PUBLISHER_SERVER_WORKSPACE_ALIAS = 'usync.publisher.server.workspace';\r\nexport const USYNC_PUBLISHER_SERVER_ROOT_WORKSPACE_ALIAS =\r\n\t'usync.publisher.server.root.workspace';\r\n","export const USYNC_PUBLISHER_SERVER_ENTITY_TYPE = 'sync-server-item';\r\nexport const USYNC_PUBLISHER_SERVER_ROOT_ENTITY_TYPE = 'sync-server-root';\r\n\r\nexport type SyncServerEntityType = typeof USYNC_PUBLISHER_SERVER_ENTITY_TYPE;\r\nexport type SyncServerRootEntityType = typeof USYNC_PUBLISHER_SERVER_ROOT_ENTITY_TYPE;\r\n","import { USYNC_PUBLISHER_SERVER_WORKSPACE_ALIAS } from '../../_constants.js';\r\n\r\nconst _serverWorkspaceConditions = [\r\n\t{\r\n\t\talias: 'Umb.Condition.WorkspaceAlias',\r\n\t\tmatch: USYNC_PUBLISHER_SERVER_WORKSPACE_ALIAS,\r\n\t},\r\n];\r\n\r\nconst views: Array<UmbExtensionManifest> = [\r\n\t{\r\n\t\ttype: 'workspaceView',\r\n\t\talias: 'usync.publisher.server.workspace.view.default',\r\n\t\tname: 'Publisher default server view',\r\n\t\tjs: () => import('./server-item-default.element.js'),\r\n\t\tweight: 100,\r\n\t\tmeta: {\r\n\t\t\tlabel: '#usyncpublish_server',\r\n\t\t\tpathname: 'default',\r\n\t\t\ticon: 'icon-server',\r\n\t\t},\r\n\t\tconditions: _serverWorkspaceConditions,\r\n\t},\r\n\t{\r\n\t\ttype: 'workspaceView',\r\n\t\talias: 'usync.publisher.server.workspace.view.advanced',\r\n\t\tname: 'Publisher Advanced server view',\r\n\t\tjs: () => import('./server-item-advanced.element.js'),\r\n\t\tweight: 25,\r\n\t\tmeta: {\r\n\t\t\tlabel: '#usyncpublish_advanced',\r\n\t\t\tpathname: 'advanced',\r\n\t\t\ticon: 'icon-settings',\r\n\t\t},\r\n\t\tconditions: _serverWorkspaceConditions,\r\n\t},\r\n\t{\r\n\t\ttype: 'workspaceView',\r\n\t\talias: 'usync.publisher.server.workspace.view.permissions',\r\n\t\tname: 'Publisher server permissions view',\r\n\t\tjs: () => import('./server-item-permissions.element.js'),\r\n\t\tweight: 50,\r\n\t\tmeta: {\r\n\t\t\tlabel: '#usyncpublish_permissions',\r\n\t\t\tpathname: 'permissions',\r\n\t\t\ticon: 'icon-lock',\r\n\t\t},\r\n\t\tconditions: _serverWorkspaceConditions,\r\n\t},\r\n\t{\r\n\t\ttype: 'workspaceView',\r\n\t\talias: 'usync.publisher.server.workspace.view.sync',\r\n\t\tname: 'Publisher sync view',\r\n\t\tjs: () => import('./server-item-sync.element.js'),\r\n\t\tweight: 10,\r\n\t\tmeta: {\r\n\t\t\tlabel: '#usyncpublish_sync',\r\n\t\t\tpathname: 'sync',\r\n\t\t\ticon: 'icon-refresh',\r\n\t\t},\r\n\t\tconditions: _serverWorkspaceConditions,\r\n\t},\r\n];\r\n\r\nexport const manifests: UmbExtensionManifest[] = [...views];\r\n","import {\r\n\tUmbEditableWorkspaceContextBase,\r\n\tUmbSubmittableWorkspaceContext,\r\n} from '@umbraco-cms/backoffice/workspace';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\n\r\nimport { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport { UmbObjectState } from '@umbraco-cms/backoffice/observable-api';\r\nimport { SyncPublishServerView } from '../../../api';\r\nimport { USYNC_PUBLISHER_SERVER_WORKSPACE_ALIAS } from '../_constants';\r\nimport { USYNC_PUBLISHER_SERVER_ENTITY_TYPE } from '../../server/entity';\r\nimport { SyncPublisherServerSharedContext } from '../server-workspace-shared.context';\r\n\r\nexport class SyncPublisherServerWorkspaceContext\r\n\textends UmbEditableWorkspaceContextBase<SyncPublishServerView>\r\n\timplements UmbSubmittableWorkspaceContext\r\n{\r\n\t#sharedContext: SyncPublisherServerSharedContext | undefined;\r\n\t// #serverContext: SyncPublisherServersContext | undefined;\r\n\r\n\t#data = new UmbObjectState<SyncPublishServerView | undefined>(undefined);\r\n\treadonly data = this.#data.asObservable();\r\n\r\n\treadonly unique = this.#data.asObservablePart((data) => data?.id);\r\n\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tsuper(host, USYNC_PUBLISHER_SERVER_WORKSPACE_ALIAS);\r\n\r\n\t\tthis.provideContext(USYNC_PUBLISHER_SERVER_WORKSPACE_CONTEXT, this);\r\n\t\tthis.#sharedContext = new SyncPublisherServerSharedContext(host, undefined);\r\n\t}\r\n\r\n\tgetData(): SyncPublishServerView | undefined {\r\n\t\treturn this.#sharedContext?.getData();\r\n\t}\r\n\r\n\tgetUnique(): string | undefined {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\tgetEntityType(): string {\r\n\t\treturn USYNC_PUBLISHER_SERVER_ENTITY_TYPE;\r\n\t}\r\n\r\n\tasync submit() {\r\n\t\tthis.#sharedContext?.submit();\r\n\t}\r\n\r\n\tasync load(unique: string) {\r\n\t\tthis.#sharedContext?.load(unique);\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t\tsuper.destroy();\r\n\t}\r\n}\r\n\r\nexport default SyncPublisherServerWorkspaceContext;\r\n\r\nexport const USYNC_PUBLISHER_SERVER_WORKSPACE_CONTEXT =\r\n\tnew UmbContextToken<SyncPublisherServerWorkspaceContext>(\r\n\t\t'SyncPublisherServerWorkspaceContext',\r\n\t\tundefined,\r\n\t\t(context): context is SyncPublisherServerWorkspaceContext =>\r\n\t\t\tcontext.getEntityType?.() === 'sync-server-item',\r\n\t);\r\n","import {\r\n\tUmbSubmittableWorkspaceContext,\r\n\tUmbWorkspaceActionBase,\r\n} from '@umbraco-cms/backoffice/workspace';\r\nimport { USYNC_PUBLISHER_SERVER_WORKSPACE_CONTEXT } from '../server-workspace.context';\r\n\r\nexport class SyncPublisherSaveServerAction extends UmbWorkspaceActionBase<UmbSubmittableWorkspaceContext> {\r\n\tasync execute() {\r\n\t\tconst context = await this.getContext(USYNC_PUBLISHER_SERVER_WORKSPACE_CONTEXT);\r\n\t\tcontext?.submit();\r\n\t}\r\n}\r\n\r\nexport default SyncPublisherSaveServerAction;\r\n","import {\r\n\tUSYNC_PUBLISHER_SERVER_ENTITY_TYPE,\r\n\tUSYNC_PUBLISHER_SERVER_ROOT_ENTITY_TYPE,\r\n} from '../../../server/entity.js';\r\nimport SyncPublisherSaveServerAction from './save-action.js';\r\nimport { USYNC_PUBLISHER_SERVER_WORKSPACE_ALIAS } from '../../_constants.js';\r\n\r\nconst workspaceActions: Array<UmbExtensionManifest> = [\r\n\t{\r\n\t\ttype: 'workspaceAction',\r\n\t\tkind: 'default',\r\n\t\talias: 'usync.publisher.server.workspace.action.save',\r\n\t\tname: 'Save server',\r\n\t\tapi: SyncPublisherSaveServerAction,\r\n\t\tmeta: {\r\n\t\t\tlook: 'primary',\r\n\t\t\tcolor: 'positive',\r\n\t\t\tlabel: '#buttons_save',\r\n\t\t},\r\n\t\tconditions: [\r\n\t\t\t{\r\n\t\t\t\talias: 'Umb.Condition.WorkspaceAlias',\r\n\t\t\t\tmatch: USYNC_PUBLISHER_SERVER_WORKSPACE_ALIAS,\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n];\r\n\r\nconst entityActions: Array<UmbExtensionManifest> = [\r\n\t{\r\n\t\ttype: 'entityAction',\r\n\t\talias: 'usync.publish.server.delete',\r\n\t\tname: 'Delete action',\r\n\t\tapi: () => import('./delete-action.js'),\r\n\t\tforEntityTypes: [USYNC_PUBLISHER_SERVER_ENTITY_TYPE],\r\n\t\tweight: 10,\r\n\t\tmeta: {\r\n\t\t\ticon: 'icon-trash',\r\n\t\t\tlabel: '#general_delete',\r\n\t\t},\r\n\t},\r\n];\r\n\r\nconst coreEntityActions: Array<UmbExtensionManifest> = [\r\n\t{\r\n\t\ttype: 'entityAction',\r\n\t\tkind: 'reloadTreeItemChildren',\r\n\t\talias: 'usync.publish.server.reload',\r\n\t\tname: 'Reload servers list',\r\n\t\tforEntityTypes: [USYNC_PUBLISHER_SERVER_ROOT_ENTITY_TYPE],\r\n\t},\r\n];\r\n\r\nexport const manifests = [...workspaceActions, ...entityActions, ...coreEntityActions];\r\n","import { USYNC_PUBLISHER_SERVER_WORKSPACE_ALIAS } from '../_constants';\r\nimport { USYNC_PUBLISHER_SERVER_ENTITY_TYPE } from '../../server/entity';\r\n\r\nimport { manifests as itemViews } from './views/_manifests';\r\nimport { manifests as actionManifests } from './actions/_manifests.js';\r\n\r\nconst workspace: UmbExtensionManifest = {\r\n\ttype: 'workspace',\r\n\talias: USYNC_PUBLISHER_SERVER_WORKSPACE_ALIAS,\r\n\tname: 'publisher item workspace',\r\n\tjs: () => import('./server-item-workspace.element'),\r\n\tmeta: {\r\n\t\tentityType: USYNC_PUBLISHER_SERVER_ENTITY_TYPE,\r\n\t},\r\n};\r\n\r\nconst context: UmbExtensionManifest = {\r\n\ttype: 'workspaceContext',\r\n\talias: 'usync.publisher.server.workspace.context',\r\n\tname: 'Publisher workspace context',\r\n\tjs: () => import('./server-workspace.context'),\r\n\tconditions: [\r\n\t\t{\r\n\t\t\talias: 'Umb.Condition.WorkspaceAlias',\r\n\t\t\tmatch: USYNC_PUBLISHER_SERVER_WORKSPACE_ALIAS,\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport const manifests = [workspace, context, ...actionManifests, ...itemViews];\r\n","import {\r\n\tUmbSubmittableWorkspaceContext,\r\n\tUmbWorkspaceActionBase,\r\n} from '@umbraco-cms/backoffice/workspace';\r\nimport { USYNC_PUBLISHER_SERVER_CONTEXT } from '../../../servers.context';\r\n\r\nexport class SyncPublisherSyncAction extends UmbWorkspaceActionBase<UmbSubmittableWorkspaceContext> {\r\n\tasync execute() {\r\n\t\tconst serverContext = await this.getContext(USYNC_PUBLISHER_SERVER_CONTEXT);\r\n\t\tif (!serverContext) return;\r\n\r\n\t\tconst servers = await serverContext.getAllServers();\r\n\t\tconst aliases = servers?.map((server) => server.alias);\r\n\r\n\t\tawait serverContext.syncSettings(aliases ?? []);\r\n\t}\r\n}\r\n\r\nexport default SyncPublisherSyncAction;\r\n","import {\r\n\tUmbEditableWorkspaceContextBase,\r\n\tUmbSubmittableWorkspaceContext,\r\n} from '@umbraco-cms/backoffice/workspace';\r\nimport { USYNC_PUBLISHER_SERVER_ROOT_WORKSPACE_ALIAS } from '../_constants';\r\nimport { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\nimport { USYNC_PUBLISHER_SERVER_ROOT_ENTITY_TYPE } from '../../server/entity';\r\nimport { SyncPublishServerView } from '../../../api';\r\nimport { UmbObjectState } from '@umbraco-cms/backoffice/observable-api';\r\nimport { USYNC_PUBLISHER_SERVER_CONTEXT } from '../../servers.context';\r\nimport { uSyncPublisher } from '../../../constants';\r\nimport { SyncPublisherServerSharedContext } from '../server-workspace-shared.context';\r\n\r\nexport class SyncPublisherServerRootWorkspaceContext\r\n\textends UmbEditableWorkspaceContextBase<SyncPublishServerView>\r\n\timplements UmbSubmittableWorkspaceContext\r\n{\r\n\t#sharedContext: SyncPublisherServerSharedContext | undefined;\r\n\r\n\t#data = new UmbObjectState<SyncPublishServerView | undefined>(undefined);\r\n\treadonly data = this.#data.asObservable();\r\n\r\n\treadonly unique = this.#data.asObservablePart((data) => data?.id);\r\n\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tsuper(host, USYNC_PUBLISHER_SERVER_ROOT_WORKSPACE_ALIAS);\r\n\t\tthis.provideContext(USYNC_PUBLISHER_SERVER_ROOT_WORKSPACE_CONTEXT, this);\r\n\r\n\t\tthis.#sharedContext = new SyncPublisherServerSharedContext(\r\n\t\t\thost,\r\n\t\t\tuSyncPublisher.emptyGuid,\r\n\t\t);\r\n\r\n\t\tthis.consumeContext(USYNC_PUBLISHER_SERVER_CONTEXT, async (context) => {\r\n\t\t\tif (context != undefined) {\r\n\t\t\t\tawait this.load();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tgetEntityType(): string {\r\n\t\treturn USYNC_PUBLISHER_SERVER_ROOT_ENTITY_TYPE;\r\n\t}\r\n\r\n\tgetUnique() {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\tgetData() {\r\n\t\treturn this.#sharedContext?.getData();\r\n\t}\r\n\r\n\tasync submit() {\r\n\t\tawait this.#sharedContext?.submit();\r\n\t\tthis.load();\r\n\t}\r\n\r\n\tasync load() {\r\n\t\tawait this.#sharedContext?.load(uSyncPublisher.emptyGuid);\r\n\t}\r\n}\r\n\r\nexport default SyncPublisherServerRootWorkspaceContext;\r\n\r\nexport const USYNC_PUBLISHER_SERVER_ROOT_WORKSPACE_CONTEXT =\r\n\tnew UmbContextToken<SyncPublisherServerRootWorkspaceContext>(\r\n\t\t'SyncPublisherServerRootWorkspaceContext',\r\n\t\tundefined,\r\n\t\t(context): context is SyncPublisherServerRootWorkspaceContext =>\r\n\t\t\tcontext.getEntityType() === USYNC_PUBLISHER_SERVER_ROOT_ENTITY_TYPE,\r\n\t);\r\n","import {\r\n\tUmbSubmittableWorkspaceContext,\r\n\tUmbWorkspaceActionBase,\r\n} from '@umbraco-cms/backoffice/workspace';\r\nimport { USYNC_PUBLISHER_SERVER_ROOT_WORKSPACE_CONTEXT } from '../server-root-workspace.context';\r\n\r\nexport class SyncPublisherRootSaveAction extends UmbWorkspaceActionBase<UmbSubmittableWorkspaceContext> {\r\n\tasync execute() {\r\n\t\tconst context = await this.getContext(USYNC_PUBLISHER_SERVER_ROOT_WORKSPACE_CONTEXT);\r\n\t\tawait context?.submit();\r\n\t}\r\n}\r\n\r\nexport default SyncPublisherRootSaveAction;\r\n","import { SyncPublisherSyncAction } from './sync-action';\r\nimport { USYNC_PUBLISHER_SERVER_ROOT_WORKSPACE_ALIAS } from '../../_constants';\r\nimport SyncPublisherRootSaveAction from './save-action';\r\n\r\nconst actions: Array<UmbExtensionManifest> = [\r\n\t{\r\n\t\ttype: 'workspaceAction',\r\n\t\tkind: 'default',\r\n\t\talias: 'usync.publisher.server.root.workspace.action.save',\r\n\t\tname: 'Save',\r\n\t\tapi: SyncPublisherRootSaveAction,\r\n\t\tweight: 10,\r\n\t\tmeta: {\r\n\t\t\tlook: 'primary',\r\n\t\t\tcolor: 'positive',\r\n\t\t\tlabel: 'Save settings',\r\n\t\t},\r\n\t\tconditions: [\r\n\t\t\t{\r\n\t\t\t\talias: 'Umb.Condition.WorkspaceAlias',\r\n\t\t\t\tmatch: USYNC_PUBLISHER_SERVER_ROOT_WORKSPACE_ALIAS,\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\ttype: 'workspaceAction',\r\n\t\tkind: 'default',\r\n\t\talias: 'usync.publisher.server.workspace.action.sync',\r\n\t\tname: 'Sync servers',\r\n\t\tapi: SyncPublisherSyncAction,\r\n\t\tweight: 20,\r\n\t\tmeta: {\r\n\t\t\tlook: 'default',\r\n\t\t\tcolor: 'default',\r\n\t\t\tlabel: 'Sync servers',\r\n\t\t},\r\n\t\tconditions: [\r\n\t\t\t{\r\n\t\t\t\talias: 'Umb.Condition.WorkspaceAlias',\r\n\t\t\t\tmatch: USYNC_PUBLISHER_SERVER_ROOT_WORKSPACE_ALIAS,\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n];\r\n\r\nexport const manifests: UmbExtensionManifest[] = [...actions];\r\n","import { USYNC_PUBLISHER_SERVER_ROOT_WORKSPACE_ALIAS } from '../../_constants';\r\n\r\nconst _rootWorkspaceConditions = [\r\n\t{\r\n\t\talias: 'Umb.Condition.WorkspaceAlias',\r\n\t\tmatch: USYNC_PUBLISHER_SERVER_ROOT_WORKSPACE_ALIAS,\r\n\t},\r\n];\r\n\r\nconst views: Array<UmbExtensionManifest> = [\r\n\t{\r\n\t\ttype: 'workspaceView',\r\n\t\talias: 'usync.publisher.server.root.workspace.view.default',\r\n\t\tname: 'Publisher default server root view',\r\n\t\tjs: () => import('./server-root-default.element'),\r\n\t\tweight: 100,\r\n\t\tmeta: {\r\n\t\t\tlabel: '#usyncpublish_servers',\r\n\t\t\tpathname: 'root',\r\n\t\t\ticon: 'icon-server',\r\n\t\t},\r\n\t\tconditions: _rootWorkspaceConditions,\r\n\t},\r\n\t{\r\n\t\ttype: 'workspaceView',\r\n\t\talias: 'usync.publisher.server.root.workspace.view.settings',\r\n\t\tname: 'Publisher server settings view',\r\n\t\tjs: () => import('./server-root-settings.element'),\r\n\t\tweight: 90,\r\n\t\tmeta: {\r\n\t\t\tlabel: '#usyncpublish_defaults',\r\n\t\t\tpathname: 'settings',\r\n\t\t\ticon: 'icon-list',\r\n\t\t},\r\n\t\tconditions: _rootWorkspaceConditions,\r\n\t},\r\n\t{\r\n\t\ttype: 'workspaceView',\r\n\t\talias: 'usync.publisher.server.root.workspace.view.advanced',\r\n\t\tname: 'Publisher Advanced server view',\r\n\t\tjs: () => import('../../server-item/views/server-item-advanced.element.js'),\r\n\t\tweight: 25,\r\n\t\tmeta: {\r\n\t\t\tlabel: '#usyncpublish_advanced',\r\n\t\t\tpathname: 'advanced',\r\n\t\t\ticon: 'icon-settings',\r\n\t\t},\r\n\t\tconditions: _rootWorkspaceConditions,\r\n\t},\r\n\t{\r\n\t\ttype: 'workspaceView',\r\n\t\talias: 'usync.publisher.server.root.workspace.view.permissions',\r\n\t\tname: 'Publisher server permissions view',\r\n\t\tjs: () => import('../../server-item/views/server-item-permissions.element.js'),\r\n\t\tweight: 50,\r\n\t\tmeta: {\r\n\t\t\tlabel: '#usyncpublish_permissions',\r\n\t\t\tpathname: 'permissions',\r\n\t\t\ticon: 'icon-lock',\r\n\t\t},\r\n\t\tconditions: _rootWorkspaceConditions,\r\n\t},\r\n\t{\r\n\t\ttype: 'workspaceView',\r\n\t\talias: 'usync.publisher.server.root.workspace.seed',\r\n\t\tname: 'uSync server seed view',\r\n\t\tjs: () => import('./server-seed.element'),\r\n\t\tweight: 0,\r\n\t\tmeta: {\r\n\t\t\tlabel: '#usyncpublish_seed',\r\n\t\t\tpathname: 'seed',\r\n\t\t\ticon: 'icon-sprout color-green',\r\n\t\t},\r\n\t\tconditions: [\r\n\t\t\t..._rootWorkspaceConditions,\r\n\t\t\t{\r\n\t\t\t\talias: 'usync.publisher.query.condition',\r\n\t\t\t\tquery: 'seed',\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n];\r\n\r\nexport const manifests: UmbExtensionManifest[] = [...views];\r\n","import { USYNC_PUBLISHER_SERVER_ROOT_WORKSPACE_ALIAS } from '../_constants';\r\nimport { USYNC_PUBLISHER_SERVER_ROOT_ENTITY_TYPE } from '../../server/entity';\r\n\r\nimport { manifests as actions } from './actions/_manifest';\r\nimport { manifests as rootViews } from './views/_manifests';\r\n\r\nconst workspace: UmbExtensionManifest = {\r\n\ttype: 'workspace',\r\n\talias: USYNC_PUBLISHER_SERVER_ROOT_WORKSPACE_ALIAS,\r\n\tname: 'publisher root workspace',\r\n\tjs: () => import('./server-root-workspace.element'),\r\n\tmeta: {\r\n\t\tentityType: USYNC_PUBLISHER_SERVER_ROOT_ENTITY_TYPE,\r\n\t},\r\n};\r\n\r\nconst context: UmbExtensionManifest = {\r\n\ttype: 'workspaceContext',\r\n\talias: 'usync.publisher.server.root.workspace.context',\r\n\tname: 'publisher root workspace',\r\n\tjs: () => import('./server-root-workspace.context'),\r\n\tconditions: [\r\n\t\t{\r\n\t\t\talias: 'Umb.Condition.WorkspaceAlias',\r\n\t\t\tmatch: USYNC_PUBLISHER_SERVER_ROOT_WORKSPACE_ALIAS,\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport const manifests = [context, workspace, ...actions, ...rootViews];\r\n","import { manifests as itemWorkspaceManifests } from './server-item/_manifest.js';\r\nimport { manifests as rootWorkspaceCoontext } from './server-root/_manifest.js';\r\n\r\nexport const manifests = [...itemWorkspaceManifests, ...rootWorkspaceCoontext];\r\n","import { USYNC_PUBLISHER_CONNECTED_SERVER_MODEL_ALIAS } from '../_constants';\r\n\r\n/**\r\n * @name ConnectedServerModal\r\n * @description modal that lets user add a connected server.\r\n */\r\nconst modal: UmbExtensionManifest = {\r\n\ttype: 'modal',\r\n\talias: USYNC_PUBLISHER_CONNECTED_SERVER_MODEL_ALIAS,\r\n\tname: 'Connected servers modal',\r\n\tjs: () => import('./connected-server-modal.element'),\r\n};\r\n\r\nexport const manifests = [modal];\r\n","import {\r\n\tUSYNC_PUBLISHER_ADD_SERVER_MODAL_ALIAS,\r\n\tUSYNC_PUBLISHER_GENERATE_KEY_MODAL_ALIAS,\r\n} from '../_constants.js';\r\n\r\n/**\r\n * @name addServerModal\r\n * @description modal that lets us add a server to uSync.publisher\r\n */\r\nconst addServerModal: UmbExtensionManifest = {\r\n\ttype: 'modal',\r\n\talias: USYNC_PUBLISHER_ADD_SERVER_MODAL_ALIAS,\r\n\tname: 'add server modal',\r\n\tjs: () => import('./add-server.modal-element.js'),\r\n};\r\n\r\nconst generateKeyModal: UmbExtensionManifest = {\r\n\ttype: 'modal',\r\n\talias: USYNC_PUBLISHER_GENERATE_KEY_MODAL_ALIAS,\r\n\tname: 'generate key modal',\r\n\tjs: () => import('./generate-key.modal-element.js'),\r\n};\r\n\r\nexport const manifests = [addServerModal, generateKeyModal];\r\n","const configManfests: UmbExtensionManifest[] = [\r\n\t{\r\n\t\ttype: 'usync-publisher-config',\r\n\t\talias: 'usync-publisher-realtime-config',\r\n\t\tname: 'realtime-config',\r\n\t\tweight: 100,\r\n\t\tjs: () => import('./realtime/realtime-config.element'),\r\n\t\telementName: 'usync-publisher-realtime-config',\r\n\t},\r\n];\r\n\r\nexport const manifests: UmbExtensionManifest[] = [...configManfests];\r\n","import { manifests as treeManifests } from './tree/manifest.js';\r\nimport { manifests as workspaceManifests } from './workspace/_manifest.js';\r\nimport { manifests as pickerManifests } from './pickers/manifest.js';\r\nimport { manifests as modalManifests } from './modals/manifest.js';\r\nimport { manifests as publisherConfigManifests } from './publishers/manifest.js';\r\n\r\nimport './pickers/index.js';\r\nimport './components/index.js';\r\n\r\n/**\r\n * global context for publisher servers\r\n * @abstract the servers context is global because we use it\r\n *           all over umbraco, when we want to start push/pulls.\r\n */\r\nconst context: UmbExtensionManifest = {\r\n\ttype: 'globalContext',\r\n\talias: 'usync.publisher.servers.context',\r\n\tname: 'usync publisher servers context',\r\n\tjs: () => import('./servers.context.js'),\r\n};\r\n\r\nexport const manifests = [\r\n\tcontext,\r\n\t...modalManifests,\r\n\t...treeManifests,\r\n\t...workspaceManifests,\r\n\t...pickerManifests,\r\n\t...publisherConfigManifests,\r\n];\r\n","export const USYNC_USER_PERMISSION_PUSH = 'uSync.UserPermission.Push';\r\nexport const USYNC_USER_PERMISSION_PULL = 'uSync.UserPermission.Pull';\r\nexport const USYNC_USER_PERMISSION_BROWSE = 'uSync.UserPermission.Browse';\r\n","import { UmbExtensionManifestKind } from '@umbraco-cms/backoffice/extension-registry';\r\nimport { PublishMode } from '../api/types.gen.js';\r\nimport { USYNC_USER_PERMISSION_PUSH } from '../permissions/constants.js';\r\nimport { UmbConditionConfigBase } from '@umbraco-cms/backoffice/extension-api';\r\nimport { UMB_ENTITY_ACTION_DEFAULT_KIND_MANIFEST } from '@umbraco-cms/backoffice/entity-action';\r\n\r\nconst pushKind: UmbExtensionManifestKind = {\r\n\ttype: 'kind',\r\n\talias: 'usync.publisher.push.kind',\r\n\tmatchType: 'entityAction',\r\n\tmatchKind: 'publisher-push',\r\n\tmanifest: {\r\n\t\t...UMB_ENTITY_ACTION_DEFAULT_KIND_MANIFEST.manifest,\r\n\t\ttype: 'entityAction',\r\n\t\tkind: 'default',\r\n\t\tapi: () => import('./push.action.ts'),\r\n\t\tweight: 21,\r\n\t\tmeta: {\r\n\t\t\ticon: 'icon-arrow-right',\r\n\t\t\tlabel: '#usyncpublish_pushItems',\r\n\t\t},\r\n\t\tconditions: [\r\n\t\t\t{\r\n\t\t\t\talias: 'usync.publisher.push.condition',\r\n\t\t\t\tmode: PublishMode.PUSH,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\talias: 'Umb.Condition.UserPermission.Document',\r\n\t\t\t\tallOf: [USYNC_USER_PERMISSION_PUSH],\r\n\t\t\t} as UmbConditionConfigBase,\r\n\t\t],\r\n\t},\r\n};\r\n\r\nconst pullKind: UmbExtensionManifestKind = {\r\n\ttype: 'kind',\r\n\talias: 'usync.publisher.pull.kind',\r\n\tmatchType: 'entityAction',\r\n\tmatchKind: 'publisher-pull',\r\n\tmanifest: {\r\n\t\t...UMB_ENTITY_ACTION_DEFAULT_KIND_MANIFEST.manifest,\r\n\t\ttype: 'entityAction',\r\n\t\tkind: 'default',\r\n\t\tweight: 20,\r\n\t\tmeta: {\r\n\t\t\ticon: 'icon-arrow-left',\r\n\t\t\tlabel: '#usyncpublish_pullItems',\r\n\t\t},\r\n\t\tconditions: [\r\n\t\t\t{\r\n\t\t\t\talias: 'usync.publisher.push.condition',\r\n\t\t\t\tmode: PublishMode.PULL,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\talias: 'Umb.Condition.UserPermission.Document',\r\n\t\t\t\tallOf: [USYNC_USER_PERMISSION_PUSH],\r\n\t\t\t} as UmbConditionConfigBase,\r\n\t\t],\r\n\t\tapi: () => import('./pull.action.ts'),\r\n\t},\r\n};\r\n\r\nexport const manifests: Array<UmbExtensionManifest | UmbExtensionManifestKind> = [\r\n\tpushKind,\r\n\tpullKind,\r\n];\r\n","import {\r\n\tUMB_DOCUMENT_ENTITY_TYPE,\r\n\tUMB_DOCUMENT_ROOT_ENTITY_TYPE,\r\n\tUMB_USER_PERMISSION_DOCUMENT_PUBLISH,\r\n} from '@umbraco-cms/backoffice/document';\r\nimport {\r\n\tUMB_MEDIA_ENTITY_TYPE,\r\n\tUMB_MEDIA_ROOT_ENTITY_TYPE,\r\n} from '@umbraco-cms/backoffice/media';\r\nimport {\r\n\tUMB_TEMPLATE_ENTITY_TYPE,\r\n\tUMB_TEMPLATE_ROOT_ENTITY_TYPE,\r\n} from '@umbraco-cms/backoffice/template';\r\n\r\nimport {\r\n\tUMB_DATA_TYPE_ENTITY_TYPE,\r\n\tUMB_DATA_TYPE_FOLDER_ENTITY_TYPE,\r\n\tUMB_DATA_TYPE_ROOT_ENTITY_TYPE,\r\n} from '@umbraco-cms/backoffice/data-type';\r\n\r\nimport {\r\n\tUMB_DOCUMENT_TYPE_ENTITY_TYPE,\r\n\tUMB_DOCUMENT_TYPE_FOLDER_ENTITY_TYPE,\r\n\tUMB_DOCUMENT_TYPE_ROOT_ENTITY_TYPE,\r\n} from '@umbraco-cms/backoffice/document-type';\r\nimport {\r\n\tUMB_MEDIA_TYPE_ENTITY_TYPE,\r\n\tUMB_MEDIA_TYPE_ROOT_ENTITY_TYPE,\r\n} from '@umbraco-cms/backoffice/media-type';\r\nimport {\r\n\tUMB_MEMBER_TYPE_ENTITY_TYPE,\r\n\tUMB_MEMBER_TYPE_ROOT_ENTITY_TYPE,\r\n} from '@umbraco-cms/backoffice/member-type';\r\nimport {\r\n\tUMB_STATIC_FILE_ENTITY_TYPE,\r\n\tUMB_STATIC_FILE_FOLDER_ENTITY_TYPE,\r\n\tUMB_STATIC_FILE_ROOT_ENTITY_TYPE,\r\n} from '@umbraco-cms/backoffice/static-file';\r\n\r\nimport {\r\n\tUMB_PARTIAL_VIEW_ENTITY_TYPE,\r\n\t//\tUMB_PARTIAL_VIEW_FOLDER_ENTITY_TYPE,\r\n\tUMB_PARTIAL_VIEW_ROOT_ENTITY_TYPE,\r\n} from '@umbraco-cms/backoffice/partial-view';\r\n\r\nimport {\r\n\tUMB_STYLESHEET_ENTITY_TYPE,\r\n\t//\tUMB_STYLESHEET_FOLDER_ENTITY_TYPE,\r\n\tUMB_STYLESHEET_ROOT_ENTITY_TYPE,\r\n} from '@umbraco-cms/backoffice/stylesheet';\r\n\r\nimport {\r\n\tUMB_DICTIONARY_ENTITY_TYPE,\r\n\tUMB_DICTIONARY_ROOT_ENTITY_TYPE,\r\n} from '@umbraco-cms/backoffice/dictionary';\r\nimport { UMB_ENTITY_IS_NOT_TRASHED_CONDITION_ALIAS } from '@umbraco-cms/backoffice/recycle-bin';\r\nimport { PublishMode } from '../api/types.gen.ts';\r\nimport { USYNC_USER_PERMISSION_PUSH } from '../permissions/constants.ts';\r\nimport { UmbConditionConfigBase } from '@umbraco-cms/backoffice/extension-api';\r\nimport {\r\n\tUMB_DOCUMENT_BLUEPRINT_ENTITY_TYPE,\r\n\tUMB_DOCUMENT_BLUEPRINT_FOLDER_ENTITY_TYPE,\r\n\tUMB_DOCUMENT_BLUEPRINT_ROOT_ENTITY_TYPE,\r\n} from '@umbraco-cms/backoffice/document-blueprint';\r\n\r\nimport { manifests as kindManifests } from './kinds.js';\r\nimport {\r\n\tUMB_SCRIPT_ENTITY_TYPE,\r\n\t//\tUMB_SCRIPT_FOLDER_ENTITY_TYPE,\r\n\tUMB_SCRIPT_ROOT_ENTITY_TYPE,\r\n} from '@umbraco-cms/backoffice/script';\r\n\r\nconst actionTypes = [\r\n\tUMB_DOCUMENT_ROOT_ENTITY_TYPE,\r\n\tUMB_DOCUMENT_ENTITY_TYPE,\r\n\tUMB_MEDIA_ROOT_ENTITY_TYPE,\r\n\tUMB_MEDIA_ENTITY_TYPE,\r\n\tUMB_DOCUMENT_TYPE_ENTITY_TYPE,\r\n\tUMB_DOCUMENT_TYPE_ROOT_ENTITY_TYPE,\r\n\tUMB_DOCUMENT_TYPE_FOLDER_ENTITY_TYPE,\r\n\tUMB_MEDIA_TYPE_ENTITY_TYPE,\r\n\tUMB_MEDIA_TYPE_ROOT_ENTITY_TYPE,\r\n\tUMB_MEMBER_TYPE_ENTITY_TYPE,\r\n\tUMB_MEMBER_TYPE_ROOT_ENTITY_TYPE,\r\n\tUMB_TEMPLATE_ENTITY_TYPE,\r\n\tUMB_TEMPLATE_ROOT_ENTITY_TYPE,\r\n\tUMB_DATA_TYPE_ENTITY_TYPE,\r\n\tUMB_DATA_TYPE_ROOT_ENTITY_TYPE,\r\n\tUMB_DATA_TYPE_FOLDER_ENTITY_TYPE,\r\n\tUMB_STATIC_FILE_ENTITY_TYPE,\r\n\tUMB_STATIC_FILE_FOLDER_ENTITY_TYPE,\r\n\tUMB_STATIC_FILE_ROOT_ENTITY_TYPE,\r\n\tUMB_PARTIAL_VIEW_ENTITY_TYPE,\r\n\tUMB_PARTIAL_VIEW_ROOT_ENTITY_TYPE,\r\n\tUMB_STYLESHEET_ROOT_ENTITY_TYPE,\r\n\tUMB_STYLESHEET_ENTITY_TYPE,\r\n\tUMB_DICTIONARY_ROOT_ENTITY_TYPE,\r\n\tUMB_DICTIONARY_ENTITY_TYPE,\r\n\tUMB_DOCUMENT_BLUEPRINT_ROOT_ENTITY_TYPE,\r\n\tUMB_DOCUMENT_BLUEPRINT_ENTITY_TYPE,\r\n\tUMB_DOCUMENT_BLUEPRINT_FOLDER_ENTITY_TYPE,\r\n\tUMB_SCRIPT_ROOT_ENTITY_TYPE,\r\n\tUMB_SCRIPT_ENTITY_TYPE,\r\n\t// these folder are not supported because there is no internal UDI type for them\r\n\t// UMB_PARTIAL_VIEW_FOLDER_ENTITY_TYPE,\r\n\t// UMB_STYLESHEET_FOLDER_ENTITY_TYPE,\r\n\t// UMB_SCRIPT_FOLDER_ENTITY_TYPE,\r\n];\r\n\r\nconst actions: Array<UmbExtensionManifest> = [\r\n\t{\r\n\t\ttype: 'entityAction',\r\n\t\tkind: 'publisher-push',\r\n\t\tname: 'Push action',\r\n\t\talias: 'usync.publisher.action.push',\r\n\t\tforEntityTypes: actionTypes,\r\n\t},\r\n\t{\r\n\t\ttype: 'entityAction',\r\n\t\tkind: 'publisher-pull',\r\n\t\tname: 'Pull action',\r\n\t\talias: 'usync.publisher.action.pull',\r\n\t\tforEntityTypes: actionTypes,\r\n\t},\r\n];\r\n\r\nconst entityActions: UmbExtensionManifest[] = [\r\n\t{\r\n\t\ttype: 'workspaceActionMenuItem',\r\n\t\tkind: 'default',\r\n\t\talias: 'usync.publish.push.entity.action',\r\n\t\tname: 'Workspace push action',\r\n\t\tweight: -10,\r\n\t\tforWorkspaceActions: 'Umb.WorkspaceAction.Document.SaveAndPublish',\r\n\t\tapi: () => import('./push.workspace-action.js'),\r\n\t\tmeta: {\r\n\t\t\ticon: 'icon-arrow-right',\r\n\t\t\tlabel: '#usyncpublish_publishAction',\r\n\t\t},\r\n\t\tconditions: [\r\n\t\t\t{\r\n\t\t\t\talias: 'Umb.Condition.UserPermission.Document',\r\n\t\t\t\tallOf: [UMB_USER_PERMISSION_DOCUMENT_PUBLISH, USYNC_USER_PERMISSION_PUSH],\r\n\t\t\t} as UmbConditionConfigBase,\r\n\t\t\t{\r\n\t\t\t\talias: UMB_ENTITY_IS_NOT_TRASHED_CONDITION_ALIAS,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\talias: 'usync.publisher.push.condition',\r\n\t\t\t\tmode: PublishMode.PUSH,\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n];\r\n\r\nexport const manifests = [...kindManifests, ...actions, ...entityActions];\r\n","import { USYNC_USER_PERMISSION_BROWSE } from '../permissions/constants';\r\nimport { uSyncDashboardPersmissionConditionConfig } from '../conditions/usync-dashboard-permission.condition';\r\n\r\nconst dashboards: UmbExtensionManifest[] = [\r\n\t{\r\n\t\ttype: 'dashboard',\r\n\t\talias: 'usync.publisher.content.browser.dashboard',\r\n\t\tname: 'content browser dashboard',\r\n\t\tjs: () => import('./dashboard/content-browser-dashboard.element'),\r\n\t\tweight: -20,\r\n\t\tmeta: {\r\n\t\t\tlabel: '#usyncpublish_contentBrowser',\r\n\t\t\tpathname: 'usync-content',\r\n\t\t},\r\n\t\tconditions: [\r\n\t\t\t{\r\n\t\t\t\talias: 'Umb.Condition.SectionAlias',\r\n\t\t\t\tmatch: 'Umb.Section.Content',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\talias: 'usync.publisher.user.dashboard.condition',\r\n\t\t\t\tallOf: [USYNC_USER_PERMISSION_BROWSE],\r\n\t\t\t} as uSyncDashboardPersmissionConditionConfig,\r\n\t\t],\r\n\t},\r\n\t// TODO: media dashboards are not quite right in v14 yet. (putting a dashboard in media section looses the default one)\r\n\t// {\r\n\t// \ttype: 'dashboard',\r\n\t// \talias: 'usync.publisher.media.browser.dashboard',\r\n\t// \tname: 'media browser dashboard',\r\n\t// \tjs: () => import('./dashboard/content-browser-dashboard.element'),\r\n\t// \tweight: -20,\r\n\t// \tmeta: {\r\n\t// \t\tlabel: '#us',\r\n\t// \t\tpathname: 'usync-media',\r\n\t// \t},\r\n\t// \tconditions: [\r\n\t// \t\t{\r\n\t// \t\t\talias: 'Umb.Condition.SectionAlias',\r\n\t// \t\t\tmatch: 'Umb.Section.Media',\r\n\t// \t\t},\r\n\t// \t],\r\n\t// },\r\n];\r\n\r\nexport const manifests: UmbExtensionManifest[] = [...dashboards];\r\n","import { USYNC_PUBLISHER_DETAILS_MODAL_ALIAS } from './entities';\r\n\r\nconst changeModal: UmbExtensionManifest = {\r\n\ttype: 'modal',\r\n\talias: USYNC_PUBLISHER_DETAILS_MODAL_ALIAS,\r\n\tname: 'uSync change details modal',\r\n\tjs: () => import('./details.modal.element'),\r\n};\r\n\r\nexport const manifests = [changeModal];\r\n","import { UmbModalToken } from '@umbraco-cms/backoffice/modal';\r\nimport { PublishMode, SyncPublishServerView, UdiModel } from '../../api';\r\n\r\nexport type SyncPublisherProcessData = {\r\n\titems: UdiModel[] | undefined;\r\n\tentityType: string | null;\r\n\taction: string | null;\r\n\tmode: PublishMode;\r\n\tserver?: SyncPublishServerView | null | undefined;\r\n};\r\n\r\nexport type SyncPublisherProcessResults = {\r\n\tsuccess: boolean;\r\n};\r\n\r\nexport const USYNC_PUBLISHER_PROCESS_MODAL_ALIAS = 'usync-publisher-process-modal';\r\n\r\nexport const USYNC_PUBLISHER_PROCESS_MODAL = new UmbModalToken<\r\n\tSyncPublisherProcessData,\r\n\tSyncPublisherProcessResults\r\n>(USYNC_PUBLISHER_PROCESS_MODAL_ALIAS, {\r\n\tmodal: {\r\n\t\ttype: 'sidebar',\r\n\t\tsize: 'small',\r\n\t},\r\n});\r\n","import { USYNC_PUBLISHER_PROCESS_MODAL_ALIAS } from './process-modal.token';\r\n\r\nconst processingModals: UmbExtensionManifest[] = [\r\n\t{\r\n\t\ttype: 'modal',\r\n\t\talias: USYNC_PUBLISHER_PROCESS_MODAL_ALIAS,\r\n\t\tname: 'usync-publisher-process-modal',\r\n\t\tjs: () => import('./process-modal.element'),\r\n\t},\r\n];\r\n\r\nexport const manifests: UmbExtensionManifest[] = [...processingModals];\r\n","export const SyncPublisherStratey = {\r\n\tpipelines: {\r\n\t\tpublish: 'PublisherPipeline',\r\n\t},\r\n\r\n\tstrategies: {\r\n\t\trealtimePush: 'RealtimePushStrategy',\r\n\t\trealtimePull: 'RealtimePullStrategy',\r\n\t\trealtimeSettingsPush: 'RealtimeSettingsPushStrategy',\r\n\t\trealtimeSettingsPull: 'RealtimeSettingsPullStrategy',\r\n\t},\r\n\r\n\telements: {\r\n\t\tserverConfig: 'usync-publish-realtime-config',\r\n\t\tlanguage: 'usync-publish-lang-step',\r\n\t\treport: 'usync-publish-report-step',\r\n\t\tresult: 'usync-publish-result-step',\r\n\t\tconfig: 'usync-publish-config-step',\r\n\t\tbackground: 'usync-publish-background-step',\r\n\t\tbackgroundScheduled: 'usync-publish-background-scheduled-step',\r\n\t\tbackgroundCompleted: 'usync-publish-background-completed-step',\r\n\t},\r\n};\r\n","import { SyncPublisherStratey } from '../constants';\r\n\r\nconst commonStepsManifest: UmbExtensionManifest[] = [\r\n\t{\r\n\t\ttype: 'jumoo-process-step',\r\n\t\talias: SyncPublisherStratey.elements.config,\r\n\t\tname: 'push-config',\r\n\t\tweight: 100,\r\n\t\tjs: () => import('./config-step.element'),\r\n\t\telementName: SyncPublisherStratey.elements.config,\r\n\t},\r\n\t{\r\n\t\ttype: 'jumoo-process-step',\r\n\t\talias: SyncPublisherStratey.elements.language,\r\n\t\tname: 'push-language',\r\n\t\tweight: 200,\r\n\t\tjs: () => import('./lang-step.element'),\r\n\t\telementName: SyncPublisherStratey.elements.language,\r\n\t},\r\n\t{\r\n\t\ttype: 'jumoo-process-step',\r\n\t\talias: SyncPublisherStratey.elements.report,\r\n\t\tname: 'report',\r\n\t\tweight: 300,\r\n\t\tjs: () => import('./report-step.element'),\r\n\t\telementName: SyncPublisherStratey.elements.report,\r\n\t},\r\n\t{\r\n\t\ttype: 'jumoo-process-step',\r\n\t\talias: SyncPublisherStratey.elements.result,\r\n\t\tname: 'result',\r\n\t\tweight: 400,\r\n\t\tjs: () => import('./result-step.element'),\r\n\t\telementName: SyncPublisherStratey.elements.result,\r\n\t},\r\n\t{\r\n\t\ttype: 'jumoo-process-step',\r\n\t\talias: SyncPublisherStratey.elements.backgroundCompleted,\r\n\t\tname: 'background',\r\n\t\tweight: 500,\r\n\t\tjs: () => import('./background-completed-step.element'),\r\n\t\telementName: SyncPublisherStratey.elements.backgroundCompleted,\r\n\t},\r\n\t{\r\n\t\ttype: 'jumoo-process-step',\r\n\t\talias: SyncPublisherStratey.elements.backgroundScheduled,\r\n\t\tname: 'background-scheduled',\r\n\t\tweight: 600,\r\n\t\tjs: () => import('./background-scheduled-step.element'),\r\n\t\telementName: SyncPublisherStratey.elements.backgroundScheduled,\r\n\t},\r\n];\r\n\r\nexport const manifests: UmbExtensionManifest[] = [...commonStepsManifest];\r\n","import { manifests as modals } from './modal/manifest';\r\nimport { manifests as commonSteps } from './common/manifest';\r\n\r\nconst strategyContext: UmbExtensionManifest = {\r\n\ttype: 'globalContext',\r\n\talias: 'usync-publisher-strategy-context',\r\n\tname: 'uSync Publisher Strategy Context',\r\n\tjs: () => import('./strategy.context'),\r\n};\r\n\r\nexport const manifests = [strategyContext, ...modals, ...commonSteps];\r\n","const localizations: Array<UmbExtensionManifest> = [\r\n\t{\r\n\t\ttype: 'localization',\r\n\t\talias: 'usync.publisher.enus',\r\n\t\tname: 'English (us)',\r\n\t\tweight: 0,\r\n\t\tmeta: { culture: 'en-us' },\r\n\t\tjs: () => import('./files/en-us'),\r\n\t},\r\n\t{\r\n\t\ttype: 'localization',\r\n\t\talias: 'usync.publisher.en',\r\n\t\tname: 'English',\r\n\t\tweight: 0,\r\n\t\tmeta: { culture: 'en' },\r\n\t\tjs: () => import('./files/en-us'),\r\n\t},\r\n];\r\n\r\nexport const manifests: UmbExtensionManifest[] = [...localizations];\r\n","import { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport {\r\n\tUmbConditionConfigBase,\r\n\tUmbConditionControllerArguments,\r\n\tUmbExtensionCondition,\r\n} from '@umbraco-cms/backoffice/extension-api';\r\nimport { UmbConditionBase } from '@umbraco-cms/backoffice/extension-registry';\r\nimport SyncPublisherServersContext, {\r\n\tUSYNC_PUBLISHER_SERVER_CONTEXT,\r\n} from '../servers/servers.context';\r\nimport { PublishMode } from '../api';\r\nimport { UMB_ENTITY_CONTEXT } from '@umbraco-cms/backoffice/entity';\r\nimport { uSyncPublisher } from '../constants';\r\n\r\nexport type SyncPushConditionConfig =\r\n\tUmbConditionConfigBase<'usync.publisher.push.condition'> & {\r\n\t\tmode: PublishMode;\r\n\t};\r\n\r\nexport class SyncPushCondition\r\n\textends UmbConditionBase<SyncPushConditionConfig>\r\n\timplements UmbExtensionCondition\r\n{\r\n\tconfig: SyncPushConditionConfig;\r\n\r\n\t#publisherContext?: SyncPublisherServersContext;\r\n\r\n\tconstructor(\r\n\t\thost: UmbControllerHost,\r\n\t\targs: UmbConditionControllerArguments<SyncPushConditionConfig>,\r\n\t) {\r\n\t\tsuper(host, args);\r\n\r\n\t\tthis.config = args.config;\r\n\r\n\t\tthis.consumeContext(USYNC_PUBLISHER_SERVER_CONTEXT, (_publisherContext) => {\r\n\t\t\tthis.#publisherContext = _publisherContext;\r\n\t\t});\r\n\r\n\t\tthis.consumeContext(UMB_ENTITY_CONTEXT, (entityContext) => {\r\n\t\t\tif (!entityContext) return;\r\n\t\t\tthis.#checkPermission(entityContext.getEntityType(), entityContext.getUnique());\r\n\t\t});\r\n\t}\r\n\r\n\t#checkPermission(entityType?: string, unique?: string | null) {\r\n\t\tif (!entityType) return;\r\n\t\tif (!this.#publisherContext) return;\r\n\r\n\t\tif (entityType && entityType.indexOf('forms') == -1)\r\n\t\t\tentityType = entityType.replace('-folder', '');\r\n\r\n\t\tconst udi = `umb://${entityType}/${unique ?? uSyncPublisher.emptyGuid}`;\r\n\t\tthis.#publisherContext\r\n\t\t\t.getAvailableServers(udi, entityType, this.config.mode, false)\r\n\t\t\t.then((servers) => {\r\n\t\t\t\tthis.permitted = (servers?.length ?? 0) > 0;\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\nexport { SyncPushCondition as api };\r\n\r\ndeclare global {\r\n\tinterface UmbExtensionConditionConfigMap {\r\n\t\tSyncPushCoonditionConfig: SyncPushConditionConfig;\r\n\t}\r\n}\r\n","import { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport {\r\n\tUmbConditionConfigBase,\r\n\tUmbConditionControllerArguments,\r\n\tUmbExtensionCondition,\r\n} from '@umbraco-cms/backoffice/extension-api';\r\nimport { UmbConditionBase } from '@umbraco-cms/backoffice/extension-registry';\r\n\r\nexport type SyncQueryStringConditionConfig =\r\n\tUmbConditionConfigBase<'usync.publisher.query.condition'> & {\r\n\t\tquery: string;\r\n\t};\r\n\r\nexport class SyncQueryStringCondition\r\n\textends UmbConditionBase<SyncQueryStringConditionConfig>\r\n\timplements UmbExtensionCondition\r\n{\r\n\tconstructor(\r\n\t\thost: UmbControllerHost,\r\n\t\targs: UmbConditionControllerArguments<SyncQueryStringConditionConfig>,\r\n\t) {\r\n\t\tsuper(host, args);\r\n\t\tthis.permitted = window.location.search.indexOf(this.config.query) !== -1;\r\n\t}\r\n}\r\n\r\nexport { SyncQueryStringCondition as api };\r\n\r\ndeclare global {\r\n\tinterface UmbExtensionConditionConfigMap {\r\n\t\tSyncQueryStringCondition: SyncQueryStringConditionConfig;\r\n\t}\r\n}\r\n","import { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport {\r\n\tUmbConditionConfigBase,\r\n\tUmbConditionControllerArguments,\r\n\tUmbExtensionCondition,\r\n} from '@umbraco-cms/backoffice/extension-api';\r\nimport { UMB_CURRENT_USER_CONTEXT } from '@umbraco-cms/backoffice/current-user';\r\nimport { UmbConditionBase } from '@umbraco-cms/backoffice/extension-registry';\r\n\r\nexport type uSyncDashboardPersmissionConditionConfig =\r\n\tUmbConditionConfigBase<'usync.publisher.user.dashboard.condition'> & {\r\n\t\tallOf?: string[];\r\n\t\toneOf?: string[];\r\n\t};\r\n\r\nexport class uSyncDashboardPersmissionCondition\r\n\textends UmbConditionBase<uSyncDashboardPersmissionConditionConfig>\r\n\timplements UmbExtensionCondition\r\n{\r\n\t#fallbackPermissions: string[] = [];\r\n\r\n\tconstructor(\r\n\t\thost: UmbControllerHost,\r\n\t\targs: UmbConditionControllerArguments<uSyncDashboardPersmissionConditionConfig>,\r\n\t) {\r\n\t\tsuper(host, args);\r\n\r\n\t\tthis.consumeContext(UMB_CURRENT_USER_CONTEXT, (context) => {\r\n\t\t\tif (!context) return;\r\n\r\n\t\t\tthis.observe(context.currentUser, (user) => {\r\n\t\t\t\tthis.#fallbackPermissions = user?.fallbackPermissions || [];\r\n\t\t\t\tthis.#checkPermissions();\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t#checkPermissions() {\r\n\t\tlet allOfPermitted = true;\r\n\t\tlet oneOfPermitted = true;\r\n\r\n\t\tconst verbs = this.#fallbackPermissions;\r\n\r\n\t\tif (this.config.allOf?.length) {\r\n\t\t\tallOfPermitted = this.config.allOf.every((verb) => verbs.includes(verb));\r\n\t\t}\r\n\r\n\t\tif (this.config.oneOf?.length) {\r\n\t\t\toneOfPermitted = this.config.oneOf.some((verb) => verbs.includes(verb));\r\n\t\t}\r\n\r\n\t\tif (!allOfPermitted && !oneOfPermitted) {\r\n\t\t\tallOfPermitted = false;\r\n\t\t\toneOfPermitted = false;\r\n\t\t}\r\n\r\n\t\tthis.permitted = allOfPermitted && oneOfPermitted;\r\n\t}\r\n}\r\n\r\nexport { uSyncDashboardPersmissionCondition as api };\r\n","import { SyncPushCondition } from './push.condition';\r\nimport { SyncQueryStringCondition } from './query.condition';\r\nimport { uSyncDashboardPersmissionCondition } from './usync-dashboard-permission.condition';\r\n\r\nexport const manifests: UmbExtensionManifest[] = [\r\n\t{\r\n\t\ttype: 'condition',\r\n\t\talias: 'usync.publisher.push.condition',\r\n\t\tname: 'uSync Publisher Push Condition',\r\n\t\tapi: SyncPushCondition,\r\n\t},\r\n\t{\r\n\t\ttype: 'condition',\r\n\t\talias: 'usync.publisher.user.dashboard.condition',\r\n\t\tname: 'uSync Publisher Dashboard Condition',\r\n\t\tapi: uSyncDashboardPersmissionCondition,\r\n\t},\r\n\t{\r\n\t\ttype: 'condition',\r\n\t\talias: 'usync.publisher.query.condition',\r\n\t\tname: 'uSync Publisher Query Condition',\r\n\t\tapi: SyncQueryStringCondition,\r\n\t},\r\n];\r\n","import {\r\n\tUSYNC_USER_PERMISSION_BROWSE,\r\n\tUSYNC_USER_PERMISSION_PULL,\r\n\tUSYNC_USER_PERMISSION_PUSH,\r\n} from './constants';\r\nimport { UMB_DOCUMENT_ENTITY_TYPE } from '@umbraco-cms/backoffice/document';\r\n\r\nconst entityTypes = [UMB_DOCUMENT_ENTITY_TYPE];\r\n\r\nconst permissions: UmbExtensionManifest[] = [\r\n\t{\r\n\t\ttype: 'entityUserPermission',\r\n\t\talias: USYNC_USER_PERMISSION_PUSH,\r\n\t\tname: 'uSync User Push Permission',\r\n\t\tforEntityTypes: entityTypes,\r\n\t\tmeta: {\r\n\t\t\tverbs: [USYNC_USER_PERMISSION_PUSH],\r\n\t\t\tlabel: 'Publisher Push',\r\n\t\t\tdescription: 'Permission to push content to another server',\r\n\t\t\tgroup: 'Publisher',\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\ttype: 'entityUserPermission',\r\n\t\talias: USYNC_USER_PERMISSION_PULL,\r\n\t\tname: 'uSync User Pull Permission',\r\n\t\tforEntityTypes: entityTypes,\r\n\t\tmeta: {\r\n\t\t\tverbs: [USYNC_USER_PERMISSION_PULL],\r\n\t\t\tlabel: 'Publisher Pull',\r\n\t\t\tdescription: 'Permission to pull content from a server',\r\n\t\t\tgroup: 'Publisher',\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\ttype: 'entityUserPermission',\r\n\t\talias: USYNC_USER_PERMISSION_BROWSE,\r\n\t\tname: 'uSync User Browse Permission',\r\n\t\tforEntityTypes: entityTypes,\r\n\t\tmeta: {\r\n\t\t\tverbs: [USYNC_USER_PERMISSION_BROWSE],\r\n\t\t\tlabel: 'Publisher Browse',\r\n\t\t\tdescription: 'Permission to view the browse dashboard',\r\n\t\t\tgroup: 'Publisher',\r\n\t\t},\r\n\t},\r\n];\r\n\r\nexport const manifests: UmbExtensionManifest[] = [...permissions];\r\n","import { UMB_AUTH_CONTEXT } from '@umbraco-cms/backoffice/auth';\r\nimport { UmbEntryPointOnInit } from '@umbraco-cms/backoffice/extension-api';\r\n\r\nimport './strategies/index';\r\nimport './components/index';\r\nimport './servers';\r\nimport './browsers';\r\n\r\n/* manifests */\r\n\r\nimport { manifests as settingsManifests } from './settings/manifest';\r\nimport { manifests as serverManifests } from './servers/_manifest';\r\nimport { manifests as actionManifests } from './actions/manifest';\r\nimport { manifests as browserManifests } from './browsers/manifests';\r\nimport { manifests as changeManifests } from './change/manifest';\r\nimport { manifests as processManifests } from './strategies/manifests';\r\nimport { manifests as localizations } from './lang/manifests';\r\nimport { manifests as conditions } from './conditions/manifests';\r\nimport { manifests as permissions } from './permissions/manifest';\r\nimport { client } from './api/client.gen';\r\n\r\nexport const onInit: UmbEntryPointOnInit = (_host, extensionRegistry) => {\r\n\textensionRegistry.registerMany([\r\n\t\t...settingsManifests,\r\n\t\t...serverManifests,\r\n\t\t...actionManifests,\r\n\t\t...browserManifests,\r\n\t\t...changeManifests,\r\n\t\t...localizations,\r\n\t\t...processManifests,\r\n\t\t...conditions,\r\n\t\t...permissions,\r\n\t]);\r\n\r\n\t_host.consumeContext(UMB_AUTH_CONTEXT, (_auth) => {\r\n\t\tif (!_auth) return;\r\n\t\tconst config = _auth.getOpenApiConfiguration();\r\n\r\n\t\tclient.setConfig({ baseUrl: config.base, credentials: config.credentials });\r\n\r\n\t\tclient.interceptors.request.use(async (request, _options) => {\r\n\t\t\tconst token = await _auth.getLatestToken();\r\n\t\t\trequest.headers.set('Authorization', `Bearer ${token}`);\r\n\t\t\treturn request;\r\n\t\t});\r\n\t});\r\n};\r\n\r\n/** publisher dashboard, to do list.  */\r\n// TODO: The cache dashboard element\r\n\r\n// [ ]: Are we doing the 'blank' site dashboard element (might be where SiteSeed Points)\r\n// [ ]: \"Publisher\" specific settings, (nothing missing for go live, but if we extend)\r\n"],"names":["ChangeDetailType","ChangeType","DependencyFlags","PublishMode","SyncServerStatus","j","r","e","R","U","_","D","O","i","a","n","l","o","s","y","q","f","p","H","B","A","P","_a","E","S","W","x","C","h","__publicField","v","N","Q","w","J","c","T","u","m","b","g","d","client","createClient","createConfig","BrowserService","options","_heyApiClient","ContentService","KeysService","PublishersService","SeedService","ServersService","SettingsService","StrategyService","TemplatesService","USYNC_PUBLISHER_DETAILS_MODAL_ALIAS","USYNC_PUBLISHER_DETAILS_MODAL","UmbModalToken","SyncPublisherBrowserSource","host","__privateAdd","_host","__privateSet","id","server","page","tryExecute","__privateGet","udis","checkEnabled","SyncPublisherBrowserRepository","UmbControllerBase","_browserSource","_browserRepository","_uSyncPublisherChangeDetailsModal_instances","getDetail_fn","onClose_fn","uSyncPublisherChangeDetailsModal","UmbModalBaseElement","_b","_c","_d","__privateMethod","_e","_f","html","when","nothing","detail","__decorateClass","state","customElement","uSyncPublisherChangeDetailsElement","UmbLitElement","property","_uSyncPublisherChangeCompareElement_instances","onIFrameLoadAndResize_fn","uSyncPublisherChangeCompareElement","view","crops","cropJson","source","frame","css","_uSyncPublisherReportView_instances","getChangeCount_fn","showDetail_fn","uSyncPublisherReportView","changes","groups","item","groupedHtml","key","groupHtml","arr","fn","prev","curr","groupKey","group","results","action","modalManager","UMB_MODAL_MANAGER_CONTEXT","detailsModal","_uSyncPublisherYesNoElement_instances","onChange_fn","uSyncPublisherYesNoElement","UmbElementMixin","LitElement","target","_uSyncPublisherSyncOptionsElement_instances","onUpdateSendOption_fn","updateDeleteMissing_fn","onUpdate_fn","onDateChange_fn","uSyncPublisherSyncOptionsElement","settings","includePublish","option","syncOption","selected","merge","value","setting","element","_uSyncPublisherGroupedReportTable_instances","uSyncPublisherGroupedReportTable","changeCount","classMap","rowsHtml","result","icon","SyncPublisherServersSource","_avalibleServers","url","copyView","enabledOnly","request","existing","serverView","order","servers","keys","SyncPublisherServersRepository","_serversSource","entityType","mode","appId","appKey","SyncPublisherServersContext","_notificationContext","_repository","_servers","_allServers","UmbArrayState","UMB_NOTIFICATION_CONTEXT","_instance","USYNC_PUBLISHER_SERVER_CONTEXT","includeDisabled","alias","UmbContextToken","_serverContext","_uSyncPublisherServerButtonElement_instances","checkServer_fn","uSyncPublisherServerButtonElement","_context","classes","uSyncPublisherServerStatusElement","uSyncPublisherServerButtonListElement","serverhtml","count","_attached","_templates","_uSyncPublisherServerTemplateView_instances","onRadioClick_fn","fireTemplateSelected_fn","uSyncPublisherServerTemplateView","templatesHtml","template","_uSyncPublisherServerPicker_instances","onPickServer_fn","fireSelected_fn","uSyncPublisherServerPicker","_uSyncPublisherYesNoServerOption_instances","onLocked_fn","uSyncPublisherYesNoServerOption","label","_uSyncObjectDebugElement_instances","toggle_fn","uSyncObjectDebugElement","_uSyncPublisherSyncSettingsElement_instances","hasContent_fn","hasSettings_fn","hasFiles_fn","onToggleContent_fn","onToggleSettings_fn","onToggleFiles_fn","toggleSettings_fn","elementName","uSyncPublisherSyncSettingsElement","contentToggle","contentValues","settingsToggle","toggledValues","update","_uSyncServerUserGroupPicker_instances","onOpenGroupPicker_fn","onRemoveGroup_fn","dispatchChange_fn","uSyncServerUserGroupPicker","groupsHtml","modal","UMB_USER_GROUP_PICKER_MODAL","USYNC_PUBLISHER_ADD_SERVER_MODAL_ALIAS","USYNC_PUBLISHER_CONNECTED_SERVER_MODEL_ALIAS","USYNC_PUBLISHER_GENERATE_KEY_MODAL_ALIAS","USYNC_PUBLISHER_CONNECTED_SERVER_MODAL","_modalContext","_uSyncPublisherConnectedServersPicker_instances","dispatchUpdate_fn","onAddServer_fn","onPushToggle_fn","onPullToggle_fn","onRemove_fn","uSyncPublisherConnectedServersPicker","_modalManager","addAllowedServerContext","exists","allowedServers","_constants","uSyncPublisher","PublisherTimeOptions","_uSyncPublisherServerSyncListElement_instances","onUpdateToggle_fn","onSelectAll_fn","onSelectList_fn","sendUpdateSelectedEntitiesEvent_fn","uSyncPublisherServerSyncListElement","UMB_DATA_TYPE_ENTITY_TYPE","UMB_TEMPLATE_ENTITY_TYPE","UMB_DOCUMENT_ENTITY_TYPE","UMB_MEDIA_ENTITY_TYPE","list","entity","listName","index","checked","checkbox","SyncPublisherServerSharedContext","unique","_data","_hasKeys","UmbObjectState","UmbBooleanState","USYNC_PUBLISHER_SERVER_SHARED_CONTEXT","context","name","publisherSettings","data","hasKeys","PublisherConfigBase","SyncPublisherBrowserContext","_SyncPublisherBrowserContext_instances","_entityType","_server","_folder","_changes","UmbStringState","k","USYNC_PUBLISHER_BROWSER_CONTEXT","type","getContentFolders_fn","getMediaFolders_fn","calculateContentChanges_fn","calculateMediaChanges_fn","getLocalContentFolders_fn","folder","getLocalMediaFolders_fn","_browserContext","_uSyncPublisherContentBrowserDashboardElement_instances","checkFolders_fn","onServerSelected_fn","getItemChange_fn","getFolderContents_fn","onItemOpen_fn","onNavigate_fn","onViewDetails_fn","uSyncPublisherContentBrowserDashboardElement","udi","change","uSyncPublisherContentBrowserDashboardElement$1","_SyncPublisherBrowserFolderView_instances","getChange_fn","onOpen_fn","SyncPublisherBrowserFolderView","items","_SyncPublisherBrowserFolderPath_instances","naviagate_fn","SyncPublisherBrowserFolderPath","manifests","SYNC_PUBLISHER_SERVER_ROOT_ITEM_TYPE","SYNC_PUBLISHER_SERVER_ITEM_TYPE","SyncPublisherServerDataSource","UmbTreeServerDataSourceBase","getRootItems","getChildrenOf","getAncestorsOf","mapper","args","SyncPublisherTreeStore","UmbUniqueTreeStore","SYNC_PUBLISHER_SERVER_TREE_STORE_CONTEXT","_SyncPublisherTreeStore_instances","UmbStoreConnector","updateTreeItemMapper_fn","model","SyncPublisherTreeRespository","UmbTreeRepositoryBase","repository","store","tree","treeItem","menuItem","USYNC_PUBLISHER_SERVER_WORKSPACE_ALIAS","USYNC_PUBLISHER_SERVER_ROOT_WORKSPACE_ALIAS","USYNC_PUBLISHER_SERVER_ENTITY_TYPE","USYNC_PUBLISHER_SERVER_ROOT_ENTITY_TYPE","_serverWorkspaceConditions","views","SyncPublisherServerWorkspaceContext","UmbEditableWorkspaceContextBase","_sharedContext","USYNC_PUBLISHER_SERVER_WORKSPACE_CONTEXT","SyncPublisherSaveServerAction","UmbWorkspaceActionBase","workspaceActions","entityActions","coreEntityActions","workspace","serverWorkspace_context","actionManifests","itemViews","SyncPublisherSyncAction","serverContext","aliases","SyncPublisherServerRootWorkspaceContext","USYNC_PUBLISHER_SERVER_ROOT_WORKSPACE_CONTEXT","SyncPublisherRootSaveAction","actions","_rootWorkspaceConditions","serverRootWorkspace_context","rootViews","itemWorkspaceManifests","rootWorkspaceCoontext","addServerModal","generateKeyModal","configManfests","servers_context","modalManifests","treeManifests","workspaceManifests","pickerManifests","publisherConfigManifests","USYNC_USER_PERMISSION_PUSH","USYNC_USER_PERMISSION_PULL","USYNC_USER_PERMISSION_BROWSE","pushKind","UMB_ENTITY_ACTION_DEFAULT_KIND_MANIFEST","pullKind","actionTypes","UMB_DOCUMENT_ROOT_ENTITY_TYPE","UMB_MEDIA_ROOT_ENTITY_TYPE","UMB_DOCUMENT_TYPE_ENTITY_TYPE","UMB_DOCUMENT_TYPE_ROOT_ENTITY_TYPE","UMB_DOCUMENT_TYPE_FOLDER_ENTITY_TYPE","UMB_MEDIA_TYPE_ENTITY_TYPE","UMB_MEDIA_TYPE_ROOT_ENTITY_TYPE","UMB_MEMBER_TYPE_ENTITY_TYPE","UMB_MEMBER_TYPE_ROOT_ENTITY_TYPE","UMB_TEMPLATE_ROOT_ENTITY_TYPE","UMB_DATA_TYPE_ROOT_ENTITY_TYPE","UMB_DATA_TYPE_FOLDER_ENTITY_TYPE","UMB_STATIC_FILE_ENTITY_TYPE","UMB_STATIC_FILE_FOLDER_ENTITY_TYPE","UMB_STATIC_FILE_ROOT_ENTITY_TYPE","UMB_PARTIAL_VIEW_ENTITY_TYPE","UMB_PARTIAL_VIEW_ROOT_ENTITY_TYPE","UMB_STYLESHEET_ROOT_ENTITY_TYPE","UMB_STYLESHEET_ENTITY_TYPE","UMB_DICTIONARY_ROOT_ENTITY_TYPE","UMB_DICTIONARY_ENTITY_TYPE","UMB_DOCUMENT_BLUEPRINT_ROOT_ENTITY_TYPE","UMB_DOCUMENT_BLUEPRINT_ENTITY_TYPE","UMB_DOCUMENT_BLUEPRINT_FOLDER_ENTITY_TYPE","UMB_SCRIPT_ROOT_ENTITY_TYPE","UMB_SCRIPT_ENTITY_TYPE","UMB_USER_PERMISSION_DOCUMENT_PUBLISH","UMB_ENTITY_IS_NOT_TRASHED_CONDITION_ALIAS","kindManifests","dashboards","contentBrowserDashboard_element","changeModal","details_modal_element","USYNC_PUBLISHER_PROCESS_MODAL_ALIAS","USYNC_PUBLISHER_PROCESS_MODAL","processingModals","SyncPublisherStratey","commonStepsManifest","strategyContext","modals","commonSteps","localizations","SyncPushCondition","UmbConditionBase","_SyncPushCondition_instances","_publisherContext","UMB_ENTITY_CONTEXT","entityContext","checkPermission_fn","SyncQueryStringCondition","uSyncDashboardPersmissionCondition","_uSyncDashboardPersmissionCondition_instances","_fallbackPermissions","UMB_CURRENT_USER_CONTEXT","user","checkPermissions_fn","allOfPermitted","oneOfPermitted","verbs","verb","entityTypes","permissions","onInit","extensionRegistry","settingsManifests","serverManifests","browserManifests","changeManifests","processManifests","conditions","UMB_AUTH_CONTEXT","_auth","config","_options","token"],"mappings":"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","x_google_ignoreList":[1]}