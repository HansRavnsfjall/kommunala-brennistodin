{"version":3,"file":"server-item-permissions.element-Cp8seqZw.js","sources":["../../../usync-publisher-assets/src/servers/workspace/server-item/views/server-item-permissions.element.ts"],"sourcesContent":["import {\r\n\thtml,\r\n\tcustomElement,\r\n\tproperty,\r\n\tstate,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { SyncPublishServerView } from '../../../../api';\r\nimport {\r\n\tSyncPublisherServerSharedContext,\r\n\tUSYNC_PUBLISHER_SERVER_SHARED_CONTEXT,\r\n} from '../../server-workspace-shared.context';\r\n\r\n@customElement('usync-publisher-server-permissions')\r\nexport class uSyncServerPermissionsElement extends UmbLitElement {\r\n\t#sharedContext?: SyncPublisherServerSharedContext;\r\n\r\n\t@state()\r\n\tdata?: SyncPublishServerView;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(USYNC_PUBLISHER_SERVER_SHARED_CONTEXT, (_context) => {\r\n\t\t\tif (!_context) return;\r\n\r\n\t\t\tthis.#sharedContext = _context;\r\n\r\n\t\t\tthis.observe(_context.data, (_data) => {\r\n\t\t\t\tthis.data = _data;\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t@property({ type: Boolean })\r\n\tcollapse: boolean = true;\r\n\r\n\t#onToggleCollapse() {\r\n\t\tconst value = !(this.data?.sendSettings?.hideAdvanced ?? true);\r\n\t\tthis.#sharedContext?.setSyncBoolOption('hideAdvanced', value);\r\n\t}\r\n\r\n\t#onGroupsUpdate(e: CustomEvent) {\r\n\t\tthis.#sharedContext?.setUserGroups(e.detail.groups);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn html`<umb-body-layout>\r\n\t\t\t<uui-box .headline=${this.localize.term('usyncpublish_permissions')}>\r\n\t\t\t\t${this.renderUserGroups()} ${this.renderCollapseAdvanced()}\r\n\t\t\t</uui-box>\r\n\t\t</umb-body-layout>`;\r\n\t}\r\n\r\n\trenderUserGroups() {\r\n\t\treturn html`\r\n\t\t\t<umb-property-layout\r\n\t\t\t\t.label=${this.localize.term('usyncpublish_userGroups')}\r\n\t\t\t\t.description=${this.localize.term('usyncpublish_userGroupsDesc')}>\r\n\t\t\t\t<div slot=\"editor\">\r\n\t\t\t\t\t<usync-publisher-server-user-groups\r\n\t\t\t\t\t\t.groups=${this.data?.userGroups}\r\n\t\t\t\t\t\t@usync-server-update-groups=${this\r\n\t\t\t\t\t\t\t.#onGroupsUpdate}></usync-publisher-server-user-groups>\r\n\t\t\t\t</div>\r\n\t\t\t</umb-property-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\trenderCollapseAdvanced() {\r\n\t\treturn html`\r\n\t\t\t<umb-property-layout\r\n\t\t\t\t.label=${this.localize.term('usyncpublish_collapseAdvanced')}\r\n\t\t\t\t.description=${this.localize.term('usyncpublish_collapseAdvancedDesc')}>\r\n\t\t\t\t<div slot=\"editor\">\r\n\t\t\t\t\t<uui-checkbox\r\n\t\t\t\t\t\tid=\"collapseAdvancedCheck\"\r\n\t\t\t\t\t\tname=\"Collapse advanced\"\r\n\t\t\t\t\t\tlabel=\"Collapse advanced\"\r\n\t\t\t\t\t\t@change=${this.#onToggleCollapse}\r\n\t\t\t\t\t\t.checked=${this.data?.sendSettings?.hideAdvanced ?? true}>\r\n\t\t\t\t\t\t<div slot=\"label\"></div\r\n\t\t\t\t\t></uui-checkbox>\r\n\t\t\t\t</div>\r\n\t\t\t</umb-property-layout>\r\n\t\t`;\r\n\t}\r\n}\r\n\r\nexport default uSyncServerPermissionsElement;\r\n"],"names":["_sharedContext","_uSyncServerPermissionsElement_instances","onToggleCollapse_fn","onGroupsUpdate_fn","uSyncServerPermissionsElement","UmbLitElement","__privateAdd","USYNC_PUBLISHER_SERVER_SHARED_CONTEXT","_context","__privateSet","_data","html","_a","__privateMethod","_b","value","_c","__privateGet","__decorateClass","state","property","customElement","uSyncServerPermissionsElement$1"],"mappings":";;;;;;;;;wXAAAA,GAAAC,GAAAC,GAAAC;AAca,IAAAC,IAAN,cAA4CC,EAAc;AAAA,EAMhE,cAAc;AACP,UAAA,GAPDC,EAAA,MAAAL,CAAA,GACNK,EAAA,MAAAN,CAAA,GAoBoB,KAAA,WAAA,IAZd,KAAA,eAAeO,GAAuC,CAACC,MAAa;AACxE,MAAKA,MAELC,EAAA,MAAKT,GAAiBQ,CAAA,GAEtB,KAAK,QAAQA,EAAS,MAAM,CAACE,MAAU;AACtC,aAAK,OAAOA;AAAA,MAAA,CACZ;AAAA,IAAA,CACD;AAAA,EAAA;AAAA,EAeF,SAAS;AACD,WAAAC;AAAA,wBACe,KAAK,SAAS,KAAK,0BAA0B,CAAC;AAAA,MAChE,KAAK,iBAAiB,CAAC,IAAI,KAAK,uBAAwB,CAAA;AAAA;AAAA;AAAA,EAAA;AAAA,EAK7D,mBAAmB;;AACX,WAAAA;AAAA;AAAA,aAEI,KAAK,SAAS,KAAK,yBAAyB,CAAC;AAAA,mBACvC,KAAK,SAAS,KAAK,6BAA6B,CAAC;AAAA;AAAA;AAAA,iBAGpDC,IAAA,KAAK,SAAL,gBAAAA,EAAW,UAAU;AAAA,oCACDC,QAC5BZ,GAAeE,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA,EAAA;AAAA,EAMtB,yBAAyB;;AACjB,WAAAQ;AAAA;AAAA,aAEI,KAAK,SAAS,KAAK,+BAA+B,CAAC;AAAA,mBAC7C,KAAK,SAAS,KAAK,mCAAmC,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAM1DE,QAAKZ,GAAiBC,CAAA,CAAA;AAAA,mBACrBY,KAAAF,IAAA,KAAK,SAAL,gBAAAA,EAAW,iBAAX,gBAAAE,EAAyB,iBAAgB,EAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAA;AAO9D;AAxECd,IAAA,oBAAA,QAAA;AADMC,IAAA,oBAAA,QAAA;AAuBNC,IAAiB,WAAG;;AACnB,QAAMa,IAAQ,IAAED,KAAAF,IAAA,KAAK,SAAL,gBAAAA,EAAW,iBAAX,gBAAAE,EAAyB,iBAAgB;AACpD,GAAAE,IAAAC,EAAA,MAAAjB,CAAA,MAAA,QAAAgB,EAAgB,kBAAkB,gBAAgBD;AACxD;AAEAZ,IAAe,SAAC,GAAgB;;AAC/B,GAAAS,IAAAK,EAAA,MAAKjB,CAAgB,MAArB,QAAAY,EAAqB,cAAc,EAAE,OAAO;AAC7C;AA1BAM,EAAA;AAAA,EADCC,EAAM;AAAA,GAHKf,EAIZ,WAAA,QAAA,CAAA;AAiBAc,EAAA;AAAA,EADCE,EAAS,EAAE,MAAM,QAAS,CAAA;AAAA,GApBfhB,EAqBZ,WAAA,YAAA,CAAA;AArBYA,IAANc,EAAA;AAAA,EADNG,EAAc,oCAAoC;AAAA,GACtCjB,CAAA;AA2Eb,MAAAkB,IAAelB;"}