{"version":3,"file":"property-editor-ui-block-grid-areas-config.element-a2XWy3gj.js","sources":["../../../src/packages/block/block-grid/property-editors/block-grid-areas-config/block-grid-area-type-entries.context.ts","../../../src/packages/block/block-grid/components/block-grid-area-config-entry/block-grid-area-config-entry.context.ts","../../../src/packages/block/block-grid/components/block-grid-area-config-entry/block-grid-area-config-entry.element.ts","../../../src/packages/block/block-grid/property-editors/block-grid-areas-config/property-editor-ui-block-grid-areas-config.element.ts"],"sourcesContent":["import type { UmbBlockGridScalableContainerContext } from '../../context/block-grid-scale-manager/block-grid-scale-manager.controller.js';\r\nimport { UMB_BLOCK_GRID_AREA_TYPE_ENTRIES_CONTEXT } from './block-grid-area-type-entries.context-token.js';\r\nimport { UmbContextBase } from '@umbraco-cms/backoffice/class-api';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\n\r\nexport class UmbBlockGridAreaTypeEntriesContext extends UmbContextBase implements UmbBlockGridScalableContainerContext {\r\n\t#layoutColumns?: number;\r\n\tsetLayoutColumns(layoutColumns: number) {\r\n\t\tthis.#layoutColumns = layoutColumns;\r\n\t}\r\n\r\n\tgetLayoutColumns() {\r\n\t\treturn this.#layoutColumns;\r\n\t}\r\n\r\n\tgetLayoutContainerElement() {\r\n\t\treturn this.getHostElement().shadowRoot?.querySelector('.umb-block-grid__area-container') as\r\n\t\t\t| HTMLElement\r\n\t\t\t| undefined;\r\n\t}\r\n\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tsuper(host, UMB_BLOCK_GRID_AREA_TYPE_ENTRIES_CONTEXT);\r\n\t}\r\n}\r\n","import { UMB_BLOCK_GRID_AREA_TYPE_ENTRIES_CONTEXT } from '../../property-editors/block-grid-areas-config/block-grid-area-type-entries.context-token.js';\r\nimport {\r\n\tUmbBlockGridScaleManager,\r\n\ttype UmbBlockGridScalableContext,\r\n} from '../../context/block-grid-scale-manager/block-grid-scale-manager.controller.js';\r\nimport type { UmbBlockGridTypeAreaType } from '../../types.js';\r\nimport { UMB_BLOCK_GRID_AREA_CONFIG_ENTRY_CONTEXT } from './block-grid-area-config-entry.context-token.js';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport { UmbObjectState, appendToFrozenArray } from '@umbraco-cms/backoffice/observable-api';\r\nimport { UmbContextBase } from '@umbraco-cms/backoffice/class-api';\r\nimport { UMB_PROPERTY_CONTEXT } from '@umbraco-cms/backoffice/property';\r\nimport { umbConfirmModal } from '@umbraco-cms/backoffice/modal';\r\nexport class UmbBlockGridAreaConfigEntryContext extends UmbContextBase implements UmbBlockGridScalableContext {\r\n\t//\r\n\t#entriesContext?: typeof UMB_BLOCK_GRID_AREA_TYPE_ENTRIES_CONTEXT.TYPE;\r\n\t//\r\n\t#propertyContext?: typeof UMB_PROPERTY_CONTEXT.TYPE;\r\n\t//\r\n\t#areaKey?: string;\r\n\t#area = new UmbObjectState<UmbBlockGridTypeAreaType | undefined>(undefined);\r\n\treadonly area = this.#area.asObservable();\r\n\treadonly alias = this.#area.asObservablePart((x) => x?.alias);\r\n\treadonly columnSpan = this.#area.asObservablePart((x) => x?.columnSpan);\r\n\treadonly rowSpan = this.#area.asObservablePart((x) => x?.rowSpan ?? 1);\r\n\r\n\treadonly scaleManager = new UmbBlockGridScaleManager(this);\r\n\r\n\tpublic getMinMaxRowSpan(): [number, number] {\r\n\t\treturn [1, 999];\r\n\t}\r\n\tsetColumnSpan(columnSpan: number) {\r\n\t\tconst layoutColumns = this.#entriesContext?.getLayoutColumns();\r\n\t\tif (!layoutColumns) return;\r\n\t\tcolumnSpan = Math.max(1, Math.min(columnSpan, layoutColumns));\r\n\t\tthis.#area.update({ columnSpan });\r\n\t}\r\n\tgetColumnSpan() {\r\n\t\treturn this.#area.getValue()?.columnSpan;\r\n\t}\r\n\tsetRowSpan(rowSpan: number) {\r\n\t\tthis.#area.update({ rowSpan });\r\n\t}\r\n\tgetRowSpan() {\r\n\t\treturn this.#area.getValue()?.rowSpan;\r\n\t}\r\n\tgetAlias() {\r\n\t\treturn this.#area.getValue()?.alias;\r\n\t}\r\n\tpublic getRelevantColumnSpanOptions() {\r\n\t\tconst layoutColumns = this.#entriesContext?.getLayoutColumns();\r\n\t\tif (!layoutColumns) return;\r\n\t\t// Makes an array based of the given length, with number entries starting from 1. ex.: length 4 => [1, 2, 3, 4]\r\n\t\treturn Array.from({ length: layoutColumns }, (_, i) => i + 1);\r\n\t}\r\n\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tsuper(host, UMB_BLOCK_GRID_AREA_CONFIG_ENTRY_CONTEXT);\r\n\r\n\t\tthis.consumeContext(UMB_PROPERTY_CONTEXT, (context) => {\r\n\t\t\tthis.#propertyContext = context;\r\n\t\t\tthis.#observeAreaData();\r\n\t\t});\r\n\r\n\t\tthis.consumeContext(UMB_BLOCK_GRID_AREA_TYPE_ENTRIES_CONTEXT, (context) => {\r\n\t\t\tthis.#entriesContext = context;\r\n\t\t\tthis.scaleManager.setEntriesContext(context);\r\n\t\t});\r\n\t}\r\n\r\n\tsetAreaKey(areaKey: string) {\r\n\t\tif (this.#areaKey === areaKey) return;\r\n\t\tthis.#areaKey = areaKey;\r\n\t\tthis.#observeAreaData();\r\n\t}\r\n\r\n\t#observeAreaData() {\r\n\t\tif (!this.#areaKey || !this.#propertyContext) return;\r\n\t\tthis.observe(\r\n\t\t\tthis.#propertyContext.value,\r\n\t\t\t(value: Array<UmbBlockGridTypeAreaType> | undefined) => {\r\n\t\t\t\tif (value) {\r\n\t\t\t\t\tconst areaType = value.find((x) => x.key === this.#areaKey);\r\n\t\t\t\t\tthis.#area.setValue(areaType);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'observeAreaData',\r\n\t\t);\r\n\t\tthis.observe(\r\n\t\t\tthis.area,\r\n\t\t\t(area) => {\r\n\t\t\t\tif (area && this.#propertyContext) {\r\n\t\t\t\t\tconst value = this.#propertyContext.getValue() as Array<UmbBlockGridTypeAreaType> | undefined;\r\n\t\t\t\t\tif (!value) return;\r\n\t\t\t\t\tconst newValue = appendToFrozenArray(value, area, (x) => x.key === this.#areaKey);\r\n\t\t\t\t\tthis.#propertyContext?.setValue(newValue);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'observeInternalArea',\r\n\t\t);\r\n\t}\r\n\r\n\tasync requestDelete() {\r\n\t\tawait umbConfirmModal(this, {\r\n\t\t\theadline: `Delete ${this.getAlias()}`,\r\n\t\t\tcontent: 'Are you sure you want to delete this Area?',\r\n\t\t\tconfirmLabel: 'Delete',\r\n\t\t\tcolor: 'danger',\r\n\t\t});\r\n\t\tthis.delete();\r\n\t}\r\n\tpublic delete() {\r\n\t\tif (!this.#areaKey || !this.#propertyContext) return;\r\n\t\tconst value = this.#propertyContext.getValue() as Array<UmbBlockGridTypeAreaType> | undefined;\r\n\t\tif (!value) return;\r\n\t\tthis.#propertyContext.setValue(value.filter((x) => x.key !== this.#areaKey));\r\n\t}\r\n\r\n\toverride destroy() {\r\n\t\tsuper.destroy();\r\n\t\tthis.#area.destroy();\r\n\t}\r\n}\r\n","import { UmbBlockGridAreaConfigEntryContext } from './block-grid-area-config-entry.context.js';\r\nimport { css, customElement, html, property, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport type { UmbPropertyEditorUiElement } from '@umbraco-cms/backoffice/property-editor';\r\n\r\nimport '../block-scale-handler/block-scale-handler.element.js';\r\n\r\n/**\r\n * @element umb-block-area-config-entry\r\n */\r\n@customElement('umb-block-area-config-entry')\r\nexport class UmbBlockGridAreaConfigEntryElement extends UmbLitElement implements UmbPropertyEditorUiElement {\r\n\t//\r\n\t@property({ attribute: false })\r\n\tpublic get key(): string | undefined {\r\n\t\treturn this._key;\r\n\t}\r\n\tpublic set key(key: string | undefined) {\r\n\t\tif (!key) return;\r\n\t\tthis._key = key;\r\n\t\tthis.setAttribute('data-area-key', key);\r\n\t\tthis.#context.setAreaKey(key);\r\n\t}\r\n\tprivate _key?: string | undefined;\r\n\t//\r\n\r\n\t@property()\r\n\tworkspacePath?: string;\r\n\r\n\t#context = new UmbBlockGridAreaConfigEntryContext(this);\r\n\r\n\t@state()\r\n\tprivate _columnSpan?: number;\r\n\r\n\t@state()\r\n\tprivate _rowSpan?: number;\r\n\r\n\t@state()\r\n\tprivate _alias = '';\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.observe(this.#context.alias, (alias) => {\r\n\t\t\tthis._alias = alias ?? '';\r\n\t\t});\r\n\t}\r\n\r\n\toverride connectedCallback(): void {\r\n\t\tsuper.connectedCallback();\r\n\t\t// element styling:\r\n\t\tthis.observe(\r\n\t\t\tthis.#context.columnSpan,\r\n\t\t\t(columnSpan) => {\r\n\t\t\t\tthis._columnSpan = columnSpan;\r\n\t\t\t\tthis.setAttribute('data-col-span', columnSpan ? columnSpan.toString() : '');\r\n\t\t\t\tthis.style.setProperty('--umb-block-grid--grid-column', columnSpan ? columnSpan.toString() : '');\r\n\t\t\t\tthis.style.setProperty('--umb-block-grid--area-column-span', columnSpan ? columnSpan.toString() : '');\r\n\t\t\t},\r\n\t\t\t'columnSpan',\r\n\t\t);\r\n\t\tthis.observe(\r\n\t\t\tthis.#context.rowSpan,\r\n\t\t\t(rowSpan) => {\r\n\t\t\t\tthis._rowSpan = rowSpan;\r\n\t\t\t\tthis.setAttribute('data-row-span', rowSpan ? rowSpan.toString() : '');\r\n\t\t\t\tthis.style.setProperty('--umb-block-grid--area-row-span', rowSpan ? rowSpan.toString() : '');\r\n\t\t\t},\r\n\t\t\t'rowSpan',\r\n\t\t);\r\n\t}\r\n\r\n\t#renderBlock() {\r\n\t\treturn this._key\r\n\t\t\t? html`\r\n\t\t\t\t\t<span class=\"alias\">${this._alias}</span>\r\n\t\t\t\t\t<uui-action-bar>\r\n\t\t\t\t\t\t<uui-button label=\"edit\" compact href=${this.workspacePath + 'edit/' + this._key}>\r\n\t\t\t\t\t\t\t<uui-icon name=\"icon-edit\"></uui-icon>\r\n\t\t\t\t\t\t</uui-button>\r\n\t\t\t\t\t\t<uui-button label=\"delete\" compact @click=${() => this.#context.requestDelete()}>\r\n\t\t\t\t\t\t\t<uui-icon name=\"icon-remove\"></uui-icon>\r\n\t\t\t\t\t\t</uui-button>\r\n\t\t\t\t\t</uui-action-bar>\r\n\t\t\t\t\t<umb-block-scale-handler @mousedown=${(e: MouseEvent) => this.#context.scaleManager.onScaleMouseDown(e)}>\r\n\t\t\t\t\t\t${this._columnSpan}x${this._rowSpan}\r\n\t\t\t\t\t</umb-block-scale-handler>\r\n\t\t\t\t`\r\n\t\t\t: '';\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn this.#renderBlock();\r\n\t}\r\n\r\n\t// TODO: Update UUI, as it is missing proper colors to be used for this case:\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tbackground-color: var(--uui-color-disabled);\r\n\t\t\t\tborder: 1px solid var(--uui-color-border);\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t\ttransition: background-color 120ms;\r\n\t\t\t}\r\n\r\n\t\t\t:host(:hover) {\r\n\t\t\t\tbackground-color: var(--uui-color-disabled-standalone);\r\n\t\t\t}\r\n\r\n\t\t\t:host([drag-placeholder]) {\r\n\t\t\t\topacity: 0.2;\r\n\t\t\t}\r\n\r\n\t\t\tuui-action-bar {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: var(--uui-size-2);\r\n\t\t\t\tright: var(--uui-size-2);\r\n\t\t\t}\r\n\r\n\t\t\t.alias {\r\n\t\t\t\tpadding: var(--uui-size-space-4);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbBlockGridAreaConfigEntryElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-block-area-config-entry': UmbBlockGridAreaConfigEntryElement;\r\n\t}\r\n}\r\n","import { UMB_BLOCK_GRID_DEFAULT_LAYOUT_STYLESHEET, type UmbBlockGridTypeAreaType } from '../../index.js';\r\nimport { UMB_BLOCK_GRID_AREA_TYPE_WORKSPACE_MODAL } from '../../components/block-grid-area-config-entry/constants.js';\r\nimport type { UmbBlockGridAreaConfigEntryElement } from '../../../block-grid/components/block-grid-area-config-entry/block-grid-area-config-entry.element.js';\r\nimport { UmbBlockGridAreaTypeEntriesContext } from './block-grid-area-type-entries.context.js';\r\nimport { css, customElement, html, property, repeat, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { incrementString } from '@umbraco-cms/backoffice/utils';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbModalRouteRegistrationController } from '@umbraco-cms/backoffice/router';\r\nimport { UmbSorterController, UmbSorterResolvePlacementAsGrid } from '@umbraco-cms/backoffice/sorter';\r\nimport { UMB_PROPERTY_DATASET_CONTEXT } from '@umbraco-cms/backoffice/property';\r\nimport type {\r\n\tUmbPropertyEditorUiElement,\r\n\tUmbPropertyEditorConfigCollection,\r\n} from '@umbraco-cms/backoffice/property-editor';\r\n\r\nimport '../../components/block-grid-area-config-entry/block-grid-area-config-entry.element.js';\r\n\r\n@customElement('umb-property-editor-ui-block-grid-areas-config')\r\nexport class UmbPropertyEditorUIBlockGridAreasConfigElement\r\n\textends UmbLitElement\r\n\timplements UmbPropertyEditorUiElement\r\n{\r\n\t//\r\n\t#context = new UmbBlockGridAreaTypeEntriesContext(this);\r\n\t// local vars:\r\n\t#defaultAreaGridColumns: number = 12;\r\n\t#valueOfAreaGridColumns?: number | null;\r\n\r\n\t#sorter = new UmbSorterController<UmbBlockGridTypeAreaType, UmbBlockGridAreaConfigEntryElement>(this, {\r\n\t\titemSelector: 'umb-block-area-config-entry',\r\n\t\tcontainerSelector: '.umb-block-grid__area-container',\r\n\t\tresolvePlacement: UmbSorterResolvePlacementAsGrid,\r\n\t\tgetUniqueOfElement: (element) => {\r\n\t\t\treturn element.key;\r\n\t\t},\r\n\t\tgetUniqueOfModel: (modelEntry) => {\r\n\t\t\treturn modelEntry.key;\r\n\t\t},\r\n\t\tonChange: ({ model }) => {\r\n\t\t\tconst oldValue = this._value;\r\n\t\t\tthis._value = model;\r\n\t\t\tthis.requestUpdate('_value', oldValue);\r\n\t\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t\t},\r\n\t});\r\n\r\n\t@property({ type: Array })\r\n\tpublic set value(value: Array<UmbBlockGridTypeAreaType>) {\r\n\t\tthis._value = value ?? [];\r\n\t\tthis.#sorter.setModel(this._value);\r\n\t}\r\n\tpublic get value(): Array<UmbBlockGridTypeAreaType> {\r\n\t\treturn this._value;\r\n\t}\r\n\r\n\t@state()\r\n\tprivate _value: Array<UmbBlockGridTypeAreaType> = [];\r\n\r\n\tpublic set config(config: UmbPropertyEditorConfigCollection | undefined) {\r\n\t\tconst defaultAreaGridColumns = config?.getValueByAlias('defaultAreaGridColumns');\r\n\t\tif (typeof defaultAreaGridColumns === 'number' && defaultAreaGridColumns > 0) {\r\n\t\t\tthis.#defaultAreaGridColumns = defaultAreaGridColumns ?? null;\r\n\t\t} else {\r\n\t\t\tthis.#defaultAreaGridColumns = 12;\r\n\t\t}\r\n\t\tthis.#gotAreaColumns();\r\n\t}\r\n\r\n\t@state()\r\n\tprivate _workspacePath?: string;\r\n\r\n\t@state()\r\n\tprivate _styleElement?: HTMLLinkElement;\r\n\r\n\t@state()\r\n\tprivate _areaGridColumns?: number;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tnew UmbModalRouteRegistrationController(this, UMB_BLOCK_GRID_AREA_TYPE_WORKSPACE_MODAL)\r\n\t\t\t.addAdditionalPath('block-grid-area-type')\r\n\t\t\t.onSetup(() => {\r\n\t\t\t\tif (!this._areaGridColumns) return false;\r\n\t\t\t\tconst halfGridColumns = this._areaGridColumns * 0.5;\r\n\t\t\t\tconst columnSpan = halfGridColumns === Math.round(halfGridColumns) ? halfGridColumns : this._areaGridColumns;\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tentityType: 'block-grid-area-type',\r\n\t\t\t\t\t\tpreset: { columnSpan, alias: this.#generateUniqueAreaAlias('area') },\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmodal: { size: 'large' },\r\n\t\t\t\t};\r\n\t\t\t})\r\n\t\t\t.observeRouteBuilder((routeBuilder) => {\r\n\t\t\t\tthis._workspacePath = routeBuilder({});\r\n\t\t\t});\r\n\r\n\t\tthis.consumeContext(UMB_PROPERTY_DATASET_CONTEXT, async (context) => {\r\n\t\t\tthis.observe(\r\n\t\t\t\tawait context?.propertyValueByAlias<number | undefined>('areaGridColumns'),\r\n\t\t\t\t(value) => {\r\n\t\t\t\t\t// Value can be undefined, but 'undefined > 0' is still valid JS and will return false. [NL]\r\n\t\t\t\t\tthis.#valueOfAreaGridColumns = (value as number) > 0 ? value : null;\r\n\t\t\t\t\tthis.#gotAreaColumns();\r\n\t\t\t\t},\r\n\t\t\t\t'observeAreaGridColumns',\r\n\t\t\t);\r\n\r\n\t\t\tthis.observe(\r\n\t\t\t\tawait context?.propertyValueByAlias<string | undefined>('layoutStylesheet'),\r\n\t\t\t\t(stylesheet) => {\r\n\t\t\t\t\tif (this._styleElement && this._styleElement.href === stylesheet) return;\r\n\t\t\t\t\tthis._styleElement = document.createElement('link');\r\n\t\t\t\t\tthis._styleElement.setAttribute('rel', 'stylesheet');\r\n\t\t\t\t\tthis._styleElement.setAttribute('href', stylesheet ?? UMB_BLOCK_GRID_DEFAULT_LAYOUT_STYLESHEET);\r\n\t\t\t\t},\r\n\t\t\t\t'observeStylesheet',\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\t#gotAreaColumns() {\r\n\t\tif (!this.#defaultAreaGridColumns || this.#valueOfAreaGridColumns === undefined) return;\r\n\t\tthis._areaGridColumns = this.#valueOfAreaGridColumns ?? this.#defaultAreaGridColumns;\r\n\t\tthis.#context.setLayoutColumns(this._areaGridColumns);\r\n\t}\r\n\r\n\t#generateUniqueAreaAlias(alias: string) {\r\n\t\twhile (this._value.find((area) => area.alias === alias)) {\r\n\t\t\talias = incrementString(alias);\r\n\t\t}\r\n\t\treturn alias;\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn this._areaGridColumns\r\n\t\t\t? html`${this._styleElement}\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclass=\"umb-block-grid__area-container\"\r\n\t\t\t\t\t\tpart=\"area-container\"\r\n\t\t\t\t\t\tstyle=\"--umb-block-grid--area-grid-columns: ${this._areaGridColumns}\">\r\n\t\t\t\t\t\t${repeat(\r\n\t\t\t\t\t\t\tthis.value,\r\n\t\t\t\t\t\t\t(area) => area.key,\r\n\t\t\t\t\t\t\t(area) =>\r\n\t\t\t\t\t\t\t\thtml`<umb-block-area-config-entry\r\n\t\t\t\t\t\t\t\t\tclass=\"umb-block-grid__area\"\r\n\t\t\t\t\t\t\t\t\t.workspacePath=${this._workspacePath}\r\n\t\t\t\t\t\t\t\t\t.areaGridColumns=${this._areaGridColumns}\r\n\t\t\t\t\t\t\t\t\t.key=${area.key}></umb-block-area-config-entry>`,\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<uui-button look=\"placeholder\" label=${'Add area'} href=${this._workspacePath + 'create'}></uui-button>`\r\n\t\t\t: '';\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tgap: var(--uui-size-2);\r\n\t\t\t}\r\n\r\n\t\t\t.umb-block-grid__area {\r\n\t\t\t\tcursor: move;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbPropertyEditorUIBlockGridAreasConfigElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-property-editor-ui-block-grid-areas-config': UmbPropertyEditorUIBlockGridAreasConfigElement;\r\n\t}\r\n}\r\n"],"names":["UmbBlockGridAreaTypeEntriesContext","UmbContextBase","#layoutColumns","layoutColumns","host","UMB_BLOCK_GRID_AREA_TYPE_ENTRIES_CONTEXT","UmbBlockGridAreaConfigEntryContext","UMB_BLOCK_GRID_AREA_CONFIG_ENTRY_CONTEXT","#area","UmbObjectState","x","UmbBlockGridScaleManager","UMB_PROPERTY_CONTEXT","context","#propertyContext","#observeAreaData","#entriesContext","#areaKey","columnSpan","rowSpan","_","i","areaKey","value","areaType","area","newValue","appendToFrozenArray","umbConfirmModal","_context","_UmbBlockGridAreaConfigEntryElement_instances","renderBlock_fn","UmbBlockGridAreaConfigEntryElement","UmbLitElement","__privateAdd","__privateGet","alias","key","__privateMethod","html","css","__decorateClass","property","state","customElement","_defaultAreaGridColumns","_valueOfAreaGridColumns","_sorter","_UmbPropertyEditorUIBlockGridAreasConfigElement_instances","gotAreaColumns_fn","generateUniqueAreaAlias_fn","UmbPropertyEditorUIBlockGridAreasConfigElement","UmbSorterController","UmbSorterResolvePlacementAsGrid","element","modelEntry","model","oldValue","UmbChangeEvent","UmbModalRouteRegistrationController","UMB_BLOCK_GRID_AREA_TYPE_WORKSPACE_MODAL","halfGridColumns","routeBuilder","UMB_PROPERTY_DATASET_CONTEXT","__privateSet","stylesheet","UMB_BLOCK_GRID_DEFAULT_LAYOUT_STYLESHEET","config","defaultAreaGridColumns","repeat","incrementString","UmbPropertyEditorUIBlockGridAreasConfigElement$1"],"mappings":"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"}