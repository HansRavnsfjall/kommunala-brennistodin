{"version":3,"file":"settings.element-DPvivHfg.js","sources":["../../../src/packages/block/block-grid/components/block-grid-area-config-entry/workspace/views/settings.element.ts"],"sourcesContent":["import { css, html, customElement, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport type { UmbWorkspaceViewElement } from '@umbraco-cms/backoffice/workspace';\r\nimport { UMB_PROPERTY_DATASET_CONTEXT } from '@umbraco-cms/backoffice/property';\r\nimport type { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\nimport type { UmbInputNumberRangeElement } from '@umbraco-cms/backoffice/components';\r\n\r\n@customElement('umb-block-grid-area-type-workspace-view')\r\nexport class UmbBlockGridAreaTypeWorkspaceViewSettingsElement extends UmbLitElement implements UmbWorkspaceViewElement {\r\n\t// TODO: Add Localizations...\r\n\t// TODO: Validation to prevent spaces and weird characters in alias:\r\n\r\n\t#dataset?: typeof UMB_PROPERTY_DATASET_CONTEXT.TYPE;\r\n\r\n\t@state()\r\n\tprivate _minValue?: number;\r\n\r\n\t@state()\r\n\tprivate _maxValue?: number;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.consumeContext(UMB_PROPERTY_DATASET_CONTEXT, async (context) => {\r\n\t\t\tthis.#dataset = context;\r\n\t\t\tthis.observe(\r\n\t\t\t\tawait this.#dataset?.propertyValueByAlias<number>('minAllowed'),\r\n\t\t\t\t(min) => {\r\n\t\t\t\t\tthis._minValue = min ?? 0;\r\n\t\t\t\t},\r\n\t\t\t\t'observeMinAllowed',\r\n\t\t\t);\r\n\t\t\tthis.observe(\r\n\t\t\t\tawait this.#dataset?.propertyValueByAlias<number>('maxAllowed'),\r\n\t\t\t\t(max) => {\r\n\t\t\t\t\tthis._maxValue = max ?? Infinity;\r\n\t\t\t\t},\r\n\t\t\t\t'observeMaxAllowed',\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\t#onAllowedRangeChange = (e: UmbChangeEvent) => {\r\n\t\tthis.#dataset?.setPropertyValue('minAllowed', (e!.target! as UmbInputNumberRangeElement).minValue);\r\n\t\tthis.#dataset?.setPropertyValue('maxAllowed', (e!.target! as UmbInputNumberRangeElement).maxValue);\r\n\t};\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<uui-box headline=${'Identification'}>\r\n\t\t\t\t<umb-property\r\n\t\t\t\t\tlabel=${this.localize.term('general_alias')}\r\n\t\t\t\t\talias=\"alias\"\r\n\t\t\t\t\tproperty-editor-ui-alias=\"Umb.PropertyEditorUi.TextBox\"></umb-property>\r\n\r\n\t\t\t\t<umb-property\r\n\t\t\t\t\tlabel=${'Create Button Label'}\r\n\t\t\t\t\talias=\"createLabel\"\r\n\t\t\t\t\tproperty-editor-ui-alias=\"Umb.PropertyEditorUi.TextBox\"></umb-property>\r\n\t\t\t</uui-box>\r\n\t\t\t<uui-box headline=${'Validation'}>\r\n\t\t\t\t<umb-property-layout label=${this.localize.term('blockEditor_rangeAllowed')}>\r\n\t\t\t\t\t<umb-input-number-range\r\n\t\t\t\t\t\tslot=\"editor\"\r\n\t\t\t\t\t\t.minValue=${this._minValue}\r\n\t\t\t\t\t\t.maxValue=${this._maxValue}\r\n\t\t\t\t\t\t@change=${this.#onAllowedRangeChange}>\r\n\t\t\t\t\t</umb-input-number-range>\r\n\t\t\t\t</umb-property-layout>\r\n\r\n\t\t\t\t<umb-property\r\n\t\t\t\t\tlabel=${this.localize.term('blockEditor_specifiedAllowance')}\r\n\t\t\t\t\talias=\"specifiedAllowance\"\r\n\t\t\t\t\tproperty-editor-ui-alias=\"Umb.PropertyEditorUi.BlockGridAreaTypePermission\"></umb-property>\r\n\t\t\t</uui-box>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: grid;\r\n\t\t\t\tgrid-template-columns: repeat(auto-fill, minmax(600px, 1fr));\r\n\t\t\t\tgap: var(--uui-size-layout-1);\r\n\t\t\t\tmargin: var(--uui-size-layout-1);\r\n\t\t\t\tpadding-bottom: var(--uui-size-layout-1); // To enforce some distance to the bottom of the scroll-container.\r\n\t\t\t}\r\n\r\n\t\t\t#showOptions {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\theight: 100px;\r\n\t\t\t}\r\n\t\t\t#showOptions uui-button {\r\n\t\t\t\tflex: 1;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbBlockGridAreaTypeWorkspaceViewSettingsElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-block-grid-area-type-workspace-view-settings': UmbBlockGridAreaTypeWorkspaceViewSettingsElement;\r\n\t}\r\n}\r\n"],"names":["_dataset","_onAllowedRangeChange","UmbBlockGridAreaTypeWorkspaceViewSettingsElement","UmbLitElement","__privateAdd","__privateGet","UMB_PROPERTY_DATASET_CONTEXT","context","__privateSet","min","max","html","UmbTextStyles","css","__decorateClass","state","customElement","UmbBlockGridAreaTypeWorkspaceViewSettingsElement$1"],"mappings":";;;;;;;;;;gVAAAA,GAAAC;AASO,IAAMC,IAAN,cAA+DC,EAAiD;AAAA,EAYtH,cAAc;AACb,UAAA,GATDC,EAAA,MAAAJ,CAAA,GA4BAI,EAAA,MAAAH,GAAwB,CAAC,MAAsB;AAC9C,MAAAI,EAAA,MAAKL,CAAA,GAAU,iBAAiB,cAAe,EAAG,OAAuC,QAAQ,GACjGK,EAAA,MAAKL,CAAA,GAAU,iBAAiB,cAAe,EAAG,OAAuC,QAAQ;AAAA,IAClG,CAAA,GArBC,KAAK,eAAeM,GAA8B,OAAOC,MAAY;AACpE,MAAAC,EAAA,MAAKR,GAAWO,CAAA,GAChB,KAAK;AAAA,QACJ,MAAMF,EAAA,MAAKL,CAAA,GAAU,qBAA6B,YAAY;AAAA,QAC9D,CAACS,MAAQ;AACR,eAAK,YAAYA,KAAO;AAAA,QACzB;AAAA,QACA;AAAA,MAAA,GAED,KAAK;AAAA,QACJ,MAAMJ,EAAA,MAAKL,CAAA,GAAU,qBAA6B,YAAY;AAAA,QAC9D,CAACU,MAAQ;AACR,eAAK,YAAYA,KAAO;AAAA,QACzB;AAAA,QACA;AAAA,MAAA;AAAA,IAEF,CAAC;AAAA,EACF;AAAA,EAMS,SAAS;AACjB,WAAOC;AAAA,uBACc,gBAAgB;AAAA;AAAA,aAE1B,KAAK,SAAS,KAAK,eAAe,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,aAKnC,qBAAqB;AAAA;AAAA;AAAA;AAAA,uBAIX,YAAY;AAAA,iCACF,KAAK,SAAS,KAAK,0BAA0B,CAAC;AAAA;AAAA;AAAA,kBAG7D,KAAK,SAAS;AAAA,kBACd,KAAK,SAAS;AAAA,gBAChBN,QAAKJ,CAAA,CAAqB;AAAA;AAAA;AAAA;AAAA;AAAA,aAK7B,KAAK,SAAS,KAAK,gCAAgC,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,EAKhE;AAsBD;AApFCD,IAAA,oBAAA,QAAA;AA4BAC,IAAA,oBAAA,QAAA;AAhCYC,EAoEI,SAAS;AAAA,EACxBU;AAAA,EACAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBD;AAhFQC,EAAA;AAAA,EADPC,EAAA;AAAM,GANKb,EAOJ,WAAA,aAAA,CAAA;AAGAY,EAAA;AAAA,EADPC,EAAA;AAAM,GATKb,EAUJ,WAAA,aAAA,CAAA;AAVIA,IAANY,EAAA;AAAA,EADNE,EAAc,yCAAyC;AAAA,GAC3Cd,CAAA;AA0Fb,MAAAe,IAAef;"}