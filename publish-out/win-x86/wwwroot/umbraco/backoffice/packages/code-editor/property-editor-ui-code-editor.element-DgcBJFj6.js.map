{"version":3,"file":"property-editor-ui-code-editor.element-DgcBJFj6.js","sources":["../../../src/packages/code-editor/property-editor/property-editor-ui-code-editor.element.ts"],"sourcesContent":["import type { CodeEditorLanguage } from '../models/index.js';\r\nimport type { UmbCodeEditorElement } from '../components/code-editor.element.js';\r\nimport { css, customElement, html, property, state, styleMap } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbChangeEvent, UmbInputEvent } from '@umbraco-cms/backoffice/event';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport type {\r\n\tUmbPropertyEditorConfigCollection,\r\n\tUmbPropertyEditorUiElement,\r\n} from '@umbraco-cms/backoffice/property-editor';\r\n\r\nimport '../components/code-editor.element.js';\r\n\r\nconst elementName = 'umb-property-editor-ui-code-editor';\r\n\r\n@customElement(elementName)\r\nexport class UmbPropertyEditorUICodeEditorElement extends UmbLitElement implements UmbPropertyEditorUiElement {\r\n\t#defaultLanguage: CodeEditorLanguage = 'javascript';\r\n\r\n\t@state()\r\n\tprivate _language?: CodeEditorLanguage = this.#defaultLanguage;\r\n\r\n\t@state()\r\n\tprivate _height = 400;\r\n\r\n\t@state()\r\n\tprivate _lineNumbers = true;\r\n\r\n\t@state()\r\n\tprivate _minimap = true;\r\n\r\n\t@state()\r\n\tprivate _wordWrap = false;\r\n\r\n\t@property()\r\n\tvalue = '';\r\n\r\n\t@property({ attribute: false })\r\n\tpublic set config(config: UmbPropertyEditorConfigCollection | undefined) {\r\n\t\tif (!config) return;\r\n\r\n\t\tconst language = config?.getValueByAlias<Array<CodeEditorLanguage> | CodeEditorLanguage | undefined>('language');\r\n\t\tthis._language = Array.isArray(language) ? language[0] : language;\r\n\r\n\t\tthis._height = Number(config?.getValueByAlias('height')) || 400;\r\n\t\tthis._lineNumbers = config?.getValueByAlias('lineNumbers') ?? false;\r\n\t\tthis._minimap = config?.getValueByAlias('minimap') ?? false;\r\n\t\tthis._wordWrap = config?.getValueByAlias('wordWrap') ?? false;\r\n\t}\r\n\r\n\t#onChange(event: UmbInputEvent & { target: UmbCodeEditorElement }) {\r\n\t\tif (!(event instanceof UmbInputEvent)) return;\r\n\t\tthis.value = event.target.code;\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-code-editor\r\n\t\t\t\tstyle=${styleMap({ height: `${this._height}px` })}\r\n\t\t\t\t.language=${this._language ?? this.#defaultLanguage}\r\n\t\t\t\t.code=${this.value ?? ''}\r\n\t\t\t\t?disable-line-numbers=${!this._lineNumbers}\r\n\t\t\t\t?disable-minimap=${!this._minimap}\r\n\t\t\t\t?word-wrap=${this._wordWrap}\r\n\t\t\t\t@input=${this.#onChange}>\r\n\t\t\t</umb-code-editor>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\tumb-code-editor {\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t\tborder: 1px solid var(--uui-color-divider-emphasis);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport { UmbPropertyEditorUICodeEditorElement as element };\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t[elementName]: UmbPropertyEditorUICodeEditorElement;\r\n\t}\r\n}\r\n"],"names":["_defaultLanguage","_UmbPropertyEditorUICodeEditorElement_instances","onChange_fn","elementName","UmbPropertyEditorUICodeEditorElement","UmbLitElement","__privateAdd","__privateGet","config","language","html","styleMap","__privateMethod","event","UmbInputEvent","UmbChangeEvent","css","__decorateClass","state","property","customElement"],"mappings":";;;;;;;;;;+TAAAA,GAAAC,GAAAC;AAYA,MAAMC,IAAc;AAGb,IAAMC,IAAN,cAAmDC,EAAoD;AAAA,EAAvG,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAL,CAAA,GACNK,EAAA,MAAAN,GAAuC,YAAA,GAGvC,KAAQ,YAAiCO,EAAA,MAAKP,CAAA,GAG9C,KAAQ,UAAU,KAGlB,KAAQ,eAAe,IAGvB,KAAQ,WAAW,IAGnB,KAAQ,YAAY,IAGpB,KAAA,QAAQ;AAAA,EAAA;AAAA,EAGR,IAAW,OAAOQ,GAAuD;AACxE,QAAI,CAACA,EAAQ;AAEb,UAAMC,IAAWD,GAAQ,gBAA4E,UAAU;AAC/G,SAAK,YAAY,MAAM,QAAQC,CAAQ,IAAIA,EAAS,CAAC,IAAIA,GAEzD,KAAK,UAAU,OAAOD,GAAQ,gBAAgB,QAAQ,CAAC,KAAK,KAC5D,KAAK,eAAeA,GAAQ,gBAAgB,aAAa,KAAK,IAC9D,KAAK,WAAWA,GAAQ,gBAAgB,SAAS,KAAK,IACtD,KAAK,YAAYA,GAAQ,gBAAgB,UAAU,KAAK;AAAA,EACzD;AAAA,EAQS,SAAS;AACjB,WAAOE;AAAA;AAAA,YAEGC,EAAS,EAAE,QAAQ,GAAG,KAAK,OAAO,MAAM,CAAC;AAAA,gBACrC,KAAK,aAAaJ,EAAA,MAAKP,CAAA,CAAgB;AAAA,YAC3C,KAAK,SAAS,EAAE;AAAA,4BACA,CAAC,KAAK,YAAY;AAAA,uBACvB,CAAC,KAAK,QAAQ;AAAA,iBACpB,KAAK,SAAS;AAAA,aAClBY,QAAKX,GAAAC,CAAA,CAAS;AAAA;AAAA;AAAA,EAG1B;AAUD;AA7DCF,IAAA,oBAAA,QAAA;AADMC,IAAA,oBAAA,QAAA;AAkCNC,IAAS,SAACW,GAAyD;AAClE,EAAMA,aAAiBC,MACvB,KAAK,QAAQD,EAAM,OAAO,MAC1B,KAAK,cAAc,IAAIE,GAAgB;AACxC;AAtCYX,EAsDI,SAAS;AAAA,EACxBY;AAAA;AAAA;AAAA;AAAA;AAAA;AAMD;AAzDQC,EAAA;AAAA,EADPC,EAAA;AAAM,GAHKd,EAIJ,WAAA,aAAA,CAAA;AAGAa,EAAA;AAAA,EADPC,EAAA;AAAM,GANKd,EAOJ,WAAA,WAAA,CAAA;AAGAa,EAAA;AAAA,EADPC,EAAA;AAAM,GATKd,EAUJ,WAAA,gBAAA,CAAA;AAGAa,EAAA;AAAA,EADPC,EAAA;AAAM,GAZKd,EAaJ,WAAA,YAAA,CAAA;AAGAa,EAAA;AAAA,EADPC,EAAA;AAAM,GAfKd,EAgBJ,WAAA,aAAA,CAAA;AAGRa,EAAA;AAAA,EADCE,EAAA;AAAS,GAlBEf,EAmBZ,WAAA,SAAA,CAAA;AAGWa,EAAA;AAAA,EADVE,EAAS,EAAE,WAAW,GAAA,CAAO;AAAA,GArBlBf,EAsBD,WAAA,UAAA,CAAA;AAtBCA,IAANa,EAAA;AAAA,EADNG,EAAcjB,CAAW;AAAA,GACbC,CAAA;"}