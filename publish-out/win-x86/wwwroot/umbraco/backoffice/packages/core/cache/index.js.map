{"version":3,"file":"index.js","sources":["../../../../src/packages/core/cache/lru-cache.ts"],"sourcesContent":["/**\r\n * @description\r\n * This class provides a Least Recently Used (LRU) cache implementation.\r\n * It is designed to store key-value pairs and automatically remove the least recently used items when the cache exceeds a maximum size.\r\n */\r\nexport class UmbLruCache<K, V> {\r\n\t#cache = new Map<K, V>();\r\n\r\n\t#maxSize: number;\r\n\r\n\tconstructor(maxSize: number) {\r\n\t\tthis.#maxSize = maxSize;\r\n\t}\r\n\r\n\tget(key: K): V | undefined {\r\n\t\tif (!this.#cache.has(key)) return undefined;\r\n\t\tconst value = this.#cache.get(key)!;\r\n\t\tthis.#cache.delete(key);\r\n\t\tthis.#cache.set(key, value);\r\n\t\treturn value;\r\n\t}\r\n\r\n\tset(key: K, value: V): void {\r\n\t\tif (this.#cache.has(key)) {\r\n\t\t\tthis.#cache.delete(key);\r\n\t\t} else if (this.#cache.size >= this.#maxSize) {\r\n\t\t\tconst oldestKey = this.#cache.keys().next().value;\r\n\t\t\tif (oldestKey) {\r\n\t\t\t\tthis.#cache.delete(oldestKey);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.#cache.set(key, value);\r\n\t}\r\n\r\n\thas(key: K): boolean {\r\n\t\treturn this.#cache.has(key);\r\n\t}\r\n}\r\n\r\nexport default UmbLruCache;\r\n"],"names":["UmbLruCache","#cache","#maxSize","maxSize","key","value","oldestKey"],"mappings":"AAKO,MAAMA,EAAkB;AAAA,EAC9BC,yBAAa,IAAA;AAAA,EAEbC;AAAA,EAEA,YAAYC,GAAiB;AAC5B,SAAKD,KAAWC;AAAA,EACjB;AAAA,EAEA,IAAIC,GAAuB;AAC1B,QAAI,CAAC,KAAKH,GAAO,IAAIG,CAAG,EAAG;AAC3B,UAAMC,IAAQ,KAAKJ,GAAO,IAAIG,CAAG;AACjC,gBAAKH,GAAO,OAAOG,CAAG,GACtB,KAAKH,GAAO,IAAIG,GAAKC,CAAK,GACnBA;AAAA,EACR;AAAA,EAEA,IAAID,GAAQC,GAAgB;AAC3B,QAAI,KAAKJ,GAAO,IAAIG,CAAG;AACtB,WAAKH,GAAO,OAAOG,CAAG;AAAA,aACZ,KAAKH,GAAO,QAAQ,KAAKC,IAAU;AAC7C,YAAMI,IAAY,KAAKL,GAAO,KAAA,EAAO,OAAO;AAC5C,MAAIK,KACH,KAAKL,GAAO,OAAOK,CAAS;AAAA,IAE9B;AACA,SAAKL,GAAO,IAAIG,GAAKC,CAAK;AAAA,EAC3B;AAAA,EAEA,IAAID,GAAiB;AACpB,WAAO,KAAKH,GAAO,IAAIG,CAAG;AAAA,EAC3B;AACD;"}