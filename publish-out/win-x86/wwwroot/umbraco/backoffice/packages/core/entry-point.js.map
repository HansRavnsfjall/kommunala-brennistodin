{"version":3,"file":"entry-point.js","sources":["../../../src/packages/core/entry-point.ts"],"sourcesContent":["import { manifests as coreManifests } from './manifests.js';\r\nimport { UMB_AUTH_CONTEXT } from './auth/auth.context.token.js';\r\nimport { UmbActionEventContext } from './action/action-event.context.js';\r\nimport { UmbBackofficeNotificationContainerElement, UmbBackofficeModalContainerElement } from './components/index.js';\r\nimport { UmbInteractionMemoryContext } from './interaction-memory/index.js';\r\nimport { UmbExtensionsApiInitializer } from '@umbraco-cms/backoffice/extension-api';\r\nimport { UmbModalManagerContext } from '@umbraco-cms/backoffice/modal';\r\nimport { UmbNotificationContext } from '@umbraco-cms/backoffice/notification';\r\nimport type { UmbEntryPointOnInit } from '@umbraco-cms/backoffice/extension-api';\r\n\r\nimport './property-action/components/index.js';\r\nimport './menu/components/index.js';\r\nimport './extension-registry/components/index.js';\r\nimport './entity-item/global-components.js';\r\nimport './entity-sign/components/index.js';\r\n\r\nexport const onInit: UmbEntryPointOnInit = (host, extensionRegistry) => {\r\n\tnew UmbExtensionsApiInitializer(host, extensionRegistry, 'globalContext', [host]);\r\n\tnew UmbExtensionsApiInitializer(host, extensionRegistry, 'store', [host]);\r\n\t/**\r\n\t * TODO: Remove this in Umbraco 18, use the repository instead\r\n\t */\r\n\tnew UmbExtensionsApiInitializer(host, extensionRegistry, 'treeStore', [host]);\r\n\tnew UmbExtensionsApiInitializer(host, extensionRegistry, 'itemStore', [host]);\r\n\r\n\textensionRegistry.registerMany(coreManifests);\r\n\r\n\tconst notificationContainerElement = new UmbBackofficeNotificationContainerElement();\r\n\thost.shadowRoot?.appendChild(notificationContainerElement);\r\n\r\n\tconst modalContainerElement = new UmbBackofficeModalContainerElement();\r\n\thost.shadowRoot?.appendChild(modalContainerElement);\r\n\r\n\tnew UmbNotificationContext(host);\r\n\tnew UmbModalManagerContext(host);\r\n\tnew UmbActionEventContext(host);\r\n\tnew UmbInteractionMemoryContext(host);\r\n\r\n\thost.consumeContext(UMB_AUTH_CONTEXT, (authContext) => {\r\n\t\t// Initialize the auth context to let the app context know that the core module is ready\r\n\t\tauthContext?.setInitialized();\r\n\t});\r\n};\r\n"],"names":["onInit","host","extensionRegistry","UmbExtensionsApiInitializer","coreManifests","notificationContainerElement","UmbBackofficeNotificationContainerElement","modalContainerElement","UmbBackofficeModalContainerElement","UmbNotificationContext","UmbModalManagerContext","UmbActionEventContext","UmbInteractionMemoryContext","UMB_AUTH_CONTEXT","authContext"],"mappings":";;;;;;;;;;;;;;;;AAgBO,MAAMA,IAA8B,CAACC,GAAMC,MAAsB;AACvE,MAAIC,EAA4BF,GAAMC,GAAmB,iBAAiB,CAACD,CAAI,CAAC,GAChF,IAAIE,EAA4BF,GAAMC,GAAmB,SAAS,CAACD,CAAI,CAAC,GAIxE,IAAIE,EAA4BF,GAAMC,GAAmB,aAAa,CAACD,CAAI,CAAC,GAC5E,IAAIE,EAA4BF,GAAMC,GAAmB,aAAa,CAACD,CAAI,CAAC,GAE5EC,EAAkB,aAAaE,CAAa;AAE5C,QAAMC,IAA+B,IAAIC,EAAA;AACzC,EAAAL,EAAK,YAAY,YAAYI,CAA4B;AAEzD,QAAME,IAAwB,IAAIC,EAAA;AAClC,EAAAP,EAAK,YAAY,YAAYM,CAAqB,GAElD,IAAIE,EAAuBR,CAAI,GAC/B,IAAIS,EAAuBT,CAAI,GAC/B,IAAIU,EAAsBV,CAAI,GAC9B,IAAIW,EAA4BX,CAAI,GAEpCA,EAAK,eAAeY,GAAkB,CAACC,MAAgB;AAEtD,IAAAA,GAAa,eAAA;AAAA,EACd,CAAC;AACF;"}