{"version":3,"file":"index.js","sources":["../../../../src/packages/core/hint/context/hint.context-token.ts","../../../../src/packages/core/hint/context/hint.controller.ts","../../../../src/packages/core/hint/context/hint.context.ts"],"sourcesContent":["import type { UmbHintController } from './hint.controller.js';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\n\r\nexport const UMB_HINT_CONTEXT = new UmbContextToken<UmbHintController>('UmbHintContext');\r\n","import type { UmbPartialSome } from '../../utils/type/index.js';\r\nimport type { UmbHint, UmbIncomingHintBase } from '../types.js';\r\nimport { UMB_HINT_CONTEXT } from './hint.context-token.js';\r\nimport { UmbControllerBase, type UmbClassInterface } from '@umbraco-cms/backoffice/class-api';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport { UmbArrayState, UmbObjectState, type Observable } from '@umbraco-cms/backoffice/observable-api';\r\nimport type { UmbContextProviderController } from '@umbraco-cms/backoffice/context-api';\r\n\r\nexport interface UmbHintControllerArgs<HintType extends UmbHint = UmbHint> {\r\n\tviewAlias?: string | null;\r\n\tscaffold?: Partial<HintType>;\r\n}\r\n\r\nexport class UmbHintController<\r\n\tHintType extends UmbHint = UmbHint,\r\n\tIncomingHintType extends UmbIncomingHintBase = UmbPartialSome<HintType, 'unique' | 'weight' | 'path'>,\r\n> extends UmbControllerBase {\r\n\t//\r\n\t#viewAlias: string | null;\r\n\tgetViewAlias(): string | null {\r\n\t\treturn this.#viewAlias;\r\n\t}\r\n\t#pathFilter?: (path: Array<string>) => boolean;\r\n\tsetPathFilter(filter: (path: Array<string>) => boolean) {\r\n\t\tthis.#pathFilter = filter;\r\n\t}\r\n\r\n\t#scaffold = new UmbObjectState<Partial<HintType>>({});\r\n\treadonly scaffold = this.#scaffold.asObservable();\r\n\t#inUnprovidingState?: boolean;\r\n\r\n\t#parent?: UmbHintController;\r\n\t#parentHints?: Array<UmbHint>;\r\n\r\n\treadonly #hints = new UmbArrayState<HintType>([], (x) => x.unique);\r\n\tpublic readonly hints = this.#hints.asObservable();\r\n\tpublic readonly firstHint = this.#hints.asObservablePart((x) => x[0]);\r\n\t// Consider using weight to determine the visibility distance. [NL]\r\n\t//public readonly hasHints = this._hints.asObservablePart((x) => x.length > 0);\r\n\r\n\tupdateScaffold(updates: Partial<HintType>) {\r\n\t\tthis.#scaffold.update(updates);\r\n\t}\r\n\tgetScaffold(): Partial<HintType> {\r\n\t\treturn this.#scaffold.getValue();\r\n\t}\r\n\r\n\tconstructor(host: UmbControllerHost, args?: UmbHintControllerArgs<HintType>) {\r\n\t\tsuper(host);\r\n\r\n\t\tthis.#viewAlias = args?.viewAlias ?? null;\r\n\t\tif (args?.scaffold) {\r\n\t\t\tthis.#scaffold.setValue(args?.scaffold);\r\n\t\t}\r\n\r\n\t\tthis.#hints.sortBy((a, b) => (b.weight || 0) - (a.weight || 0));\r\n\t}\r\n\r\n\t#providerCtrl?: UmbContextProviderController;\r\n\t#currentProvideHost?: UmbClassInterface;\r\n\t/**\r\n\t * Provide this validation context to a specific controller host.\r\n\t * This can be used to Host a validation context in a Workspace, but provide it on a certain scope, like a specific Workspace View.\r\n\t * @param {UmbClassInterface} controllerHost - The controller host to provide this validation context to.\r\n\t */\r\n\tprovideAt(controllerHost: UmbClassInterface): void {\r\n\t\tif (this.#currentProvideHost === controllerHost) return;\r\n\r\n\t\tthis.unprovide();\r\n\r\n\t\tthis.#currentProvideHost = controllerHost;\r\n\t\tthis.#providerCtrl = controllerHost.provideContext(UMB_HINT_CONTEXT, this as any);\r\n\t}\r\n\r\n\tunprovide(): void {\r\n\t\tif (this.#providerCtrl) {\r\n\t\t\t// We need to set this in Unprovide state, so this context can be provided again later.\r\n\t\t\tthis.#inUnprovidingState = true;\r\n\t\t\tthis.#providerCtrl.destroy();\r\n\t\t\tthis.#providerCtrl = undefined;\r\n\t\t\tthis.#inUnprovidingState = false;\r\n\t\t\tthis.#currentProvideHost = undefined;\r\n\t\t}\r\n\t}\r\n\r\n\tasObservablePart<R>(fn: (hints: HintType[]) => R): Observable<R> {\r\n\t\treturn this.#hints.asObservablePart(fn);\r\n\t}\r\n\r\n\tdescendingHints(viewAlias?: string | null): Observable<Array<UmbHint> | undefined> {\r\n\t\tif (viewAlias) {\r\n\t\t\treturn this.#hints.asObservablePart((hints) => {\r\n\t\t\t\treturn hints.filter((hint) => hint.path[0] === viewAlias);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\treturn this.hints;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @internal\r\n\t * @param {(path: Array<string>) => boolean} filter - A filter function to filter the hints by their path.\r\n\t * @returns {Observable<Array<UmbHint> | undefined>} An observable of an array of hints that match the filter.\r\n\t */\r\n\t// eslint-disable-next-line @typescript-eslint/naming-convention\r\n\t_internal_descendingHintsByFilter(filter: (path: Array<string>) => boolean): Observable<Array<UmbHint> | undefined> {\r\n\t\treturn this.#hints.asObservablePart((hints) => {\r\n\t\t\treturn hints.filter((hint) => filter(hint.path));\r\n\t\t});\r\n\t}\r\n\r\n\tinherit(): void {\r\n\t\tif (this.#viewAlias === null && this.#pathFilter === undefined) {\r\n\t\t\tthrow new Error('A Hint Controller needs a view alias or pathFilter to be able to inherit from a parent.');\r\n\t\t}\r\n\t\tthis.consumeContext(UMB_HINT_CONTEXT, (parent) => {\r\n\t\t\tthis.inheritFrom(parent);\r\n\t\t}).skipHost();\r\n\t\t// Notice skipHost ^^, this is because we do not want it to consume it self, as this would be a match for this consumption, instead we will look at the parent and above. [NL]\r\n\t}\r\n\r\n\tinheritFrom(parent: UmbHintController | undefined): void {\r\n\t\tif (this.#parent === parent) return;\r\n\t\tif (this.#viewAlias === null && this.#pathFilter === undefined) {\r\n\t\t\tthrow new Error('A Hint Controller needs a view alias or pathFilter to be able to inherit from a parent.');\r\n\t\t}\r\n\t\tthis.#parent = parent;\r\n\t\tthis.observe(this.#parent?.scaffold, (scaffold) => {\r\n\t\t\tif (scaffold) {\r\n\t\t\t\tthis.#scaffold.update(scaffold as any);\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (this.#viewAlias) {\r\n\t\t\tthis.observe(parent?.descendingHints(this.#viewAlias), this.#receiveHints, 'observeParentHints');\r\n\t\t} else if (this.#pathFilter) {\r\n\t\t\tthis.observe(\r\n\t\t\t\tparent?._internal_descendingHintsByFilter(this.#pathFilter),\r\n\t\t\t\tthis.#receiveHints,\r\n\t\t\t\t'observeParentHints',\r\n\t\t\t);\r\n\t\t}\r\n\t\tthis.observe(this.hints, this.#propagateHints, 'observeLocalMessages');\r\n\t}\r\n\r\n\t#receiveHints = (hints: UmbHint[] | undefined) => {\r\n\t\tif (!hints) {\r\n\t\t\t// Parent properly lost, so lets assume the parent hints are empty: [NL]\r\n\t\t\thints = [];\r\n\t\t}\r\n\t\tthis.initiateChange();\r\n\t\tif (this.#parentHints) {\r\n\t\t\t// Remove the local messages that does not exist in the parent anymore:\r\n\t\t\tconst toRemove = this.#parentHints.filter((hint) => !hints.find((m) => m.unique === hint.unique));\r\n\t\t\tthis.remove(toRemove.map((hint) => hint.unique));\r\n\t\t}\r\n\t\tthis.#parentHints = hints;\r\n\r\n\t\thints.forEach((hint) => {\r\n\t\t\t// Remove first entry of hint.path, if it matches viewAlias.\r\n\t\t\tif (this.#viewAlias && hint.path[0] === this.#viewAlias) {\r\n\t\t\t\thint = { ...hint, path: hint.path.slice(1) };\r\n\t\t\t}\r\n\t\t\tthis.#hints.appendOne(hint as HintType);\r\n\t\t});\r\n\r\n\t\tthis.finishChange();\r\n\t};\r\n\r\n\t#propagateHints = (hints: Array<UmbHint>) => {\r\n\t\tif (!this.#parent) return;\r\n\r\n\t\tthis.#parent!.initiateChange();\r\n\r\n\t\tconst viewAlias = this.getViewAlias();\r\n\r\n\t\thints.forEach((hint) => {\r\n\t\t\tlet newPath = hint.path;\r\n\t\t\t// If the hint path does not already contain the parent view alias as the first entry, we add it. (This will usually happen, but some Hint Contexts does not have a view alias as they)\r\n\t\t\tif (viewAlias && newPath[0] !== viewAlias) {\r\n\t\t\t\tnewPath = [viewAlias, ...hint.path];\r\n\t\t\t}\r\n\t\t\tthis.#parent!.addOne({ ...hint, path: newPath });\r\n\t\t});\r\n\r\n\t\t// Remove hints that are not in the local hints anymore:\r\n\t\tconst toRemove = this.#parentHints?.filter((hint) => !hints.find((m) => m.unique === hint.unique));\r\n\t\tif (toRemove) {\r\n\t\t\tthis.#parent!.remove(toRemove.map((hint) => hint.unique));\r\n\t\t}\r\n\r\n\t\tthis.#parent!.finishChange();\r\n\t};\r\n\r\n\tinitiateChange() {\r\n\t\tthis.#hints.mute();\r\n\t}\r\n\tfinishChange() {\r\n\t\tthis.#hints.unmute();\r\n\t}\r\n\r\n\t/**\r\n\t * Add a new hint\r\n\t * @param {HintType} hint - The hint to add\r\n\t * @returns {HintType['unique']} Unique value of the hint\r\n\t */\r\n\taddOne(hint: IncomingHintType): string | symbol {\r\n\t\tconst newHint = { ...this.#scaffold.getValue(), ...hint } as unknown as HintType;\r\n\t\tnewHint.unique ??= Symbol();\r\n\t\tnewHint.weight ??= 0;\r\n\t\tnewHint.text ??= '!';\r\n\t\tnewHint.path ??= [];\r\n\t\tthis.#hints.appendOne(newHint);\r\n\t\treturn hint.unique!;\r\n\t}\r\n\r\n\t/**\r\n\t * Add multiple rules\r\n\t * @param {HintType[]} hints - Array of hints to add\r\n\t */\r\n\tadd(hints: IncomingHintType[]) {\r\n\t\tthis.#hints.mute();\r\n\t\thints.forEach((hint) => this.addOne(hint));\r\n\t\tthis.#hints.unmute();\r\n\t}\r\n\r\n\t/**\r\n\t * Remove a hint\r\n\t * @param {HintType['unique']} unique Unique value of the hint to remove\r\n\t */\r\n\tremoveOne(unique: HintType['unique']) {\r\n\t\tthis.#hints.removeOne(unique);\r\n\t}\r\n\r\n\t/**\r\n\t * Remove multiple hints\r\n\t * @param {HintType['unique'][]} uniques Array of unique values to remove\r\n\t */\r\n\tremove(uniques: HintType['unique'][]) {\r\n\t\tthis.#hints.remove(uniques);\r\n\t}\r\n\r\n\t/**\r\n\t * Check if a hint exists\r\n\t * @param {HintType['unique']} unique Unique value of the hint to check\r\n\t * @returns {boolean} True if the hint exists, false otherwise\r\n\t */\r\n\thas(unique: HintType['unique']): boolean {\r\n\t\treturn this.#hints.getHasOne(unique);\r\n\t}\r\n\r\n\t/**\r\n\t * Get all hints\r\n\t * @returns {HintType[]} Array of hints\r\n\t */\r\n\tgetAll(): HintType[] {\r\n\t\treturn this.#hints.getValue();\r\n\t}\r\n\r\n\t/**\r\n\t * Clear all hints\r\n\t */\r\n\tclear(): void {\r\n\t\tthis.#hints.setValue([]);\r\n\t}\r\n\r\n\toverride destroy(): void {\r\n\t\tsuper.destroy();\r\n\t\tif (this.#inUnprovidingState === true) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.unprovide();\r\n\t\tthis.#parentHints = undefined;\r\n\t\tthis.#parent = undefined;\r\n\r\n\t\tthis.#hints.destroy();\r\n\t}\r\n}\r\n","import type { UmbHint, UmbIncomingHintBase } from '../types.js';\r\nimport { UMB_HINT_CONTEXT } from './hint.context-token.js';\r\nimport { UmbHintController, type UmbHintControllerArgs } from './hint.controller.js';\r\nimport type { UmbPartialSome } from '@umbraco-cms/backoffice/utils';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\n\r\nexport class UmbHintContext<\r\n\tHintType extends UmbHint = UmbHint,\r\n\tIncomingHintType extends UmbIncomingHintBase = UmbPartialSome<HintType, 'unique' | 'weight' | 'path'>,\r\n> extends UmbHintController<HintType, IncomingHintType> {\r\n\tconstructor(host: UmbControllerHost, args?: UmbHintControllerArgs<HintType>) {\r\n\t\tsuper(host, args);\r\n\t\tthis.provideContext(UMB_HINT_CONTEXT, this as unknown as UmbHintContext);\r\n\t}\r\n}\r\n"],"names":["UMB_HINT_CONTEXT","UmbContextToken","UmbHintController","UmbControllerBase","host","args","#scaffold","UmbObjectState","#hints","UmbArrayState","x","#receiveHints","hints","#parentHints","toRemove","hint","m","#viewAlias","#propagateHints","#parent","viewAlias","newPath","a","b","#pathFilter","filter","#inUnprovidingState","updates","#providerCtrl","#currentProvideHost","controllerHost","fn","parent","scaffold","newHint","unique","uniques","UmbHintContext"],"mappings":"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"}