{"version":3,"file":"index.js","sources":["../../../../src/packages/core/object-type/object-type.repository.ts","../../../../src/packages/core/object-type/input-object-type.element.ts"],"sourcesContent":["import { ObjectTypesService } from '@umbraco-cms/backoffice/external/backend-api';\r\nimport { UmbControllerBase } from '@umbraco-cms/backoffice/class-api';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport type { UmbApi } from '@umbraco-cms/backoffice/extension-api';\r\nimport { tryExecute } from '@umbraco-cms/backoffice/resources';\r\n\r\nexport class UmbObjectTypeRepository extends UmbControllerBase implements UmbApi {\r\n\t#host: UmbControllerHost;\r\n\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tsuper(host);\r\n\r\n\t\tthis.#host = host;\r\n\t}\r\n\r\n\tasync #read() {\r\n\t\treturn tryExecute(this.#host, ObjectTypesService.getObjectTypes({}));\r\n\t}\r\n\r\n\tasync read() {\r\n\t\tconst { data, error } = await this.#read();\r\n\r\n\t\treturn { data, error };\r\n\t}\r\n}\r\n","import { UmbObjectTypeRepository } from './object-type.repository.js';\r\nimport { html, customElement, property, query, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport type { UUISelectElement } from '@umbraco-cms/backoffice/external/uui';\r\nimport { UUIFormControlMixin } from '@umbraco-cms/backoffice/external/uui';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\n\r\n@customElement('umb-input-object-type')\r\nexport class UmbInputObjectTypeElement extends UUIFormControlMixin(UmbLitElement, '') {\r\n\t@query('uui-select')\r\n\tprivate _select!: UUISelectElement;\r\n\r\n\t@property()\r\n\tpublic override set value(value: UUISelectElement['value']) {\r\n\t\tthis._select.value = value;\r\n\t}\r\n\tpublic override get value(): UUISelectElement['value'] {\r\n\t\treturn this._select.value;\r\n\t}\r\n\r\n\t@state()\r\n\tprivate _options: UUISelectElement['options'] = [];\r\n\r\n\t#repository: UmbObjectTypeRepository;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.#repository = new UmbObjectTypeRepository(this);\r\n\r\n\t\tthis.#repository.read().then(({ data }) => {\r\n\t\t\tif (!data) return;\r\n\r\n\t\t\tthis._options = data.items.map((item) => ({ value: item.id, name: item.name ?? '' }));\r\n\t\t});\r\n\t}\r\n\r\n\tprotected override getFormElement() {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\t#onChange() {\r\n\t\tthis.dispatchEvent(new CustomEvent('change'));\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`<uui-select .options=${this._options} @change=${this.#onChange}></uui-select> `;\r\n\t}\r\n\r\n\tstatic override styles = [];\r\n}\r\n\r\nexport default UmbInputObjectTypeElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-input-object-type': UmbInputObjectTypeElement;\r\n\t}\r\n}\r\n"],"names":["UmbObjectTypeRepository","UmbControllerBase","#host","host","#read","tryExecute","ObjectTypesService","data","error","_repository","_UmbInputObjectTypeElement_instances","onChange_fn","UmbInputObjectTypeElement","UUIFormControlMixin","UmbLitElement","__privateAdd","__privateSet","__privateGet","item","value","html","__privateMethod","__decorateClass","query","property","state","customElement"],"mappings":";;;;;;AAMO,MAAMA,UAAgCC,EAAoC;AAAA,EAChFC;AAAA,EAEA,YAAYC,GAAyB;AACpC,UAAMA,CAAI,GAEV,KAAKD,KAAQC;AAAA,EACd;AAAA,EAEA,MAAMC,KAAQ;AACb,WAAOC,EAAW,KAAKH,IAAOI,EAAmB,eAAe,CAAA,CAAE,CAAC;AAAA,EACpE;AAAA,EAEA,MAAM,OAAO;AACZ,UAAM,EAAE,MAAAC,GAAM,OAAAC,EAAA,IAAU,MAAM,KAAKJ,GAAA;AAEnC,WAAO,EAAE,MAAAG,GAAM,OAAAC,EAAA;AAAA,EAChB;AACD;;;;;;;wYCxBAC,GAAAC,GAAAC;AAOO,IAAMC,IAAN,cAAwCC,EAAoBC,GAAe,EAAE,EAAE;AAAA,EAiBrF,cAAc;AACb,UAAA,GAlBKC,EAAA,MAAAL,CAAA,GAaN,KAAQ,WAAwC,CAAA,GAEhDK,EAAA,MAAAN,CAAA,GAKCO,EAAA,MAAKP,GAAc,IAAIT,EAAwB,IAAI,CAAA,GAEnDiB,EAAA,MAAKR,GAAY,KAAA,EAAO,KAAK,CAAC,EAAE,MAAAF,QAAW;AAC1C,MAAKA,MAEL,KAAK,WAAWA,EAAK,MAAM,IAAI,CAACW,OAAU,EAAE,OAAOA,EAAK,IAAI,MAAMA,EAAK,QAAQ,KAAK;AAAA,IACrF,CAAC;AAAA,EACF;AAAA,EAtBA,IAAoB,MAAMC,GAAkC;AAC3D,SAAK,QAAQ,QAAQA;AAAA,EACtB;AAAA,EACA,IAAoB,QAAmC;AACtD,WAAO,KAAK,QAAQ;AAAA,EACrB;AAAA,EAmBmB,iBAAiB;AAAA,EAEpC;AAAA,EAMS,SAAS;AACjB,WAAOC,yBAA4B,KAAK,QAAQ,YAAYC,QAAKX,GAAAC,CAAA,CAAS;AAAA,EAC3E;AAGD;AA3BCF,IAAA,oBAAA,QAAA;AAfMC,IAAA,oBAAA,QAAA;AAiCNC,IAAS,WAAG;AACX,OAAK,cAAc,IAAI,YAAY,QAAQ,CAAC;AAC7C;AAnCYC,EAyCI,SAAS,CAAA;AAvCjBU,EAAA;AAAA,EADPC,EAAM,YAAY;AAAA,GADPX,EAEJ,WAAA,WAAA,CAAA;AAGYU,EAAA;AAAA,EADnBE,EAAA;AAAS,GAJEZ,EAKQ,WAAA,SAAA,CAAA;AAQZU,EAAA;AAAA,EADPG,EAAA;AAAM,GAZKb,EAaJ,WAAA,YAAA,CAAA;AAbIA,IAANU,EAAA;AAAA,EADNI,EAAc,uBAAuB;AAAA,GACzBd,CAAA;"}