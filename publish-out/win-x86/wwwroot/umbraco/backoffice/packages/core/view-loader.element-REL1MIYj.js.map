{"version":3,"file":"view-loader.element-REL1MIYj.js","sources":["../../../src/packages/core/components/backoffice-modal-container/backoffice-modal-container.element.ts","../../../src/packages/core/components/backoffice-notification-container/backoffice-notification-container.element.ts","../../../src/packages/core/components/badge/badge.element.ts","../../../src/packages/core/components/body-layout/body-layout.element.ts","../../../src/packages/core/components/code-block/code-block.element.ts","../../../src/packages/core/components/dropdown/dropdown.element.ts","../../../src/packages/core/components/entity-actions-bundle/entity-actions-bundle.element.ts","../../../src/packages/core/components/footer-layout/footer-layout.element.ts","../../../src/packages/core/components/header-app/header-app-button.element.ts","../../../src/packages/core/components/history/history-item.element.ts","../../../src/packages/core/components/history/history-list.element.ts","../../../src/packages/core/components/icon/icon.element.ts","../../../src/packages/core/components/input-color/input-color.element.ts","../../../src/packages/core/components/input-date/input-date.element.ts","../../../src/packages/core/components/input-dropdown/input-dropdown-list.element.ts","../../../src/packages/core/components/input-entity/input-entity.element.ts","../../../src/packages/core/components/input-eye-dropper/input-eye-dropper.element.ts","../../../src/packages/core/components/input-manifest/input-manifest.element.ts","../../../src/packages/core/components/input-number-range/input-number-range.element.ts","../../../src/packages/core/components/input-radio-button-list/input-radio-button-list.element.ts","../../../src/packages/core/components/input-slider/input-slider.element.ts","../../../src/packages/core/components/input-toggle/input-toggle.element.ts","../../../src/packages/core/components/input-with-alias/input-with-alias.element.ts","../../../src/packages/core/components/multiple-color-picker-input/multiple-color-picker-input.element.ts","../../../src/packages/core/components/multiple-color-picker-input/multiple-color-picker-item-input.element.ts","../../../src/packages/core/components/multiple-text-string-input/input-multiple-text-string.element.ts","../../../src/packages/core/components/multiple-text-string-input/input-multiple-text-string-item.element.ts","../../../src/packages/core/components/popover-layout/popover-layout.element.ts","../../../src/packages/core/components/ref-item/ref-item.element.ts","../../../src/packages/core/components/split-panel/split-panel.element.ts","../../../src/packages/core/components/stack/stack.element.ts","../../../src/packages/core/components/table/table.element.ts","../../../src/packages/core/components/view-loader/view-loader.element.ts"],"sourcesContent":["import { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport type { CSSResultGroup } from '@umbraco-cms/backoffice/external/lit';\r\nimport { css, html, repeat, customElement, state, nothing, property } from '@umbraco-cms/backoffice/external/lit';\r\nimport type { UmbModalManagerContext, UmbModalContext } from '@umbraco-cms/backoffice/modal';\r\nimport { UMB_MODAL_MANAGER_CONTEXT, UmbModalElement } from '@umbraco-cms/backoffice/modal';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\n\r\n@customElement('umb-backoffice-modal-container')\r\nexport class UmbBackofficeModalContainerElement extends UmbLitElement {\r\n\t@state()\r\n\tprivate _modalElementMap: Map<string, UmbModalElement> = new Map();\r\n\r\n\t@state()\r\n\tprivate _modals: Array<UmbModalContext> = [];\r\n\r\n\t@property({ type: Boolean, reflect: true, attribute: 'fill-background' })\r\n\tfillBackground = false;\r\n\r\n\tprivate _modalManager?: UmbModalManagerContext;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_MODAL_MANAGER_CONTEXT, (instance) => {\r\n\t\t\t//TODO: This is being called way to many times if first page load includes an open modal.\r\n\t\t\tthis._modalManager = instance;\r\n\t\t\tthis._observeModals();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate _observeModals() {\r\n\t\tif (!this._modalManager) return;\r\n\t\tthis.observe(this._modalManager.modals, (modals) => {\r\n\t\t\tthis.#createModalElements(modals);\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * We cannot render the umb-modal element directly in the uui-modal-container because it wont get recognized by UUI.\r\n\t *  We therefore have a helper class which creates the uui-modal element and returns it.\r\n\t * @param modals\r\n\t */\r\n\t#createModalElements(modals: Array<UmbModalContext>) {\r\n\t\tthis.fillBackground = false;\r\n\t\tconst oldValue = this._modals;\r\n\t\tthis._modals = modals;\r\n\r\n\t\tconst oldModals = oldValue.filter((oldModal) => !modals.some((modal) => modal.key === oldModal.key));\r\n\r\n\t\toldModals.forEach((modal) => {\r\n\t\t\t// TODO: I would not think this works as expected, the callback method has to be the exact same instance as the one added: [NL]\r\n\t\t\tconst modalElement = this._modalElementMap.get(modal.key);\r\n\t\t\tmodalElement?.removeEventListener('close-end', this.#onCloseEnd.bind(this, modal.key));\r\n\t\t\tmodalElement?.destroy();\r\n\t\t\tthis._modalElementMap.delete(modal.key);\r\n\t\t\tmodal.destroy();\r\n\t\t});\r\n\r\n\t\tif (this._modals.length === 0) {\r\n\t\t\t//this._modalElementMap.clear(); // should not make a difference now that we clean it above. [NL]\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._modals.forEach(async (modalContext) => {\r\n\t\t\tif (this._modalElementMap.has(modalContext.key)) return;\r\n\r\n\t\t\tconst modalElement = new UmbModalElement();\r\n\t\t\tawait modalElement.init(modalContext);\r\n\r\n\t\t\tmodalElement.element?.addEventListener('close-end', this.#onCloseEnd.bind(this, modalContext.key));\r\n\t\t\tmodalContext.addEventListener('umb:destroy', this.#onCloseEnd.bind(this, modalContext.key));\r\n\r\n\t\t\tthis._modalElementMap.set(modalContext.key, modalElement);\r\n\r\n\t\t\t// If any of the modals are fillBackground, set the fillBackground property to true\r\n\t\t\tif (modalContext.backdropBackground) {\r\n\t\t\t\tthis.fillBackground = true;\r\n\t\t\t\tthis.shadowRoot\r\n\t\t\t\t\t?.getElementById('container')\r\n\t\t\t\t\t?.style.setProperty('--backdrop-background', modalContext.backdropBackground);\r\n\t\t\t}\r\n\r\n\t\t\tthis.requestUpdate('_modalElementMap');\r\n\t\t});\r\n\t}\r\n\r\n\t#onCloseEnd(key: string) {\r\n\t\tthis._modalManager?.remove(key);\r\n\t}\r\n\r\n\t#renderModal(key: string) {\r\n\t\tconst modalElement = this._modalElementMap.get(key);\r\n\t\tif (!modalElement) return nothing;\r\n\r\n\t\treturn modalElement.render();\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<uui-modal-container id=\"container\">\r\n\t\t\t\t${this._modals.length > 0\r\n\t\t\t\t\t? repeat(\r\n\t\t\t\t\t\t\tthis._modals,\r\n\t\t\t\t\t\t\t(modal) => modal.key,\r\n\t\t\t\t\t\t\t(modal) => this.#renderModal(modal.key),\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t: ''}\r\n\t\t\t</uui-modal-container>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles: CSSResultGroup = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tz-index: 1000;\r\n\t\t\t}\r\n\r\n\t\t\t:host([fill-background]) {\r\n\t\t\t\t--uui-modal-dialog-border-radius: 0;\r\n\t\t\t\t--uui-shadow-depth-5: 0;\r\n\t\t\t}\r\n\r\n\t\t\t:host([fill-background]) #container::after {\r\n\t\t\t\tbackground: var(--backdrop-background);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-backoffice-modal-container': UmbBackofficeModalContainerElement;\r\n\t}\r\n}\r\n","import { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport type { CSSResultGroup } from '@umbraco-cms/backoffice/external/lit';\r\nimport { css, html, customElement, state, repeat, query } from '@umbraco-cms/backoffice/external/lit';\r\nimport type { UmbNotificationHandler, UmbNotificationContext } from '@umbraco-cms/backoffice/notification';\r\nimport { UMB_NOTIFICATION_CONTEXT } from '@umbraco-cms/backoffice/notification';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\n\r\n@customElement('umb-backoffice-notification-container')\r\nexport class UmbBackofficeNotificationContainerElement extends UmbLitElement {\r\n\t@query('#notifications')\r\n\tprivate _notificationsElement?: HTMLElement;\r\n\r\n\t@query('#sr-live') private _srLive?: HTMLDivElement;\r\n\r\n\t@state()\r\n\tprivate _notifications?: UmbNotificationHandler[];\r\n\r\n\tprivate _notificationContext?: UmbNotificationContext;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_NOTIFICATION_CONTEXT, (instance) => {\r\n\t\t\tthis._notificationContext = instance;\r\n\t\t\tthis._observeNotifications();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate _observeNotifications() {\r\n\t\tif (!this._notificationContext) return;\r\n\r\n\t\tthis.observe(this._notificationContext.notifications, (notifications) => {\r\n\t\t\tthis._notifications = notifications;\r\n\t\t\t// Close and instantly open the popover again to make sure it stays on top of all other content on the page\r\n\t\t\t// TODO: This ignorer is just needed for JSON SCHEMA TO WORK, As its not updated with latest TS jet.\r\n\t\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n\t\t\t// @ts-ignore\r\n\t\t\tthis._notificationsElement?.hidePopover?.(); // To prevent issues in FireFox I added `?.` before `()`  [NL]\r\n\t\t\t// TODO: This ignorer is just needed for JSON SCHEMA TO WORK, As its not updated with latest TS jet.\r\n\t\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n\t\t\t// @ts-ignore\r\n\t\t\tthis._notificationsElement?.showPopover?.(); // To prevent issues in FireFox I added `?.` before `()`  [NL]\r\n\r\n\t\t\t//Announce the newest notification\r\n\t\t\tthis._announceNewest(this._notifications);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate _getNotificationText(notificatonData: UmbNotificationHandler): string {\r\n\t\t//Trick to be able to access to the data(notification messagge) inside a private propertity\r\n\t\tconst data = (notificatonData as any)._data ?? {};\r\n\t\tconst notificationText = data.message ?? '';\r\n\t\treturn notificationText;\r\n\t}\r\n\r\n\tprivate _announce(message: string) {\r\n\t\tif (!this._srLive) return;\r\n\t\tthis._srLive.textContent = 'u00A0'; //to avoid same text suppression\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis._srLive!.textContent = message || '';\r\n\t\t}, 0);\r\n\t}\r\n\r\n\tprivate _announceNewest(list?: UmbNotificationHandler[]) {\r\n\t\tconst newest = list?.[list.length - 1];\r\n\t\tif (!newest) return;\r\n\t\tthis._announce(this._getNotificationText(newest));\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<uui-toast-notification-container bottom-up id=\"notifications\" popover=\"manual\">\r\n\t\t\t\t${this._notifications\r\n\t\t\t\t\t? repeat(\r\n\t\t\t\t\t\t\tthis._notifications,\r\n\t\t\t\t\t\t\t(notification: UmbNotificationHandler) => notification.key,\r\n\t\t\t\t\t\t\t(notification) => html`${notification.element} `,\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t: ''}\r\n\t\t\t</uui-toast-notification-container>\r\n\t\t\t<div id=\"sr-live\" aria-live=\"assertive\" aria-role=\"true\"></div>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles: CSSResultGroup = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t#notifications {\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tright: 0;\r\n\t\t\t\tbottom: 45px;\r\n\t\t\t\theight: auto;\r\n\t\t\t\tpadding: var(--uui-size-layout-1);\r\n\t\t\t\tposition: fixed;\r\n\t\t\t\twidth: 100vw;\r\n\t\t\t\tbackground: 0;\r\n\t\t\t\toutline: 0;\r\n\t\t\t\tborder: 0;\r\n\t\t\t\tmargin: 0;\r\n\t\t\t}\r\n\t\t\t#sr-live {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\twidth: 1px;\r\n\t\t\t\theight: 1px;\r\n\t\t\t\tpadding: 0;\r\n\t\t\t\tmargin: -1px;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\tclip: rect(0 0 0 0);\r\n\t\t\t\tclip-path: inset(50%);\r\n\t\t\t\tborder: 0;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-backoffice-notification-container': UmbBackofficeNotificationContainerElement;\r\n\t}\r\n}\r\n","import { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { html, customElement, property, css, LitElement, ifDefined } from '@umbraco-cms/backoffice/external/lit';\r\nimport type { UUIInterfaceColor, UUIInterfaceLook } from '@umbraco-cms/backoffice/external/uui';\r\n\r\n/**\r\n * @element umb-badge\r\n * @description A wrapper for the uui-badge component with position fixed support to go on top of other elements.\r\n * @augments {LitElement}\r\n */\r\n@customElement('umb-badge')\r\nexport class UmbBadgeElement extends LitElement {\r\n\t/**\r\n\t * Changes the look of the button to one of the predefined, symbolic looks.\r\n\t * @type {\"default\" | \"positive\" | \"warning\" | \"danger\"}\r\n\t * @attr\r\n\t * @default \"default\"\r\n\t */\r\n\t@property({ type: String })\r\n\tcolor?: UUIInterfaceColor;\r\n\r\n\t/**\r\n\t * Changes the look of the button to one of the predefined, symbolic looks.\r\n\t * @type {\"default\" | \"primary\" | \"secondary\" | \"outline\" | \"placeholder\"}\r\n\t * @attr\r\n\t * @default \"default\"\r\n\t */\r\n\t@property({ type: String })\r\n\tlook?: UUIInterfaceLook;\r\n\r\n\t/**\r\n\t * Bring attention to this badge by applying a bounce animation.\r\n\t * @type boolean\r\n\t * @attr\r\n\t * @default false\r\n\t */\r\n\t@property({ type: Boolean })\r\n\tattention?: boolean;\r\n\r\n\toverride render() {\r\n\t\treturn html`<uui-badge color=${ifDefined(this.color)} look=${ifDefined(this.look)} ?attention=${this.attention}\r\n\t\t\t><slot></slot\r\n\t\t></uui-badge>`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tanchor-name: --umb-badge-anchor;\r\n\t\t\t\t/** because inset has no effect on uui-badge in this case, we then apply it here: */\r\n\t\t\t\tinset: var(--uui-badge-inset, -8px -8px auto auto);\r\n\t\t\t}\r\n\r\n\t\t\t@supports (position-anchor: --my-name) {\r\n\t\t\t\tuui-badge {\r\n\t\t\t\t\tposition: fixed;\r\n\t\t\t\t\tposition-anchor: --umb-badge-anchor;\r\n\t\t\t\t\tz-index: 1;\r\n\t\t\t\t\ttop: anchor(top);\r\n\t\t\t\t\tright: anchor(right);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-badge': UmbBadgeElement;\r\n\t}\r\n}\r\n","import { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport {\r\n\tcss,\r\n\thtml,\r\n\tLitElement,\r\n\tnothing,\r\n\tcustomElement,\r\n\tproperty,\r\n\tstate,\r\n\tquery,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\n\r\n//TODO: Add the following attributes to JSDocs: header-transparent, main-no-padding, header-no-padding, header-fit-height\r\n\r\n/**\r\n * @element umb-body-layout\r\n * @description Layout element to arrange elements in a body layout. A general layout for most views.\r\n * @slot - Slot for main content\r\n * @slot icon - Slot for icon\r\n * @slot name - Slot for name\r\n * @slot header - Slot for header element\r\n * @slot footer - Slot for footer element\r\n * @slot footer-info - Slot for info in the footer\r\n * @slot actions - Slot for actions in the footer\r\n * @slot default - slot for main content\r\n * @class UmbBodyLayout\r\n * @augments {UmbLitElement}\r\n */\r\n@customElement('umb-body-layout')\r\nexport class UmbBodyLayoutElement extends LitElement {\r\n\t@query('#main')\r\n\tprivate _scrollContainer?: HTMLElement;\r\n\r\n\t@property()\r\n\tpublic headline = '';\r\n\r\n\t@property({ type: Boolean, reflect: true, attribute: 'header-transparent' })\r\n\tpublic headerTransparent = false;\r\n\r\n\t@property({ type: Boolean })\r\n\tloading = false;\r\n\r\n\t@state()\r\n\tprivate _headerSlotHasChildren = false;\r\n\r\n\t@state()\r\n\tprivate _navigationSlotHasChildren = false;\r\n\r\n\t@state()\r\n\tprivate _actionsMenuSlotHasChildren = false;\r\n\r\n\t@state()\r\n\tprivate _footerSlotHasChildren = false;\r\n\r\n\t@state()\r\n\tprivate _actionsSlotHasChildren = false;\r\n\r\n\t#hasNodes = (e: Event) => {\r\n\t\treturn (e.target as HTMLSlotElement).assignedNodes({ flatten: true }).length > 0;\r\n\t};\r\n\r\n\toverride connectedCallback(): void {\r\n\t\tsuper.connectedCallback();\r\n\t\tif (this.headerTransparent) {\r\n\t\t\trequestAnimationFrame(() => {\r\n\t\t\t\tthis._scrollContainer?.addEventListener('scroll', this.#onScroll);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\toverride disconnectedCallback(): void {\r\n\t\tsuper.disconnectedCallback();\r\n\t\tthis._scrollContainer?.removeEventListener('scroll', this.#onScroll);\r\n\t}\r\n\r\n\t#onScroll = () => {\r\n\t\tif (!this._scrollContainer) return;\r\n\t\tthis.toggleAttribute('scrolling', this._scrollContainer.scrollTop > 0);\r\n\t};\r\n\r\n\t#setSlotVisibility(target: HTMLElement, hasChildren: boolean) {\r\n\t\ttarget.style.display = hasChildren ? 'flex' : 'none';\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<div\r\n\t\t\t\tid=\"header\"\r\n\t\t\t\tstyle=\"display: ${this.headline ||\r\n\t\t\t\tthis._headerSlotHasChildren ||\r\n\t\t\t\tthis._actionsMenuSlotHasChildren ||\r\n\t\t\t\tthis._navigationSlotHasChildren\r\n\t\t\t\t\t? ''\r\n\t\t\t\t\t: 'none'}\">\r\n\t\t\t\t${this.headline ? html`<h3 id=\"headline\">${this.headline}</h3>` : nothing}\r\n\r\n\t\t\t\t<slot\r\n\t\t\t\t\tid=\"header-slot\"\r\n\t\t\t\t\tname=\"header\"\r\n\t\t\t\t\t@slotchange=${(e: Event) => {\r\n\t\t\t\t\t\tthis._headerSlotHasChildren = this.#hasNodes(e);\r\n\t\t\t\t\t\tthis.#setSlotVisibility(e.target as HTMLElement, this._headerSlotHasChildren);\r\n\t\t\t\t\t}}></slot>\r\n\t\t\t\t<slot\r\n\t\t\t\t\tid=\"action-menu-slot\"\r\n\t\t\t\t\tname=\"action-menu\"\r\n\t\t\t\t\t@slotchange=${(e: Event) => {\r\n\t\t\t\t\t\tthis._actionsMenuSlotHasChildren = this.#hasNodes(e);\r\n\t\t\t\t\t\tthis.#setSlotVisibility(e.target as HTMLElement, this._actionsMenuSlotHasChildren);\r\n\t\t\t\t\t}}></slot>\r\n\t\t\t\t<slot\r\n\t\t\t\t\tid=\"navigation-slot\"\r\n\t\t\t\t\tname=\"navigation\"\r\n\t\t\t\t\t@slotchange=${(e: Event) => {\r\n\t\t\t\t\t\tthis._navigationSlotHasChildren = this.#hasNodes(e);\r\n\t\t\t\t\t\tthis.#setSlotVisibility(e.target as HTMLElement, this._navigationSlotHasChildren);\r\n\t\t\t\t\t}}></slot>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- This div should be changed for the uui-scroll-container when it gets updated -->\r\n\t\t\t<div id=\"main\">\r\n\t\t\t\t${this.loading ? html`<uui-loader-bar></uui-loader-bar>` : nothing}\r\n\t\t\t\t<slot></slot>\r\n\t\t\t</div>\r\n\r\n\t\t\t<slot name=\"footer\"></slot>\r\n\t\t\t<umb-footer-layout style=\"display:${this._footerSlotHasChildren || this._actionsSlotHasChildren ? '' : 'none'}\">\r\n\t\t\t\t<slot\r\n\t\t\t\t\tname=\"footer-info\"\r\n\t\t\t\t\t@slotchange=${(e: Event) => {\r\n\t\t\t\t\t\tthis._footerSlotHasChildren = this.#hasNodes(e);\r\n\t\t\t\t\t}}></slot>\r\n\t\t\t\t<slot\r\n\t\t\t\t\tname=\"actions\"\r\n\t\t\t\t\tslot=\"actions\"\r\n\t\t\t\t\t@slotchange=${(e: Event) => {\r\n\t\t\t\t\t\tthis._actionsSlotHasChildren = this.#hasNodes(e);\r\n\t\t\t\t\t}}></slot>\r\n\t\t\t</umb-footer-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tbackground-color: var(--umb-body-layout-color-background, var(--uui-color-background));\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t}\r\n\r\n\t\t\t#header {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: var(--umb-header-layout-height);\r\n\t\t\t\tbackground-color: var(--uui-color-surface);\r\n\t\t\t\tborder-bottom: 1px solid var(--uui-color-border);\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tz-index: 1;\r\n\t\t\t}\r\n\t\t\t:host([header-transparent]) #header {\r\n\t\t\t\tbackground-color: transparent;\r\n\t\t\t\tborder-color: transparent;\r\n\t\t\t\ttransition: box-shadow 150ms ease-in-out;\r\n\t\t\t\tbox-shadow: 0 -1px 0px 0px rgba(0, 0, 0, 0.5);\r\n\t\t\t}\r\n\t\t\t:host([header-transparent][scrolling]) #header {\r\n\t\t\t\t/* This should be using the uui-shadows but for now they are too drastic for this use case */\r\n\t\t\t\tbox-shadow: 0 1px 15px 0 rgba(0, 0, 0, 0.2);\r\n\t\t\t}\r\n\t\t\t:host([header-fit-height][header-transparent]:not([header-no-padding])) #header-slot {\r\n\t\t\t\tpadding: var(--uui-size-layout-1);\r\n\t\t\t}\r\n\t\t\t:host([header-fit-height]) #header {\r\n\t\t\t\theight: fit-content;\r\n\t\t\t}\r\n\t\t\t#header-slot {\r\n\t\t\t\tpadding: 0 var(--uui-size-layout-1);\r\n\t\t\t\tflex-grow: 1;\r\n\t\t\t}\r\n\t\t\t:host([header-no-padding]) #header-slot {\r\n\t\t\t\tpadding: 0;\r\n\t\t\t}\r\n\r\n\t\t\t:host([header-transparent]:not([main-no-padding])) #main:not(*[style='display: none'] + *) {\r\n\t\t\t\t/* The following styling is only applied if the clear-header IS present,\r\n\t\t\t\tthe main-no-padding attribute is NOT present, and the header is NOT hidden */\r\n\t\t\t\tpadding-top: var(--uui-size-space-2);\r\n\t\t\t}\r\n\t\t\t:host([main-no-padding]) #main {\r\n\t\t\t\tpadding: 0;\r\n\t\t\t}\r\n\r\n\t\t\t#header-slot,\r\n\t\t\t#action-menu-slot,\r\n\t\t\t#navigation-slot {\r\n\t\t\t\tdisplay: none;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tmin-width: 0;\r\n\t\t\t}\r\n\t\t\t#navigation-slot {\r\n\t\t\t\tmargin-left: auto;\r\n\t\t\t}\r\n\r\n\t\t\t#headline {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tmargin: 0 var(--uui-size-layout-1);\r\n\t\t\t}\r\n\r\n\t\t\t#main {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\toverflow-y: auto;\r\n\t\t\t\tpadding: var(--uui-size-layout-1);\r\n\t\t\t}\r\n\r\n\t\t\t#main > slot::slotted(*:first-child) {\r\n\t\t\t\tpadding-top: 0;\r\n\t\t\t\tmargin-top: 0;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-body-layout': UmbBodyLayoutElement;\r\n\t}\r\n}\r\n","import { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { css, customElement, html, property, state, when, LitElement } from '@umbraco-cms/backoffice/external/lit';\r\n\r\n//TODO consider adding a highlight prop to the code block, that could spin up/access monaco instance and highlight the code\r\n\r\n/**\r\n *  A simple styled box for showing code-based error messages or blocks od code.\r\n *  @slot - the default slot where the full message resides\r\n */\r\n@customElement('umb-code-block')\r\nexport class UmbCodeBlockElement extends LitElement {\r\n\t@property()\r\n\tlanguage = '';\r\n\r\n\t@property({ type: Boolean })\r\n\tcopy = false;\r\n\r\n\t@state()\r\n\tprivate _copyState: 'idle' | 'success' = 'idle';\r\n\r\n\tasync copyCode() {\r\n\t\tconst text = this.textContent;\r\n\t\tif (text) {\r\n\t\t\tawait navigator.clipboard.writeText(text);\r\n\t\t\tthis._copyState = 'success';\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis._copyState = 'idle';\r\n\t\t\t}, 2000);\r\n\t\t}\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t${this.#renderHeader()}\r\n\t\t\t<pre><uui-scroll-container><code><slot></slot></code></uui-scroll-container></pre>\r\n\t\t`; // Avoid breaks between elements of <pre></pre>\r\n\t}\r\n\r\n\t#renderHeader() {\r\n\t\tif (!this.language && !this.copy) return;\r\n\t\treturn html`\r\n\t\t\t<div id=\"header\">\r\n\t\t\t\t<span id=\"lang\">${this.language}</span>\r\n\t\t\t\t${when(\r\n\t\t\t\t\tthis.copy,\r\n\t\t\t\t\t() => html`\r\n\t\t\t\t\t\t<uui-button color=${this._copyState === 'idle' ? 'default' : 'positive'} @click=${this.copyCode}>\r\n\t\t\t\t\t\t\t${when(\r\n\t\t\t\t\t\t\t\tthis._copyState === 'idle',\r\n\t\t\t\t\t\t\t\t() => html`<uui-icon name=\"copy\"></uui-icon> <umb-localize key=\"general_copy\">Copy</umb-localize>`,\r\n\t\t\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\t\t\thtml`<uui-icon name=\"check\"></uui-icon> <umb-localize key=\"general_copied\">Copied!</umb-localize>`,\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</uui-button>\r\n\t\t\t\t\t`,\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override readonly styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tborder: 1px solid var(--uui-color-divider-emphasis);\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t}\r\n\r\n\t\t\tuui-scroll-container {\r\n\t\t\t\toverflow-y: auto;\r\n\t\t\t\toverflow-wrap: anywhere;\r\n\t\t\t}\r\n\r\n\t\t\tpre {\r\n\t\t\t\tfont-family: monospace;\r\n\t\t\t\tbackground-color: var(--uui-color-surface-alt);\r\n\t\t\t\tcolor: #303033;\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tmargin: 0;\r\n\t\t\t\toverflow-x: auto;\r\n\t\t\t\tpadding: 9.5px;\r\n\t\t\t}\r\n\r\n\t\t\tpre,\r\n\t\t\tcode {\r\n\t\t\t\tword-wrap: normal;\r\n\t\t\t\twhite-space: pre;\r\n\t\t\t}\r\n\r\n\t\t\t#header {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tbackground-color: var(--uui-color-surface-alt);\r\n\t\t\t\tborder-bottom: 1px solid var(--uui-color-divider-emphasis);\r\n\t\t\t}\r\n\r\n\t\t\t#lang {\r\n\t\t\t\tmargin-left: 16px;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t}\r\n\r\n\t\t\tbutton {\r\n\t\t\t\tfont-family: inherit;\r\n\t\t\t\tpadding: 6px 16px;\r\n\t\t\t\tbackground-color: transparent;\r\n\t\t\t\tborder: none;\r\n\t\t\t\tborder-left: 1px solid var(--uui-color-divider-emphasis);\r\n\t\t\t\tborder-radius: 0;\r\n\t\t\t\tcolor: #000;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: 8px;\r\n\t\t\t}\r\n\r\n\t\t\tbutton:hover {\r\n\t\t\t\tbackground-color: var(--uui-color-surface-emphasis);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-code-block': UmbCodeBlockElement;\r\n\t}\r\n}\r\n","import type {\r\n\tUUIInterfaceColor,\r\n\tUUIInterfaceLook,\r\n\tPopoverContainerPlacement,\r\n\tUUIPopoverContainerElement,\r\n} from '@umbraco-cms/backoffice/external/uui';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { css, html, customElement, property, query, when } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbClosedEvent, UmbOpenedEvent } from '@umbraco-cms/backoffice/event';\r\n\r\n// TODO: maybe move this to UI Library.\r\n@customElement('umb-dropdown')\r\nexport class UmbDropdownElement extends UmbLitElement {\r\n\t#open = false;\r\n\r\n\t@property({ type: Boolean, reflect: true })\r\n\tpublic get open() {\r\n\t\treturn this.#open;\r\n\t}\r\n\tpublic set open(value) {\r\n\t\tthis.#open = value;\r\n\r\n\t\tif (value === true && this.popoverContainerElement) {\r\n\t\t\tthis.openDropdown();\r\n\t\t} else {\r\n\t\t\tthis.closeDropdown();\r\n\t\t}\r\n\t}\r\n\r\n\t@property()\r\n\tlabel?: string;\r\n\r\n\t@property()\r\n\tlook: UUIInterfaceLook = 'default';\r\n\r\n\t@property()\r\n\tcolor: UUIInterfaceColor = 'default';\r\n\r\n\t@property()\r\n\tplacement: PopoverContainerPlacement = 'bottom-start';\r\n\r\n\t@property({ type: Boolean })\r\n\tcompact = false;\r\n\r\n\t@property({ type: Boolean, attribute: 'hide-expand' })\r\n\thideExpand = false;\r\n\r\n\t@query('#dropdown-popover')\r\n\tpopoverContainerElement?: UUIPopoverContainerElement;\r\n\r\n\topenDropdown() {\r\n\t\t// TODO: This ignorer is just needed for JSON SCHEMA TO WORK, As its not updated with latest TS jet.\r\n\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n\t\t// @ts-ignore\r\n\t\tthis.popoverContainerElement?.showPopover();\r\n\t\tthis.#open = true;\r\n\t}\r\n\r\n\tcloseDropdown() {\r\n\t\t// TODO: This ignorer is just needed for JSON SCHEMA TO WORK, As its not updated with latest TS jet.\r\n\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n\t\t// @ts-ignore\r\n\t\tthis.popoverContainerElement?.hidePopover();\r\n\t\tthis.#open = false;\r\n\t}\r\n\r\n\t#onToggle(event: ToggleEvent) {\r\n\t\t// TODO: This ignorer is just needed for JSON SCHEMA TO WORK, As its not updated with latest TS jet.\r\n\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n\t\t// @ts-ignore\r\n\t\tthis.open = event.newState === 'open';\r\n\r\n\t\tif (this.open) {\r\n\t\t\tthis.dispatchEvent(new UmbOpenedEvent());\r\n\t\t} else {\r\n\t\t\tthis.dispatchEvent(new UmbClosedEvent());\r\n\t\t}\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<uui-button\r\n\t\t\t\tid=\"dropdown-button\"\r\n\t\t\t\tpopovertarget=\"dropdown-popover\"\r\n\t\t\t\tdata-mark=\"open-dropdown\"\r\n\t\t\t\t.look=${this.look}\r\n\t\t\t\t.color=${this.color}\r\n\t\t\t\t.label=${this.label ?? ''}\r\n\t\t\t\t.compact=${this.compact}>\r\n\t\t\t\t<slot name=\"label\"></slot>\r\n\t\t\t\t${when(\r\n\t\t\t\t\t!this.hideExpand,\r\n\t\t\t\t\t() => html`<uui-symbol-expand id=\"symbol-expand\" .open=${this.#open}></uui-symbol-expand>`,\r\n\t\t\t\t)}\r\n\t\t\t</uui-button>\r\n\t\t\t<uui-popover-container id=\"dropdown-popover\" .placement=${this.placement} @toggle=${this.#onToggle}>\r\n\t\t\t\t<umb-popover-layout>\r\n\t\t\t\t\t<slot></slot>\r\n\t\t\t\t</umb-popover-layout>\r\n\t\t\t</uui-popover-container>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t#dropdown-button {\r\n\t\t\t\tmin-width: max-content;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\t\t\t:host(:not([hide-expand]):not([compact])) #dropdown-button {\r\n\t\t\t\t--uui-button-padding-right-factor: 2;\r\n\t\t\t}\r\n\r\n\t\t\t:host(:not([compact])) #symbol-expand {\r\n\t\t\t\tmargin-left: var(--uui-size-space-2);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-dropdown': UmbDropdownElement;\r\n\t}\r\n}\r\n","import { UmbEntityContext } from '../../entity/entity.context.js';\r\nimport { css, customElement, html, ifDefined, nothing, property, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { umbExtensionsRegistry } from '@umbraco-cms/backoffice/extension-registry';\r\nimport { UmbExtensionsManifestInitializer, createExtensionApi } from '@umbraco-cms/backoffice/extension-api';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport type { PropertyValueMap } from '@umbraco-cms/backoffice/external/lit';\r\nimport type { UmbEntityAction, ManifestEntityActionDefaultKind } from '@umbraco-cms/backoffice/entity-action';\r\n\r\n@customElement('umb-entity-actions-bundle')\r\nexport class UmbEntityActionsBundleElement extends UmbLitElement {\r\n\t@property({ type: String, attribute: 'entity-type' })\r\n\tentityType?: string;\r\n\r\n\t@property({ type: String })\r\n\tunique?: string | null;\r\n\r\n\t@property({ type: String })\r\n\tpublic label?: string;\r\n\r\n\t@state()\r\n\tprivate _numberOfActions = 0;\r\n\r\n\t@state()\r\n\tprivate _firstActionManifest?: ManifestEntityActionDefaultKind;\r\n\r\n\t@state()\r\n\tprivate _firstActionApi?: UmbEntityAction<unknown>;\r\n\r\n\t@state()\r\n\tprivate _firstActionHref?: string;\r\n\r\n\t// TODO: provide the entity context on a higher level, like the root element of this entity, tree-item/workspace/... [NL]\r\n\t#entityContext = new UmbEntityContext(this);\r\n\t#inViewport = false;\r\n\t#observingEntityActions = false;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\t// Only observe entity actions when the element is in the viewport\r\n\t\tconst observer = new IntersectionObserver(\r\n\t\t\t(entries) => {\r\n\t\t\t\tentries.forEach((entry) => {\r\n\t\t\t\t\tif (entry.isIntersecting) {\r\n\t\t\t\t\t\tthis.#inViewport = true;\r\n\t\t\t\t\t\tthis.#observeEntityActions();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\troot: null, // Use the viewport as the root\r\n\t\t\t\tthreshold: 0.1, // Trigger when at least 10% of the element is visible\r\n\t\t\t},\r\n\t\t);\r\n\r\n\t\tobserver.observe(this);\r\n\t}\r\n\r\n\tprotected override updated(_changedProperties: PropertyValueMap<any> | Map<PropertyKey, unknown>): void {\r\n\t\tif (_changedProperties.has('entityType') && _changedProperties.has('unique')) {\r\n\t\t\tthis.#entityContext.setEntityType(this.entityType);\r\n\t\t\tthis.#entityContext.setUnique(this.unique ?? null);\r\n\t\t\tthis.#observeEntityActions();\r\n\t\t}\r\n\t}\r\n\r\n\t#observeEntityActions() {\r\n\t\tif (!this.entityType) return;\r\n\t\tif (this.unique === undefined) return;\r\n\t\tif (!this.#inViewport) return; // Only observe if the element is in the viewport\r\n\t\tif (this.#observingEntityActions) return;\r\n\r\n\t\tnew UmbExtensionsManifestInitializer(\r\n\t\t\tthis,\r\n\t\t\tumbExtensionsRegistry,\r\n\t\t\t'entityAction',\r\n\t\t\t(ext) => ext.forEntityTypes.includes(this.entityType!),\r\n\t\t\tasync (actions) => {\r\n\t\t\t\tthis._numberOfActions = actions.length;\r\n\t\t\t\tconst oldFirstManifest = this._firstActionManifest;\r\n\t\t\t\tthis._firstActionManifest =\r\n\t\t\t\t\tthis._numberOfActions > 0 ? (actions[0].manifest as ManifestEntityActionDefaultKind) : undefined;\r\n\t\t\t\tawait this.#createFirstActionApi();\r\n\t\t\t\tthis.requestUpdate('_firstActionManifest', oldFirstManifest);\r\n\t\t\t},\r\n\t\t\t'umbEntityActionsObserver',\r\n\t\t);\r\n\r\n\t\tthis.#observingEntityActions = true;\r\n\t}\r\n\r\n\tasync #createFirstActionApi() {\r\n\t\tif (!this._firstActionManifest) return;\r\n\t\tconst oldFirstApi = this._firstActionApi;\r\n\t\tthis._firstActionApi = await createExtensionApi(this, this._firstActionManifest, [\r\n\t\t\t{ unique: this.unique, entityType: this.entityType, meta: this._firstActionManifest.meta },\r\n\t\t]);\r\n\t\tif (this._firstActionApi) {\r\n\t\t\t(this._firstActionApi as any).manifest = this._firstActionManifest;\r\n\t\t\tthis._firstActionHref = await this._firstActionApi.getHref();\r\n\t\t}\r\n\t\tthis.requestUpdate('_firstActionApi', oldFirstApi);\r\n\t}\r\n\r\n\tasync #onFirstActionClick(event: PointerEvent) {\r\n\t\t// skip if href is defined\r\n\t\tif (this._firstActionHref) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tevent.stopPropagation();\r\n\t\tawait this._firstActionApi?.execute().catch(() => {});\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tif (this._numberOfActions === 0) return nothing;\r\n\t\treturn html`<uui-action-bar slot=\"actions\">${this.#renderMore()}${this.#renderFirstAction()}</uui-action-bar>`;\r\n\t}\r\n\r\n\t#renderMore() {\r\n\t\tif (this._numberOfActions === 1) return nothing;\r\n\t\treturn html`\r\n\t\t\t<umb-entity-actions-dropdown compact .label=${this.localize.term('actions_viewActionsFor', this.label)}>\r\n\t\t\t\t<uui-symbol-more slot=\"label\"></uui-symbol-more>\r\n\t\t\t</umb-entity-actions-dropdown>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderFirstAction() {\r\n\t\tif (!this._firstActionApi || !this._firstActionManifest) return nothing;\r\n\t\treturn html`\r\n\t\t\t<uui-button\r\n\t\t\t\tlabel=${this.localize.string(this._firstActionManifest.meta.label, this.label)}\r\n\t\t\t\tdata-mark=${'entity-action:' + this._firstActionManifest.alias}\r\n\t\t\t\thref=${ifDefined(this._firstActionHref)}\r\n\t\t\t\t@click=${this.#onFirstActionClick}>\r\n\t\t\t\t<umb-icon name=${ifDefined(this._firstActionManifest.meta.icon)}></umb-icon>\r\n\t\t\t</uui-button>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\tuui-scroll-container {\r\n\t\t\t\tmax-height: 700px;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-entity-actions-bundle': UmbEntityActionsBundleElement;\r\n\t}\r\n}\r\n","import { css, html, LitElement, customElement } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\n\r\n/**\r\n * @element umb-footer-layout\r\n * @description\r\n * @slot default - Slot footer items\r\n * @slot actions - Slot actions\r\n * @class UmbFooterLayout\r\n * @augments {UmbLitElement}\r\n */\r\n@customElement('umb-footer-layout')\r\nexport class UmbFooterLayoutElement extends LitElement {\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<slot></slot>\r\n\t\t\t<slot id=\"actions\" name=\"actions\"></slot>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: var(--umb-footer-layout-height);\r\n\t\t\t\tborder-top: 1px solid var(--uui-color-border);\r\n\t\t\t\tbackground-color: var(--uui-color-surface);\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t}\r\n\r\n\t\t\t#actions {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t\tmargin: 0 var(--uui-size-layout-1);\r\n\t\t\t\tmargin-left: auto;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-footer-layout': UmbFooterLayoutElement;\r\n\t}\r\n}\r\n","import { css, customElement, html, ifDefined } from '@umbraco-cms/backoffice/external/lit';\r\nimport { umbExtensionsRegistry } from '@umbraco-cms/backoffice/extension-registry';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport type { ManifestHeaderAppButtonKind, UmbExtensionManifestKind } from '@umbraco-cms/backoffice/extension-registry';\r\n\r\nconst manifest: UmbExtensionManifestKind = {\r\n\ttype: 'kind',\r\n\talias: 'Umb.Kind.Button',\r\n\tmatchKind: 'button',\r\n\tmatchType: 'headerApp',\r\n\tmanifest: {\r\n\t\ttype: 'headerApp',\r\n\t\tkind: 'button',\r\n\t\telementName: 'umb-header-app-button',\r\n\t},\r\n};\r\numbExtensionsRegistry.register(manifest);\r\n\r\n@customElement('umb-header-app-button')\r\nexport class UmbHeaderAppButtonElement extends UmbLitElement {\r\n\tpublic manifest?: ManifestHeaderAppButtonKind;\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<uui-button\r\n\t\t\t\tlook=\"primary\"\r\n\t\t\t\tlabel=${ifDefined(this.manifest?.meta.label)}\r\n\t\t\t\thref=${ifDefined(this.manifest?.meta.href)}\r\n\t\t\t\tcompact>\r\n\t\t\t\t<umb-icon name=${ifDefined(this.manifest?.meta.icon)}></umb-icon>\r\n\t\t\t</uui-button>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override readonly styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\tuui-button {\r\n\t\t\t\tfont-size: 18px;\r\n\t\t\t\t--uui-button-background-color: var(--umb-header-app-button-background-color, transparent);\r\n\t\t\t\t--uui-button-background-color-hover: var(\r\n\t\t\t\t\t--umb-header-app-button-background-color-hover,\r\n\t\t\t\t\tvar(--uui-color-emphasis)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbHeaderAppButtonElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-header-app-button': UmbHeaderAppButtonElement;\r\n\t}\r\n}\r\n","import { css, html, customElement, property } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\n\r\n@customElement('umb-history-item')\r\nexport class UmbHistoryItemElement extends UmbLitElement {\r\n\t@property({ type: String })\r\n\tname?: string;\r\n\r\n\t@property({ type: String })\r\n\tdetail?: string;\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<div class=\"user-info\">\r\n\t\t\t\t<slot name=\"avatar\"></slot>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span class=\"name\">${this.name}</span>\r\n\t\t\t\t\t<span class=\"detail\">${this.detail}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<slot id=\"description\"></slot>\r\n\t\t\t<slot id=\"actions-container\" name=\"actions\"></slot>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\t--avatar-size: calc(2em + 4px);\r\n\t\t\t\tdisplay: contents;\r\n\t\t\t}\r\n\r\n\t\t\tslot[name='actions'] {\r\n\t\t\t\t--uui-button-border-radius: 50px 50px 50px 50px;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\t--uui-button-height: calc(var(--uui-size-2) * 4);\r\n\t\t\t\tmargin-right: var(--uui-size-2);\r\n\t\t\t}\r\n\r\n\t\t\t#actions-container {\r\n\t\t\t\topacity: 0;\r\n\t\t\t\ttransition: opacity 120ms;\r\n\t\t\t}\r\n\r\n\t\t\t:host(:hover) #actions-container {\r\n\t\t\t\topacity: 1;\r\n\t\t\t}\r\n\r\n\t\t\t:host(:hover) #actions-container {\r\n\t\t\t\topacity: 1;\r\n\t\t\t}\r\n\r\n\t\t\t.user-info {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: flex-end;\r\n\t\t\t\tgap: var(--uui-size-space-5);\r\n\t\t\t}\r\n\r\n\t\t\t.user-info div {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tmin-width: var(--uui-size-60);\r\n\t\t\t}\r\n\r\n\t\t\t.detail {\r\n\t\t\t\tfont-size: var(--uui-size-4);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tline-height: 1;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbHistoryItemElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-history-item': UmbHistoryItemElement;\r\n\t}\r\n}\r\n","import { css, html, customElement } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\n\r\n@customElement('umb-history-list')\r\nexport class UmbHistoryListElement extends UmbLitElement {\r\n\toverride render() {\r\n\t\treturn html`<slot></slot> `;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: grid;\r\n\t\t\t\tgrid-template-columns: auto 1fr auto;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\t--avatar-size: calc(2em + 4px);\r\n\t\t\t\tgap: var(--uui-size-6);\r\n\t\t\t\tposition: relative;\r\n\t\t\t}\r\n\r\n\t\t\t/** TODO: This doesn't work due to \"display:contents\" in umb-history-item, but is needed for the way I put the grid together.\r\n\t\t\t* Find a different solution so we can have the grey line that links each history item together (this is purely a visual effect, no rush)\r\n\r\n\t\t\t::slotted(*) {\r\n\t\t\t\tposition: relative;\r\n\t\t\t}\r\n\r\n\t\t\t::slotted(*:not(:last-child)) {\r\n\t\t\t\tmargin-bottom: calc(2 * var(--uui-size-space-3));\r\n\t\t\t}\r\n\t\t\t::slotted(*:not(:last-child))::before {\r\n\t\t\t\tcontent: '';\r\n\t\t\t\tborder: 1px solid var(--uui-color-border);\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\theight: calc(1.5 * var(--avatar-size));\r\n\t\t\t\ttop: var(--avatar-size);\r\n\t\t\t\tleft: calc(-1px + var(--avatar-size) / 2);\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbHistoryListElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-history-list': UmbHistoryListElement;\r\n\t}\r\n}\r\n","import { extractUmbColorVariable } from '../../resources/extractUmbColorVariable.function.js';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { html, customElement, property, state, ifDefined, css, styleMap } from '@umbraco-cms/backoffice/external/lit';\r\nimport type { StyleInfo } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\n\r\n/**\r\n * @element umb-icon\r\n * @description A wrapper for the uui-icon component with color alias support\r\n * @augments {UmbLitElement}\r\n */\r\n@customElement('umb-icon')\r\nexport class UmbIconElement extends UmbLitElement {\r\n\t#color?: string;\r\n\t#fallbackColor?: string;\r\n\r\n\t@state()\r\n\tprivate _icon?: string;\r\n\r\n\t@state()\r\n\tprivate _style: StyleInfo = {};\r\n\r\n\t/**\r\n\t * Color alias or a color code directly.\r\n\t * If a color has been set via the name property, this property will override it.\r\n\t * Example **color-pink**\r\n\t */\r\n\t@property({ type: String })\r\n\tpublic set color(value: string) {\r\n\t\tthis.#color = value;\r\n\t\tthis.#updateColorStyle();\r\n\t}\r\n\tpublic get color(): string | undefined {\r\n\t\treturn this.#color || this.#fallbackColor;\r\n\t}\r\n\r\n\t/**\r\n\t * The icon name. Can be appended with a color.\r\n\t * Example **icon-heart color-red**\r\n\t */\r\n\t@property({ type: String })\r\n\tpublic set name(value: string | undefined) {\r\n\t\tconst [icon, color] = value ? value.split(' ') : [];\r\n\t\tthis.#fallbackColor = color;\r\n\t\tthis._icon = icon;\r\n\t\tthis.#updateColorStyle();\r\n\t}\r\n\tpublic get name(): string | undefined {\r\n\t\treturn this._icon;\r\n\t}\r\n\r\n\t#updateColorStyle() {\r\n\t\tconst value = this.#color || this.#fallbackColor;\r\n\r\n\t\tif (!value) {\r\n\t\t\tthis._style = { '--uui-icon-color': 'inherit' };\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst color = value.replace('color-', '');\r\n\t\tconst variable = extractUmbColorVariable(color);\r\n\t\tconst styling = variable ? `var(${variable})` : color;\r\n\r\n\t\tthis._style = { '--uui-icon-color': styling };\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`<uui-icon name=${ifDefined(this._icon)} style=${styleMap(this._style)}></uui-icon>`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-icon': UmbIconElement;\r\n\t}\r\n}\r\n","import { html, customElement, property, map, nothing } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UUIFormControlMixin } from '@umbraco-cms/backoffice/external/uui';\r\nimport type { UmbSwatchDetails } from '@umbraco-cms/backoffice/models';\r\nimport type { UUIColorSwatchesEvent } from '@umbraco-cms/backoffice/external/uui';\r\n\r\n/*\r\n * This wraps the UUI library uui-color-swatches component\r\n * @element umb-input-color\r\n */\r\n@customElement('umb-input-color')\r\nexport class UmbInputColorElement extends UUIFormControlMixin(UmbLitElement, '') {\r\n\tprotected override getFormElement() {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the input to readonly mode, meaning value cannot be changed but still able to read and select its content.\r\n\t * @attr\r\n\t * @default false\r\n\t */\r\n\t@property({ type: Boolean, reflect: true })\r\n\treadonly = false;\r\n\r\n\t@property({ type: Boolean })\r\n\tshowLabels = false;\r\n\r\n\t@property({ type: Array })\r\n\tswatches?: Array<UmbSwatchDetails>;\r\n\r\n\t#onChange(event: UUIColorSwatchesEvent) {\r\n\t\tthis.value = event.target.value;\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<uui-color-swatches\r\n\t\t\t\t?readonly=${this.readonly}\r\n\t\t\t\tlabel=\"Color picker\"\r\n\t\t\t\tvalue=${this.value ?? ''}\r\n\t\t\t\t@change=${this.#onChange}>\r\n\t\t\t\t${this.#renderColors()}\r\n\t\t\t</uui-color-swatches>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderColors() {\r\n\t\tif (!this.swatches) return nothing;\r\n\t\treturn map(\r\n\t\t\tthis.swatches,\r\n\t\t\t(swatch) => html`\r\n\t\t\t\t<uui-color-swatch label=${swatch.label} value=${swatch.value} .showLabel=${this.showLabels}></uui-color-swatch>\r\n\t\t\t`,\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default UmbInputColorElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-input-color': UmbInputColorElement;\r\n\t}\r\n}\r\n","import { customElement, css } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UUIInputElement } from '@umbraco-cms/backoffice/external/uui';\r\n\r\n// eslint-disable-next-line @typescript-eslint/naming-convention\r\nexport type InputDateType = 'date' | 'time' | 'datetime-local';\r\n\r\n/**\r\n * This element passes a datetime string to a regular HTML input element.\r\n * Be aware that you cannot include a time demonination, i.e. \"10:44:00\" if you\r\n * set the input type of this element to \"date\". If you do, the browser will not show\r\n * the value at all.\r\n * @element umb-input-date\r\n */\r\n@customElement('umb-input-date')\r\nexport class UmbInputDateElement extends UUIInputElement {\r\n\t/**\r\n\t * Specifies the date and time type of the input that will be rendered.\r\n\t * @type {InputDateType}\r\n\t * @enum {InputDateType}\r\n\t */\r\n\toverride set type(type: InputDateType) {\r\n\t\tsuper.type = type;\r\n\t}\r\n\toverride get type(): InputDateType {\r\n\t\treturn super.type as InputDateType;\r\n\t}\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.type = 'date'; // Default to 'date'\r\n\t}\r\n\r\n\t// Adding styles override to add a darkmode version.\r\n\tstatic override styles = [\r\n\t\t...UUIInputElement.styles,\r\n\t\tcss`\r\n\t\t\tinput {\r\n\t\t\t\tcolor-scheme: var(--uui-color-scheme, normal);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbInputDateElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-input-date': UmbInputDateElement;\r\n\t}\r\n}\r\n","import { css, customElement, html, property } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UMB_VALIDATION_EMPTY_LOCALIZATION_KEY, UmbFormControlMixin } from '@umbraco-cms/backoffice/validation';\r\nimport type { UUISelectEvent } from '@umbraco-cms/backoffice/external/uui';\r\n\r\n@customElement('umb-input-dropdown-list')\r\nexport class UmbInputDropdownListElement extends UmbFormControlMixin<\r\n\tstring | undefined,\r\n\ttypeof UmbLitElement,\r\n\tundefined\r\n>(UmbLitElement, undefined) {\r\n\t@property({ type: Array })\r\n\tpublic set options(value: Array<Option> | undefined) {\r\n\t\tthis.#options = value;\r\n\r\n\t\tthis.value =\r\n\t\t\tvalue\r\n\t\t\t\t?.filter((option) => option.selected)\r\n\t\t\t\t.map((option) => option.value)\r\n\t\t\t\t.join(', ') ?? undefined;\r\n\t}\r\n\tpublic get options(): Array<Option> | undefined {\r\n\t\treturn this.#options;\r\n\t}\r\n\t#options?: Array<Option> | undefined;\r\n\r\n\t@property({ type: String })\r\n\tpublic placeholder?: string;\r\n\r\n\t//TODO: show multiple lines when either a) uui-select has the option to do so or b) combobox has popover issue fixed and use this instead of uui-select.\r\n\t@property({ type: Boolean })\r\n\tpublic multiple?: boolean;\r\n\r\n\t@property({ type: String })\r\n\tname?: string = 'Dropdown';\r\n\r\n\t/**\r\n\t * Sets the input to required, meaning validation will fail if the value is empty.\r\n\t * @type {boolean}\r\n\t */\r\n\t@property({ type: Boolean })\r\n\trequired?: boolean;\r\n\r\n\t@property({ type: String })\r\n\trequiredMessage?: string;\r\n\r\n\t/**\r\n\t * Sets the input to readonly mode, meaning value cannot be changed but still able to read and select its content.\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default false\r\n\t */\r\n\t@property({ type: Boolean, reflect: true })\r\n\treadonly = false;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.addValidator(\r\n\t\t\t'valueMissing',\r\n\t\t\t() => this.requiredMessage ?? UMB_VALIDATION_EMPTY_LOCALIZATION_KEY,\r\n\t\t\t() => !this.readonly && !!this.required && (this.value === undefined || this.value === null || this.value === ''),\r\n\t\t);\r\n\t}\r\n\r\n\tprotected override firstUpdated() {\r\n\t\tthis.addFormControlElement(this.shadowRoot!.querySelector('uui-select')!);\r\n\t}\r\n\r\n\t#onChange(e: UUISelectEvent) {\r\n\t\te.stopPropagation();\r\n\t\tthis.value = e.target.value?.toString() ?? undefined;\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<uui-select\r\n\t\t\t\tlabel=${this.localize.term(this.localize.term('general_fieldFor', [this.name]))}\r\n\t\t\t\t.placeholder=${this.placeholder ?? ''}\r\n\t\t\t\t.options=${this.options ?? []}\r\n\t\t\t\t@change=${this.#onChange}\r\n\t\t\t\t?readonly=${this.readonly}>\r\n\t\t\t</uui-select>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbInputDropdownListElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-input-dropdown-list': UmbInputDropdownListElement;\r\n\t}\r\n}\r\n","import { css, html, customElement, property, repeat, state, when } from '@umbraco-cms/backoffice/external/lit';\r\nimport { splitStringToArray } from '@umbraco-cms/backoffice/utils';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbSorterController } from '@umbraco-cms/backoffice/sorter';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport type { UmbPickerInputContext } from '@umbraco-cms/backoffice/picker-input';\r\nimport type { UmbUniqueItemModel } from '@umbraco-cms/backoffice/models';\r\nimport { UmbFormControlMixin } from '@umbraco-cms/backoffice/validation';\r\n\r\n@customElement('umb-input-entity')\r\nexport class UmbInputEntityElement extends UmbFormControlMixin<string | undefined, typeof UmbLitElement>(\r\n\tUmbLitElement,\r\n) {\r\n\t#sorter = new UmbSorterController<string>(this, {\r\n\t\tgetUniqueOfElement: (element) => {\r\n\t\t\treturn element.id;\r\n\t\t},\r\n\t\tgetUniqueOfModel: (modelEntry) => {\r\n\t\t\treturn modelEntry;\r\n\t\t},\r\n\t\tidentifier: 'Umb.SorterIdentifier.InputEntity',\r\n\t\titemSelector: 'uui-ref-node',\r\n\t\tcontainerSelector: 'uui-ref-list',\r\n\t\tonChange: ({ model }) => {\r\n\t\t\tthis.selection = model;\r\n\t\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t\t},\r\n\t});\r\n\r\n\tprotected override getFormElement() {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\t@property({ type: Number })\r\n\tpublic set min(value: number) {\r\n\t\tthis.#min = value;\r\n\t\tif (this.#pickerContext) {\r\n\t\t\tthis.#pickerContext.min = value;\r\n\t\t}\r\n\t}\r\n\tpublic get min(): number {\r\n\t\treturn this.#min;\r\n\t}\r\n\t#min: number = 0;\r\n\r\n\t@property({ type: String, attribute: 'min-message' })\r\n\tminMessage = 'This field need more items';\r\n\r\n\t@property({ type: Number })\r\n\tpublic set max(value: number) {\r\n\t\tthis.#max = value;\r\n\t\tif (this.#pickerContext) {\r\n\t\t\tthis.#pickerContext.max = value;\r\n\t\t}\r\n\t}\r\n\tpublic get max(): number {\r\n\t\treturn this.#max;\r\n\t}\r\n\t#max: number = Infinity;\r\n\r\n\t@property({ attribute: false })\r\n\tgetIcon?: (item: UmbUniqueItemModel) => string;\r\n\r\n\t@property({ type: String, attribute: 'min-message' })\r\n\tmaxMessage = 'This field exceeds the allowed amount of items';\r\n\r\n\t@property({ type: Array })\r\n\tpublic set selection(uniques: Array<string>) {\r\n\t\tthis.#pickerContext?.setSelection(uniques);\r\n\t\tthis.#sorter.setModel(uniques);\r\n\t}\r\n\tpublic get selection(): Array<string> {\r\n\t\treturn this.#pickerContext?.getSelection() ?? [];\r\n\t}\r\n\r\n\t@property({ type: String })\r\n\tpublic override set value(selectionString: string | undefined) {\r\n\t\tthis.selection = splitStringToArray(selectionString);\r\n\t}\r\n\tpublic override get value(): string | undefined {\r\n\t\treturn this.selection.length > 0 ? this.selection.join(',') : undefined;\r\n\t}\r\n\r\n\t@property({ attribute: false })\r\n\tpublic set pickerContext(ctor: (new (host: UmbControllerHost) => UmbPickerInputContext) | undefined) {\r\n\t\tif (this.#pickerContext) return;\r\n\t\tthis.#pickerContext = ctor ? new ctor(this) : undefined;\r\n\t\tthis.#observePickerContext();\r\n\t}\r\n\tpublic get pickerContext(): UmbPickerInputContext | undefined {\r\n\t\treturn this.#pickerContext;\r\n\t}\r\n\r\n\t@state()\r\n\tprivate _items?: Array<UmbUniqueItemModel>;\r\n\r\n\t#pickerContext?: UmbPickerInputContext;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.addValidator(\r\n\t\t\t'rangeUnderflow',\r\n\t\t\t() => this.minMessage,\r\n\t\t\t() => !!this.min && (this.#pickerContext?.getSelection().length ?? 0) < this.min,\r\n\t\t);\r\n\r\n\t\tthis.addValidator(\r\n\t\t\t'rangeOverflow',\r\n\t\t\t() => this.maxMessage,\r\n\t\t\t() => !!this.max && (this.#pickerContext?.getSelection().length ?? 0) > this.max,\r\n\t\t);\r\n\t}\r\n\r\n\tasync #observePickerContext() {\r\n\t\tif (!this.#pickerContext) return;\r\n\r\n\t\tthis.#pickerContext.min = this.min;\r\n\t\tthis.#pickerContext.max = this.max;\r\n\r\n\t\tthis.observe(this.#pickerContext.selection, (selection) => (this.value = selection.join(',')), '_observeSelection');\r\n\t\tthis.observe(this.#pickerContext.selectedItems, (selectedItems) => (this._items = selectedItems), '_observerItems');\r\n\t}\r\n\r\n\t#openPicker() {\r\n\t\tthis.#pickerContext?.openPicker({\r\n\t\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n\t\t\t// @ts-ignore\r\n\t\t\t// TODO: ignoring this for now to prevent breaking existing functionality.\r\n\t\t\t// if we want a very generic input it should be possible to pass in picker config\r\n\t\t\thideTreeRoot: true,\r\n\t\t});\r\n\t}\r\n\r\n\t#removeItem(item: UmbUniqueItemModel) {\r\n\t\tthis.#pickerContext?.requestRemoveItem(item.unique);\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`${this.#renderItems()} ${this.#renderAddButton()}`;\r\n\t}\r\n\r\n\t#renderAddButton() {\r\n\t\tif (this.max === 1 && this.selection && this.selection.length >= this.max) return;\r\n\t\treturn html`\r\n\t\t\t<uui-button\r\n\t\t\t\tid=\"btn-add\"\r\n\t\t\t\tlook=\"placeholder\"\r\n\t\t\t\t@click=${this.#openPicker}\r\n\t\t\t\tlabel=${this.localize.term('general_choose')}></uui-button>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderItems() {\r\n\t\tif (!this._items) return;\r\n\t\treturn html`\r\n\t\t\t<uui-ref-list>\r\n\t\t\t\t${repeat(\r\n\t\t\t\t\tthis._items,\r\n\t\t\t\t\t(item) => item.unique,\r\n\t\t\t\t\t(item) => this.#renderItem(item),\r\n\t\t\t\t)}\r\n\t\t\t</uui-ref-list>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderItem(item: UmbUniqueItemModel) {\r\n\t\tif (!item.unique) return;\r\n\t\tconst icon = this.getIcon?.(item) ?? item.icon ?? '';\r\n\t\treturn html`\r\n\t\t\t<uui-ref-node name=${item.name} id=${item.unique}>\r\n\t\t\t\t${when(icon, () => html`<umb-icon slot=\"icon\" name=${icon}></umb-icon>`)}\r\n\t\t\t\t<uui-action-bar slot=\"actions\">\r\n\t\t\t\t\t<uui-button @click=${() => this.#removeItem(item)} label=${this.localize.term('general_remove')}></uui-button>\r\n\t\t\t\t</uui-action-bar>\r\n\t\t\t</uui-ref-node>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\t#btn-add {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbInputEntityElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-input-entity': UmbInputEntityElement;\r\n\t}\r\n}\r\n","import { customElement, html, property, when } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UUIFormControlMixin } from '@umbraco-cms/backoffice/external/uui';\r\nimport type { UUIColorPickerChangeEvent } from '@umbraco-cms/backoffice/external/uui';\r\n\r\n@customElement('umb-input-eye-dropper')\r\nexport class UmbInputEyeDropperElement extends UUIFormControlMixin(UmbLitElement, '') {\r\n\tprotected override getFormElement() {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\t#onChange(e: UUIColorPickerChangeEvent) {\r\n\t\te.stopPropagation();\r\n\t\tthis.value = e.target.value;\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\t@property({ type: Boolean })\r\n\topacity = false;\r\n\r\n\t@property({ type: Boolean })\r\n\tshowPalette = false;\r\n\r\n\t@property({ type: Array })\r\n\tswatches?: string[];\r\n\r\n\t// HACK: Since `uui-color-picker` doesn't have an option to hide the swatches, we had to get creative.\r\n\t// Based on UUI v1.8.0-rc3, the value of `swatches` must be a falsey value to hide them.\r\n\t// https://github.com/umbraco/Umbraco.UI/blob/v1.8.0-rc.3/packages/uui-color-picker/lib/uui-color-picker.element.ts#L517\r\n\t// However, the object-type for `swatches` is a `string[]` (non-nullable).\r\n\t// https://github.com/umbraco/Umbraco.UI/blob/v1.8.0-rc.3/packages/uui-color-picker/lib/uui-color-picker.element.ts#L157\r\n\t// To do this, we must omit the `.swatches` attribute, otherwise the default swatches can't be used.\r\n\t// So, we've use a `when()` render both configurations. [LK]\r\n\r\n\toverride render() {\r\n\t\tconst swatches = this.showPalette ? this.swatches : undefined;\r\n\t\treturn when(\r\n\t\t\tthis.showPalette && !swatches,\r\n\t\t\t() => html`\r\n\t\t\t\t<uui-color-picker\r\n\t\t\t\t\tlabel=\"Eye dropper\"\r\n\t\t\t\t\t.opacity=${this.opacity}\r\n\t\t\t\t\t.value=${this.value as string}\r\n\t\t\t\t\t@change=${this.#onChange}>\r\n\t\t\t\t</uui-color-picker>\r\n\t\t\t`,\r\n\t\t\t() => html`\r\n\t\t\t\t<uui-color-picker\r\n\t\t\t\t\tlabel=\"Eye dropper\"\r\n\t\t\t\t\t.opacity=${this.opacity}\r\n\t\t\t\t\t.swatches=${swatches!}\r\n\t\t\t\t\t.value=${this.value as string}\r\n\t\t\t\t\t@change=${this.#onChange}>\r\n\t\t\t\t</uui-color-picker>\r\n\t\t\t`,\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default UmbInputEyeDropperElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-input-eye-dropper': UmbInputEyeDropperElement;\r\n\t}\r\n}\r\n","import { html, customElement, property, css } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UMB_ITEM_PICKER_MODAL, UMB_MODAL_MANAGER_CONTEXT } from '@umbraco-cms/backoffice/modal';\r\nimport { umbExtensionsRegistry } from '@umbraco-cms/backoffice/extension-registry';\r\n\r\n@customElement('umb-input-manifest')\r\nexport class UmbInputManifestElement extends UmbLitElement {\r\n\t#extensions: Array<typeof umbExtensionsRegistry.MANIFEST_TYPES> = [];\r\n\r\n\t#extensionType?: string;\r\n\t@property({ type: String, attribute: 'extension-type' })\r\n\tpublic set extensionType(value: string | undefined) {\r\n\t\tthis.#extensionType = value;\r\n\t\tthis.#observeExtensions();\r\n\t}\r\n\tpublic get extensionType(): string | undefined {\r\n\t\treturn this.#extensionType;\r\n\t}\r\n\r\n\t@property({ attribute: false })\r\n\tvalue?: typeof UMB_ITEM_PICKER_MODAL.VALUE;\r\n\r\n\t@property({ type: Number })\r\n\tmax = Infinity;\r\n\r\n\t#observeExtensions() {\r\n\t\tif (!this.#extensionType) return;\r\n\t\tthis.observe(umbExtensionsRegistry.byType(this.#extensionType), (extensions) => {\r\n\t\t\tthis.#extensions = extensions.sort((a, b) => a.type.localeCompare(b.type) || a.alias.localeCompare(b.alias));\r\n\t\t});\r\n\t}\r\n\r\n\tasync #onClick() {\r\n\t\tconst modalManager = await this.getContext(UMB_MODAL_MANAGER_CONTEXT);\r\n\t\tif (!modalManager) {\r\n\t\t\tthrow new Error('Modal manager not found.');\r\n\t\t}\r\n\t\tconst modalContext = modalManager.open(this, UMB_ITEM_PICKER_MODAL, {\r\n\t\t\tdata: {\r\n\t\t\t\theadline: `${this.localize.term('general_choose')}...`,\r\n\t\t\t\titems: this.#extensions\r\n\t\t\t\t\t.filter((ext) => ext.type === this.extensionType)\r\n\t\t\t\t\t.map((ext) => ({\r\n\t\t\t\t\t\tlabel: ext.name,\r\n\t\t\t\t\t\tvalue: ext.alias,\r\n\t\t\t\t\t\tdescription: ext.alias,\r\n\t\t\t\t\t\ticon: (ext as any).meta?.icon, // HACK: Ugly way to get the icon. [LK]\r\n\t\t\t\t\t})),\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tconst modalValue = await modalContext.onSubmit();\r\n\r\n\t\tif (!modalValue) return;\r\n\r\n\t\tthis.value = modalValue;\r\n\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<uui-button\r\n\t\t\t\tlabel=${this.localize.term('general_choose')}\r\n\t\t\t\tlook=\"placeholder\"\r\n\t\t\t\tcolor=\"default\"\r\n\t\t\t\t@click=${this.#onClick}></uui-button>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbInputManifestElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-input-manifest': UmbInputManifestElement;\r\n\t}\r\n}\r\n","import { css, customElement, html, ifDefined, property, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\nimport { UmbFormControlMixin } from '@umbraco-cms/backoffice/validation';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport type { UmbNumberRangeValueType } from '@umbraco-cms/backoffice/models';\r\nimport type { UUIInputElement } from '@umbraco-cms/backoffice/external/uui';\r\n\r\n/**\r\n *\r\n * @param value\r\n */\r\nfunction getNumberOrUndefined(value: string) {\r\n\tconst num = parseInt(value, 10);\r\n\treturn isNaN(num) ? undefined : num;\r\n}\r\n\r\n@customElement('umb-input-number-range')\r\nexport class UmbInputNumberRangeElement extends UmbFormControlMixin(UmbLitElement) {\r\n\t@property({ type: String, attribute: 'min-label' })\r\n\tminLabel = 'Low value';\r\n\r\n\t@property({ type: String, attribute: 'max-label' })\r\n\tmaxLabel = 'High value';\r\n\r\n\t@state()\r\n\tprivate _minValue?: number;\r\n\r\n\t@property({ type: Number })\r\n\tpublic set minValue(value: number | undefined) {\r\n\t\tthis._minValue = value;\r\n\t\tthis.#updateValue();\r\n\t}\r\n\tpublic get minValue() {\r\n\t\treturn this._minValue;\r\n\t}\r\n\r\n\t@state()\r\n\tprivate _maxValue?: number;\r\n\r\n\t@property({ type: Number })\r\n\tpublic set maxValue(value: number | undefined) {\r\n\t\tthis._maxValue = value;\r\n\t\tthis.#updateValue();\r\n\t}\r\n\tpublic get maxValue() {\r\n\t\treturn this._maxValue;\r\n\t}\r\n\r\n\t@property({ type: Object })\r\n\tpublic set validationRange(value: UmbNumberRangeValueType | undefined) {\r\n\t\tthis.#validationRange = value;\r\n\t\tthis._minPlaceholder = value?.min !== undefined ? String(value?.min) : '';\r\n\t\tthis._maxPlaceholder = value?.max !== undefined && value.max !== Infinity ? String(value.max) : '';\r\n\t}\r\n\tpublic get validationRange(): UmbNumberRangeValueType | undefined {\r\n\t\treturn this.#validationRange;\r\n\t}\r\n\t#validationRange?: UmbNumberRangeValueType | undefined;\r\n\r\n\t@state()\r\n\tprivate _minPlaceholder: string = '';\r\n\r\n\t@state()\r\n\tprivate _maxPlaceholder: string = '';\r\n\r\n\t#updateValue() {\r\n\t\tconst newValue =\r\n\t\t\tthis._minValue || this._maxValue ? (this._minValue ?? '') + ',' + (this._maxValue ?? '') : undefined;\r\n\t\tif (super.value !== newValue) {\r\n\t\t\tsuper.value = newValue;\r\n\t\t}\r\n\t}\r\n\r\n\t@property()\r\n\tpublic override set value(valueString: string | undefined) {\r\n\t\tif (valueString !== this.value) {\r\n\t\t\tif (valueString === undefined) {\r\n\t\t\t\tthis.minValue = this.maxValue = undefined;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst splittedValue = valueString.split(/[ ,]+/);\r\n\t\t\tthis.minValue = getNumberOrUndefined(splittedValue[0]);\r\n\t\t\tthis.maxValue = getNumberOrUndefined(splittedValue[1]);\r\n\t\t}\r\n\t}\r\n\tpublic override get value(): string | undefined {\r\n\t\treturn this.minValue || this.maxValue ? (this.minValue || '') + ',' + (this.maxValue || '') : undefined;\r\n\t}\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.addValidator(\r\n\t\t\t'patternMismatch',\r\n\t\t\t() => {\r\n\t\t\t\treturn '#validation_rangeExceeds';\r\n\t\t\t},\r\n\t\t\t() => {\r\n\t\t\t\treturn this._minValue !== undefined && this._maxValue !== undefined ? this._minValue > this._maxValue : false;\r\n\t\t\t},\r\n\t\t);\r\n\t}\r\n\r\n\toverride firstUpdated() {\r\n\t\tthis.shadowRoot?.querySelectorAll<UUIInputElement>('uui-input').forEach((x) => this.addFormControlElement(x));\r\n\t}\r\n\r\n\toverride focus() {\r\n\t\treturn this.shadowRoot?.querySelector<UUIInputElement>('uui-input')?.focus();\r\n\t}\r\n\r\n\t#onMinInput(e: InputEvent & { target: HTMLInputElement }) {\r\n\t\tconst value = e.target.value;\r\n\t\tthis.minValue = value ? Number(value) : undefined;\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\t#onMaxInput(e: InputEvent & { target: HTMLInputElement }) {\r\n\t\tconst value = e.target.value;\r\n\t\tthis.maxValue = value ? Number(value) : undefined;\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<uui-input\r\n\t\t\t\ttype=\"number\"\r\n\t\t\t\tlabel=${this.minLabel}\r\n\t\t\t\tmin=${ifDefined(this.validationRange?.min)}\r\n\t\t\t\tmax=${ifDefined(this.validationRange?.max)}\r\n\t\t\t\tplaceholder=${this._minPlaceholder}\r\n\t\t\t\t.value=${this._minValue}\r\n\t\t\t\t@input=${this.#onMinInput}></uui-input>\r\n\t\t\t<b></b>\r\n\t\t\t<uui-input\r\n\t\t\t\ttype=\"number\"\r\n\t\t\t\tlabel=${this.maxLabel}\r\n\t\t\t\tmin=${ifDefined(this.validationRange?.min)}\r\n\t\t\t\tmax=${ifDefined(this.validationRange?.max)}\r\n\t\t\t\tplaceholder=${this._maxPlaceholder}\r\n\t\t\t\t.value=${this._maxValue}\r\n\t\t\t\t@input=${this.#onMaxInput}></uui-input>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = css`\r\n\t\t:host {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\t\tb {\r\n\t\t\tmargin: 0 var(--uui-size-space-1);\r\n\t\t}\r\n\t\t:host(:invalid:not([pristine])) {\r\n\t\t\tcolor: var(--uui-color-invalid);\r\n\t\t}\r\n\t\t:host(:invalid:not([pristine])) uui-input {\r\n\t\t\tborder-color: var(--uui-color-invalid);\r\n\t\t}\r\n\t`;\r\n}\r\n\r\nexport default UmbInputNumberRangeElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-input-number-range': UmbInputNumberRangeElement;\r\n\t}\r\n}\r\n","import { css, html, nothing, repeat, customElement, property, classMap } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UUIRadioElement } from '@umbraco-cms/backoffice/external/uui';\r\nimport { UMB_VALIDATION_EMPTY_LOCALIZATION_KEY, UmbFormControlMixin } from '@umbraco-cms/backoffice/validation';\r\n\r\nimport type { UUIRadioEvent } from '@umbraco-cms/backoffice/external/uui';\r\n\r\nexport type UmbRadioButtonItem = { label: string; value: string; invalid?: boolean };\r\n\r\n@customElement('umb-input-radio-button-list')\r\nexport class UmbInputRadioButtonListElement extends UmbFormControlMixin<string, typeof UmbLitElement, undefined>(\r\n\tUmbLitElement,\r\n\tundefined,\r\n) {\r\n\t@property()\r\n\tpublic override set value(value: string) {\r\n\t\tthis.#value = value;\r\n\t}\r\n\tpublic override get value(): string {\r\n\t\treturn this.#value;\r\n\t}\r\n\t#value: string = '';\r\n\r\n\t@property({ type: Array })\r\n\tpublic list: Array<UmbRadioButtonItem> = [];\r\n\r\n\t/**\r\n\t * Sets the input to readonly mode, meaning value cannot be changed but still able to read and select its content.\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default false\r\n\t */\r\n\t@property({ type: Boolean, reflect: true })\r\n\treadonly = false;\r\n\r\n\t/**\r\n\t * Sets the input to required, meaning validation will fail if the value is empty.\r\n\t * @type {boolean}\r\n\t */\r\n\t@property({ type: Boolean })\r\n\trequired?: boolean;\r\n\r\n\t@property({ type: String })\r\n\trequiredMessage?: string;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.addValidator(\r\n\t\t\t'valueMissing',\r\n\t\t\t() => this.requiredMessage ?? UMB_VALIDATION_EMPTY_LOCALIZATION_KEY,\r\n\t\t\t() => !this.readonly && !!this.required && (this.value === undefined || this.value === null || this.value === ''),\r\n\t\t);\r\n\t}\r\n\r\n\t#onChange(event: UUIRadioEvent) {\r\n\t\tevent.stopPropagation();\r\n\t\tif (!(event.target instanceof UUIRadioElement)) return;\r\n\t\tthis.value = event.target.value;\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tif (!this.list) return nothing;\r\n\r\n\t\treturn html`\r\n\t\t\t<uui-radio-group .value=${this.value} @change=${this.#onChange} ?readonly=${this.readonly}>\r\n\t\t\t\t${repeat(\r\n\t\t\t\t\tthis.list,\r\n\t\t\t\t\t(item) => item,\r\n\t\t\t\t\t(item) => this.#renderRadioButton(item),\r\n\t\t\t\t)}\r\n\t\t\t</uui-radio-group>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderRadioButton(item: (typeof this.list)[0]) {\r\n\t\treturn html`\r\n\t\t\t<uui-radio\r\n\t\t\t\tvalue=${item.value}\r\n\t\t\t\tclass=${classMap({ invalid: !!item.invalid })}\r\n\t\t\t\tlabel=${item.label + (item.invalid ? ` (${this.localize.term('validation_legacyOption')})` : '')}\r\n\t\t\t\ttitle=${item.invalid ? this.localize.term('validation_legacyOptionDescription') : ''}></uui-radio>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override readonly styles = [\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t}\r\n\r\n\t\t\tuui-radio {\r\n\t\t\t\t&.invalid {\r\n\t\t\t\t\ttext-decoration: line-through;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbInputRadioButtonListElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-input-radio-button-list': UmbInputRadioButtonListElement;\r\n\t}\r\n}\r\n","import { UmbFormControlMixin } from '../../validation/mixins/index.js';\r\nimport { customElement, html, property } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport type { UUISliderEvent } from '@umbraco-cms/backoffice/external/uui';\r\n\r\nfunction splitString(value: string | undefined): Partial<[number | undefined, number | undefined]> {\r\n\tconst [from, to] = (value ?? ',').split(',');\r\n\tconst fromNumber = makeNumberOrUndefined(from);\r\n\treturn [fromNumber, makeNumberOrUndefined(to, fromNumber)];\r\n}\r\n\r\nfunction makeNumberOrUndefined(value: string | undefined, fallback?: undefined | number) {\r\n\tif (value === undefined) {\r\n\t\treturn fallback;\r\n\t}\r\n\tconst n = Number(value);\r\n\tif (isNaN(n)) {\r\n\t\treturn fallback;\r\n\t}\r\n\treturn n;\r\n}\r\n\r\nfunction undefinedFallbackToString(value: number | undefined, fallback: number): string {\r\n\treturn (value === undefined ? fallback : value).toString();\r\n}\r\n\r\n@customElement('umb-input-slider')\r\nexport class UmbInputSliderElement extends UmbFormControlMixin<string, typeof UmbLitElement, ''>(UmbLitElement, '') {\r\n\toverride set value(value: string) {\r\n\t\tconst [from, to] = splitString(value);\r\n\t\tthis.#valueLow = from;\r\n\t\tthis.#valueHigh = to;\r\n\t\tsuper.value = value;\r\n\t}\r\n\toverride get value() {\r\n\t\treturn super.value;\r\n\t}\r\n\r\n\t@property()\r\n\tlabel: string = '';\r\n\r\n\t@property({ type: Number })\r\n\tmin = 0;\r\n\r\n\t@property({ type: Number })\r\n\tmax = 100;\r\n\r\n\t@property({ type: Number })\r\n\tstep = 1;\r\n\r\n\t@property({ type: Number })\r\n\tpublic get valueLow(): number | undefined {\r\n\t\treturn this.#valueLow;\r\n\t}\r\n\tpublic set valueLow(value: number | undefined) {\r\n\t\tthis.#valueLow = value;\r\n\t\tthis.#setValueFromLowHigh();\r\n\t}\r\n\t#valueLow?: number | undefined;\r\n\r\n\t@property({ type: Number })\r\n\tpublic get valueHigh(): number | undefined {\r\n\t\treturn this.#valueHigh;\r\n\t}\r\n\tpublic set valueHigh(value: number | undefined) {\r\n\t\tthis.#valueHigh = value;\r\n\t\tthis.#setValueFromLowHigh();\r\n\t}\r\n\t#valueHigh?: number | undefined;\r\n\r\n\t#setValueFromLowHigh() {\r\n\t\tif (this.enableRange) {\r\n\t\t\tsuper.value = `${undefinedFallbackToString(this.valueLow, this.min)},${undefinedFallbackToString(this.valueHigh, this.max)}`;\r\n\t\t} else {\r\n\t\t\tsuper.value = `${undefinedFallbackToString(this.valueLow, this.min)}`;\r\n\t\t}\r\n\t}\r\n\r\n\t@property({ type: Boolean, attribute: 'enable-range' })\r\n\tenableRange = false;\r\n\r\n\t/**\r\n\t * Sets the input to readonly mode, meaning value cannot be changed but still able to read and select its content.\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default false\r\n\t */\r\n\t@property({ type: Boolean, reflect: true })\r\n\treadonly = false;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.addValidator(\r\n\t\t\t'rangeUnderflow',\r\n\t\t\t() => {\r\n\t\t\t\treturn this.localize.term('validation_numberMinimum', [this.min?.toString()]);\r\n\t\t\t},\r\n\t\t\t() => {\r\n\t\t\t\tif (this.min !== undefined) {\r\n\t\t\t\t\tconst [from, to] = splitString(this.value);\r\n\t\t\t\t\tif (to !== undefined && to < this.min) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (from !== undefined && from < this.min) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t);\r\n\r\n\t\tthis.addValidator(\r\n\t\t\t'rangeOverflow',\r\n\t\t\t() => {\r\n\t\t\t\treturn this.localize.term('validation_numberMaximum', [this.max?.toString()]);\r\n\t\t\t},\r\n\t\t\t() => {\r\n\t\t\t\tif (this.max !== undefined) {\r\n\t\t\t\t\tconst [from, to] = splitString(this.value);\r\n\t\t\t\t\tif (to !== undefined && to > this.max) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (from !== undefined && from > this.max) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t);\r\n\r\n\t\tthis.addValidator(\r\n\t\t\t'patternMismatch',\r\n\t\t\t() => {\r\n\t\t\t\treturn this.localize.term('validation_rangeExceeds');\r\n\t\t\t},\r\n\t\t\t() => {\r\n\t\t\t\tconst [from, to] = splitString(this.value);\r\n\t\t\t\tif (to !== undefined && from !== undefined) {\r\n\t\t\t\t\treturn from > to;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t);\r\n\t}\r\n\r\n\tprotected override getFormElement() {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\t#onChange(event: UUISliderEvent) {\r\n\t\tevent.stopPropagation();\r\n\t\tthis.value = event.target.value as string;\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn this.enableRange ? this.#renderRangeSlider() : this.#renderSlider();\r\n\t}\r\n\r\n\t#renderSlider() {\r\n\t\treturn html`\r\n\t\t\t<uui-slider\r\n\t\t\t\t.label=${this.label}\r\n\t\t\t\t.min=${this.min}\r\n\t\t\t\t.max=${this.max}\r\n\t\t\t\t.step=${this.step}\r\n\t\t\t\t.value=${undefinedFallbackToString(this.valueLow, this.min).toString()}\r\n\t\t\t\t@change=${this.#onChange}\r\n\t\t\t\t?readonly=${this.readonly}>\r\n\t\t\t</uui-slider>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderRangeSlider() {\r\n\t\treturn html`\r\n\t\t\t<uui-range-slider\r\n\t\t\t\t.label=${this.label}\r\n\t\t\t\t.min=${this.min}\r\n\t\t\t\t.max=${this.max}\r\n\t\t\t\t.step=${this.step}\r\n\t\t\t\t.value=\"${undefinedFallbackToString(this.valueLow, this.min).toString()},${undefinedFallbackToString(\r\n\t\t\t\t\tthis.valueHigh,\r\n\t\t\t\t\tthis.max,\r\n\t\t\t\t).toString()}\"\r\n\t\t\t\t@change=${this.#onChange}\r\n\t\t\t\t?readonly=${this.readonly}>\r\n\t\t\t</uui-range-slider>\r\n\t\t`;\r\n\t}\r\n}\r\n\r\nexport default UmbInputSliderElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-input-slider': UmbInputSliderElement;\r\n\t}\r\n}\r\n","import { html, customElement, property, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport type { UUIBooleanInputEvent } from '@umbraco-cms/backoffice/external/uui';\r\nimport { UmbFormControlMixin } from '@umbraco-cms/backoffice/validation';\r\n\r\n@customElement('umb-input-toggle')\r\nexport class UmbInputToggleElement extends UmbFormControlMixin(UmbLitElement, '') {\r\n\t/**\r\n\t * Sets the input to required, meaning validation will fail if the value is empty.\r\n\t * @type {boolean}\r\n\t */\r\n\t@property({ type: Boolean })\r\n\trequired?: boolean;\r\n\r\n\t@property({ type: String })\r\n\trequiredMessage?: string;\r\n\r\n\t@property({ type: Boolean })\r\n\tpublic set checked(toggle: boolean) {\r\n\t\tthis.#checked = toggle;\r\n\t\tsuper.value = toggle.toString();\r\n\t}\r\n\tpublic get checked(): boolean {\r\n\t\treturn this.#checked;\r\n\t}\r\n\t#checked = false;\r\n\r\n\t@property({ type: Boolean })\r\n\tshowLabels = false;\r\n\r\n\t@property({ type: String })\r\n\tlabelOn?: string;\r\n\r\n\t@property({ type: String })\r\n\tlabelOff?: string;\r\n\r\n\t@property({ type: String, attribute: 'aria-label' })\r\n\toverride ariaLabel: string | null = null;\r\n\r\n\t/**\r\n\t * Sets the input to readonly mode, meaning value cannot be changed but still able to read and select its content.\r\n\t * @type {boolean}\r\n\t * @default false\r\n\t */\r\n\t@property({ type: Boolean, reflect: true })\r\n\treadonly = false;\r\n\r\n\t@state()\r\n\tprivate _currentLabel?: string;\r\n\r\n\tprotected override firstUpdated(): void {\r\n\t\tthis.addFormControlElement(this.shadowRoot!.querySelector('uui-toggle')!);\r\n\t}\r\n\r\n\t#onChange(event: UUIBooleanInputEvent) {\r\n\t\tevent.stopPropagation();\r\n\t\tthis.checked = event.target.checked;\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tconst label = this.showLabels ? (this.checked ? this.labelOn : this.labelOff) : '';\r\n\t\treturn html`<uui-toggle\r\n\t\t\t.checked=${this.#checked}\r\n\t\t\t.label=${this.ariaLabel}\r\n\t\t\t?required=${this.required}\r\n\t\t\t.requiredMessage=${this.requiredMessage}\r\n\t\t\t@change=${this.#onChange}\r\n\t\t\t?readonly=${this.readonly}\r\n\t\t\t><span>${label}</span>\r\n\t\t</uui-toggle>`;\r\n\t}\r\n}\r\n\r\nexport default UmbInputToggleElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-input-toggle': UmbInputToggleElement;\r\n\t}\r\n}\r\n","import { css, customElement, html, property, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { generateAlias } from '@umbraco-cms/backoffice/utils';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\nimport { UMB_VALIDATION_EMPTY_LOCALIZATION_KEY, UmbFormControlMixin } from '@umbraco-cms/backoffice/validation';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UUIInputEvent } from '@umbraco-cms/backoffice/external/uui';\r\nimport type { UUIInputElement } from '@umbraco-cms/backoffice/external/uui';\r\n\r\n@customElement('umb-input-with-alias')\r\nexport class UmbInputWithAliasElement extends UmbFormControlMixin<string, typeof UmbLitElement, undefined>(\r\n\tUmbLitElement,\r\n) {\r\n\t@property({ type: String })\r\n\tlabel: string = '';\r\n\r\n\t@property({ type: String, reflect: false })\r\n\talias = '';\r\n\r\n\t@property({ type: Boolean, reflect: true })\r\n\trequired: boolean = false;\r\n\r\n\t@property({ type: Boolean, reflect: true })\r\n\treadonly = false;\r\n\r\n\t@property({ type: Boolean, reflect: true, attribute: 'alias-readonly' })\r\n\taliasReadonly = false;\r\n\r\n\t@property({ type: Boolean, attribute: 'auto-generate-alias' })\r\n\tautoGenerateAlias?: boolean;\r\n\r\n\t@state()\r\n\tprivate _aliasLocked = true;\r\n\r\n\tprotected override firstUpdated(): void {\r\n\t\tthis.addValidator(\r\n\t\t\t'valueMissing',\r\n\t\t\t() => UMB_VALIDATION_EMPTY_LOCALIZATION_KEY,\r\n\t\t\t() => this.required && !this.value,\r\n\t\t);\r\n\r\n\t\tthis.shadowRoot?.querySelectorAll<UUIInputElement>('uui-input').forEach((x) => this.addFormControlElement(x));\r\n\t}\r\n\r\n\toverride focus() {\r\n\t\treturn this.shadowRoot?.querySelector<UUIInputElement>('uui-input')?.focus();\r\n\t}\r\n\r\n\t#onNameChange(e: UUIInputEvent) {\r\n\t\tif (!(e instanceof UUIInputEvent)) return;\r\n\r\n\t\tconst target = e.composedPath()[0] as UUIInputElement;\r\n\r\n\t\tif (typeof target?.value === 'string') {\r\n\t\t\tthis.value = e.target.value.toString();\r\n\t\t\tif (this.autoGenerateAlias && this._aliasLocked) {\r\n\t\t\t\t// Generate alias if it's locked and auto-generate is enabled\r\n\t\t\t\tthis.alias = generateAlias(this.value);\r\n\t\t\t}\r\n\r\n\t\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t\t}\r\n\t}\r\n\r\n\t#onAliasChange(e: UUIInputEvent) {\r\n\t\te.stopPropagation();\r\n\t\tif (!(e instanceof UUIInputEvent)) return;\r\n\r\n\t\tconst target = e.composedPath()[0] as UUIInputElement;\r\n\r\n\t\tif (typeof target?.value === 'string') {\r\n\t\t\tthis.alias = target.value;\r\n\t\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t\t}\r\n\t}\r\n\t#onAliasBlur() {\r\n\t\t// If the alias is empty, then try to generate one [NL]\r\n\t\tif (!this.alias && this._aliasLocked === false) {\r\n\t\t\tthis.alias = generateAlias(this.value ?? '');\r\n\t\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t\t}\r\n\t}\r\n\r\n\t#onToggleAliasLock(event: CustomEvent) {\r\n\t\tthis._aliasLocked = !this._aliasLocked;\r\n\t\tif (!this.alias && this._aliasLocked) {\r\n\t\t\t// Reenable auto-generate if alias is empty and locked.\r\n\t\t\tthis.autoGenerateAlias = true;\r\n\t\t} else {\r\n\t\t\tthis.autoGenerateAlias = false;\r\n\t\t}\r\n\r\n\t\tif (!this._aliasLocked) {\r\n\t\t\t(event.target as UUIInputElement)?.focus();\r\n\t\t}\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tconst nameLabel = this.label ?? this.localize.term('placeholders_entername');\r\n\t\tconst aliasLabel = this.localize.term('placeholders_enterAlias');\r\n\r\n\t\treturn html`\r\n\t\t\t<uui-input\r\n\t\t\t\tid=\"name\"\r\n\t\t\t\tplaceholder=${nameLabel}\r\n\t\t\t\tlabel=${nameLabel}\r\n\t\t\t\t.value=${this.value}\r\n\t\t\t\t@input=${this.#onNameChange}\r\n\t\t\t\t?required=${this.required}\r\n\t\t\t\t?readonly=${this.readonly}>\r\n\t\t\t\t${!this.readonly\r\n\t\t\t\t\t? html`\r\n\t\t\t\t\t\t\t<uui-input-lock\r\n\t\t\t\t\t\t\t\tid=\"alias\"\r\n\t\t\t\t\t\t\t\tname=\"alias\"\r\n\t\t\t\t\t\t\t\tslot=\"append\"\r\n\t\t\t\t\t\t\t\tlabel=${aliasLabel}\r\n\t\t\t\t\t\t\t\tplaceholder=${aliasLabel}\r\n\t\t\t\t\t\t\t\t.value=${this.alias}\r\n\t\t\t\t\t\t\t\t?auto-width=${!!this.value}\r\n\t\t\t\t\t\t\t\t?locked=${this._aliasLocked && !this.aliasReadonly}\r\n\t\t\t\t\t\t\t\t?readonly=${this.aliasReadonly}\r\n\t\t\t\t\t\t\t\t?required=${this.required}\r\n\t\t\t\t\t\t\t\t@input=${this.#onAliasChange}\r\n\t\t\t\t\t\t\t\t@blur=${this.#onAliasBlur}\r\n\t\t\t\t\t\t\t\t@lock-change=${this.#onToggleAliasLock}>\r\n\t\t\t\t\t\t\t</uui-input-lock>\r\n\t\t\t\t\t\t`\r\n\t\t\t\t\t: html`<span id=\"alias\" class=\"muted\" slot=\"append\">${this.alias}</span>`}\r\n\t\t\t</uui-input>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override readonly styles = css`\r\n\t\t:host {\r\n\t\t\tdisplay: contents;\r\n\t\t}\r\n\t\t#name {\r\n\t\t\twidth: 100%;\r\n\t\t\tflex: 1 1 auto;\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\r\n\t\t#alias {\r\n\t\t\t&.muted {\r\n\t\t\t\topacity: 0.55;\r\n\t\t\t\tpadding: var(--uui-size-1, 3px) var(--uui-size-space-3, 9px);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t:host(:invalid:not([pristine])) {\r\n\t\t\tcolor: var(--uui-color-invalid);\r\n\t\t}\r\n\t\t:host(:invalid:not([pristine])) > uui-input {\r\n\t\t\tborder-color: var(--uui-color-invalid);\r\n\t\t}\r\n\t`;\r\n}\r\n\r\nexport { UmbInputWithAliasElement as element };\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-input-with-alias': UmbInputWithAliasElement;\r\n\t}\r\n}\r\n","import type { UmbMultipleColorPickerItemInputElement } from './multiple-color-picker-item-input.element.js';\r\nimport { css, customElement, html, nothing, repeat, property, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UUIFormControlMixin } from '@umbraco-cms/backoffice/external/uui';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbSorterController } from '@umbraco-cms/backoffice/sorter';\r\nimport { UMB_PROPERTY_DATASET_CONTEXT } from '@umbraco-cms/backoffice/property';\r\nimport type { UmbInputEvent, UmbDeleteEvent } from '@umbraco-cms/backoffice/event';\r\nimport type { UmbSwatchDetails } from '@umbraco-cms/backoffice/models';\r\n\r\n/**\r\n * @element umb-multiple-color-picker-input\r\n */\r\n@customElement('umb-multiple-color-picker-input')\r\nexport class UmbMultipleColorPickerInputElement extends UUIFormControlMixin(UmbLitElement, '') {\r\n\t#sorter = new UmbSorterController(this, {\r\n\t\tgetUniqueOfElement: (element: UmbMultipleColorPickerItemInputElement) => {\r\n\t\t\treturn element.value.toString();\r\n\t\t},\r\n\t\tgetUniqueOfModel: (modelEntry: UmbSwatchDetails) => {\r\n\t\t\treturn modelEntry.value;\r\n\t\t},\r\n\t\tidentifier: 'Umb.SorterIdentifier.ColorEditor',\r\n\t\titemSelector: 'umb-multiple-color-picker-item-input',\r\n\t\tcontainerSelector: '#sorter-wrapper',\r\n\t\tonChange: ({ model }) => {\r\n\t\t\tconst oldValue = this._items;\r\n\t\t\tthis._items = model;\r\n\t\t\tthis.requestUpdate('_items', oldValue);\r\n\t\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t\t},\r\n\t});\r\n\r\n\t/**\r\n\t * This is a minimum amount of selected items in this input.\r\n\t * @type {number}\r\n\t * @attr\r\n\t * @default undefined\r\n\t */\r\n\t@property({ type: Number })\r\n\tmin?: number;\r\n\r\n\t/**\r\n\t * Min validation message.\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default\r\n\t */\r\n\t@property({ type: String, attribute: 'min-message' })\r\n\tminMessage = 'This field need more items';\r\n\r\n\t/**\r\n\t * This is a maximum amount of selected items in this input.\r\n\t * @type {number}\r\n\t * @attr\r\n\t * @default undefined\r\n\t */\r\n\t@property({ type: Number })\r\n\tmax?: number;\r\n\r\n\t/**\r\n\t * Max validation message.\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default\r\n\t */\r\n\t@property({ type: String, attribute: 'min-message' })\r\n\tmaxMessage = 'This field exceeds the allowed amount of items';\r\n\r\n\t/**\r\n\t * Disables the input\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default false\r\n\t */\r\n\t@property({ type: Boolean, reflect: true })\r\n\tdisabled = false;\r\n\r\n\t/**\r\n\t * Makes the input readonly\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default false\r\n\t */\r\n\t@property({ type: Boolean, reflect: true })\r\n\treadonly = false;\r\n\r\n\t@property({ type: Boolean })\r\n\tshowLabels = false;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_PROPERTY_DATASET_CONTEXT, async (instance) => {\r\n\t\t\tconst workspace = instance;\r\n\t\t\tthis.observe(\r\n\t\t\t\tawait workspace?.propertyValueByAlias<boolean>('useLabel'),\r\n\t\t\t\t(value) => {\r\n\t\t\t\t\tthis.showLabels = !!value;\r\n\t\t\t\t},\r\n\t\t\t\t'observeUseLabel',\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tthis.addValidator(\r\n\t\t\t'rangeUnderflow',\r\n\t\t\t() => this.minMessage,\r\n\t\t\t() => !!this.min && this._items.length < this.min,\r\n\t\t);\r\n\t\tthis.addValidator(\r\n\t\t\t'rangeOverflow',\r\n\t\t\t() => this.maxMessage,\r\n\t\t\t() => !!this.max && this._items.length > this.max,\r\n\t\t);\r\n\t}\r\n\r\n\t@state()\r\n\tprivate _items: Array<UmbSwatchDetails> = [];\r\n\r\n\t@property({ type: Array })\r\n\tpublic set items(items: Array<UmbSwatchDetails>) {\r\n\t\tthis._items = items ?? [];\r\n\t\tthis.#sorter.setModel(this.items);\r\n\t}\r\n\tpublic get items(): Array<UmbSwatchDetails> {\r\n\t\treturn this._items;\r\n\t}\r\n\r\n\t#onAdd() {\r\n\t\tthis.items = [...this._items, { value: '', label: '' }];\r\n\t\tthis.pristine = false;\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t\tthis.#focusNewItem();\r\n\t}\r\n\r\n\t#onChange(event: UmbInputEvent, currentIndex: number) {\r\n\t\tevent.stopPropagation();\r\n\t\tconst target = event.currentTarget as UmbMultipleColorPickerItemInputElement;\r\n\t\tconst value = target.value as string;\r\n\t\tconst label = target.label as string;\r\n\r\n\t\tthis.items = this._items.map((item, index) => (index === currentIndex ? { value, label } : item));\r\n\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\tasync #focusNewItem() {\r\n\t\tawait this.updateComplete;\r\n\t\tconst items = this.shadowRoot?.querySelectorAll<UmbMultipleColorPickerItemInputElement>(\r\n\t\t\t'umb-multiple-color-picker-item-input',\r\n\t\t);\r\n\t\tif (items) {\r\n\t\t\tconst newItem = items[items.length - 1];\r\n\t\t\tnewItem.focus();\r\n\t\t}\r\n\t}\r\n\r\n\t#deleteItem(event: UmbDeleteEvent, itemIndex: number) {\r\n\t\tevent.stopPropagation();\r\n\t\tthis.items = this._items.filter((item, index) => index !== itemIndex);\r\n\t\tthis.pristine = false;\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\tprotected override getFormElement() {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`${this.#renderItems()} ${this.#renderAddButton()}`;\r\n\t}\r\n\r\n\t#renderItems() {\r\n\t\treturn html`\r\n\t\t\t<div id=\"sorter-wrapper\">\r\n\t\t\t\t${repeat(\r\n\t\t\t\t\tthis._items,\r\n\t\t\t\t\t(item, index) => index,\r\n\t\t\t\t\t(item, index) => html`\r\n\t\t\t\t\t\t<umb-multiple-color-picker-item-input\r\n\t\t\t\t\t\t\tlabel=${item.label}\r\n\t\t\t\t\t\t\tvalue=${item.value}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\trequired-message=\"Item ${index + 1} is missing a value\"\r\n\t\t\t\t\t\t\t?disabled=${this.disabled}\r\n\t\t\t\t\t\t\t?readonly=${this.readonly}\r\n\t\t\t\t\t\t\t?showLabels=${this.showLabels}\r\n\t\t\t\t\t\t\t@enter=${this.#onAdd}\r\n\t\t\t\t\t\t\t@change=${(event: UmbChangeEvent) => this.#onChange(event, index)}\r\n\t\t\t\t\t\t\t@delete=${(event: UmbDeleteEvent) => this.#deleteItem(event, index)}>\r\n\t\t\t\t\t\t</umb-multiple-color-picker-item-input>\r\n\t\t\t\t\t`,\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderAddButton() {\r\n\t\tif (this.disabled || this.readonly) return nothing;\r\n\t\treturn html`\r\n\t\t\t<uui-button\r\n\t\t\t\tid=\"action\"\r\n\t\t\t\tlabel=${this.localize.term('general_add')}\r\n\t\t\t\tlook=\"placeholder\"\r\n\t\t\t\tcolor=\"default\"\r\n\t\t\t\t?disabled=${this.disabled}\r\n\t\t\t\t@click=${this.#onAdd}></uui-button>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\t#action {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t}\r\n\r\n\t\t\t.--umb-sorter-placeholder {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tvisibility: hidden;\r\n\t\t\t}\r\n\t\t\t.--umb-sorter-placeholder::after {\r\n\t\t\t\tcontent: '';\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tinset: 0px;\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t\tborder: 1px dashed var(--uui-color-divider-emphasis);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbMultipleColorPickerInputElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-multiple-color-picker-input': UmbMultipleColorPickerInputElement;\r\n\t}\r\n}\r\n","import {\r\n\tcss,\r\n\thtml,\r\n\tnothing,\r\n\tcustomElement,\r\n\tproperty,\r\n\tquery,\r\n\tifDefined,\r\n\tstate,\r\n\twhen,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { umbConfirmModal } from '@umbraco-cms/backoffice/modal';\r\nimport { UmbChangeEvent, UmbInputEvent, UmbDeleteEvent } from '@umbraco-cms/backoffice/event';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UUIFormControlMixin } from '@umbraco-cms/backoffice/external/uui';\r\nimport type { UUIColorPickerElement, UUIInputElement, UUIInputEvent } from '@umbraco-cms/backoffice/external/uui';\r\n\r\n/**\r\n * @element umb-multiple-color-picker-item-input\r\n */\r\n@customElement('umb-multiple-color-picker-item-input')\r\nexport class UmbMultipleColorPickerItemInputElement extends UUIFormControlMixin(UmbLitElement, '') {\r\n\t@property({ type: String })\r\n\tpublic override set value(value: string) {\r\n\t\tthis._valueHex = this.#expandHex(value);\r\n\r\n\t\tif (value.startsWith('#')) {\r\n\t\t\tsuper.value = value.substring(1);\r\n\t\t} else {\r\n\t\t\tsuper.value = value;\r\n\t\t}\r\n\t}\r\n\tpublic override get value() {\r\n\t\treturn super.value as string;\r\n\t}\r\n\r\n\t@state()\r\n\tprivate _valueHex = '';\r\n\r\n\t/**\r\n\t * Disables the input\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default false\r\n\t */\r\n\t@property({ type: Boolean, reflect: true })\r\n\tdisabled = false;\r\n\r\n\t/**\r\n\t * Disables the input\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default false\r\n\t */\r\n\t@property({ type: Boolean, reflect: true })\r\n\treadonly = false;\r\n\r\n\t@property({ type: String })\r\n\tlabel?: string;\r\n\r\n\t@query('#input')\r\n\tprotected _input?: UUIInputElement;\r\n\r\n\t@query('#color')\r\n\tprotected _colorPicker!: UUIColorPickerElement;\r\n\r\n\t@property({ type: Boolean })\r\n\tshowLabels = false;\r\n\r\n\t#expandHex(hex: string) {\r\n\t\thex = hex.replace(/^#/, '');\r\n\r\n\t\t// If it's 3-digit, expand it\r\n\t\tif (hex.length === 3) {\r\n\t\t\thex = hex\r\n\t\t\t\t.split('')\r\n\t\t\t\t.map((ch) => ch + ch)\r\n\t\t\t\t.join('');\r\n\t\t}\r\n\r\n\t\treturn `#${hex}`;\r\n\t}\r\n\r\n\tasync #onDelete() {\r\n\t\tawait umbConfirmModal(this, {\r\n\t\t\theadline: `${this.localize.term('actions_delete')} ${this.value || ''}`,\r\n\t\t\tcontent: this.localize.term('content_nestedContentDeleteItem'),\r\n\t\t\tcolor: 'danger',\r\n\t\t\tconfirmLabel: this.localize.term('actions_delete'),\r\n\t\t});\r\n\r\n\t\tthis.dispatchEvent(new UmbDeleteEvent());\r\n\t}\r\n\r\n\t#onLabelInput(event: UUIInputEvent) {\r\n\t\tevent.stopPropagation();\r\n\t\tthis.label = event.target.value as string;\r\n\t\tthis.dispatchEvent(new UmbInputEvent());\r\n\t}\r\n\r\n\t#onLabelKeydown(event: KeyboardEvent) {\r\n\t\tevent.stopPropagation();\r\n\t\tconst target = event.currentTarget as UUIInputElement;\r\n\t\tif (event.key === 'Enter' && target.value) {\r\n\t\t\tthis.dispatchEvent(new CustomEvent('enter'));\r\n\t\t}\r\n\t}\r\n\r\n\t#onLabelChange(event: UUIInputEvent) {\r\n\t\tevent.stopPropagation();\r\n\t\tthis.label = event.target.value as string;\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\t#onValueKeydown(event: KeyboardEvent) {\r\n\t\tevent.stopPropagation();\r\n\t\tif (event.key === 'Enter') this.#onColorClick();\r\n\t}\r\n\r\n\t#onValueChange(event: UUIInputEvent) {\r\n\t\tevent.stopPropagation();\r\n\t\tthis.value = event.target.value as string;\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\t#onValueInput(event: UUIInputEvent) {\r\n\t\tevent.stopPropagation();\r\n\t\tthis.value = event.target.value as string;\r\n\t\tthis.dispatchEvent(new UmbInputEvent());\r\n\t}\r\n\r\n\t#onColorChange(event: Event) {\r\n\t\tevent.stopPropagation();\r\n\t\tthis.value = this._colorPicker.value;\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\t// Prevent valid events from bubbling outside the message element\r\n\t#onValid(event: any) {\r\n\t\tevent.stopPropagation();\r\n\t}\r\n\r\n\t// Prevent invalid events from bubbling outside the message element\r\n\t#onInvalid(event: any) {\r\n\t\tevent.stopPropagation();\r\n\t}\r\n\r\n\tpublic override async focus() {\r\n\t\tawait this.updateComplete;\r\n\t\tthis._input?.focus();\r\n\t}\r\n\r\n\tprotected override getFormElement() {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\t#onColorClick() {\r\n\t\tthis._colorPicker.click();\r\n\t}\r\n\r\n\toverride render() {\r\n\t\t//TODO: Using native input=color element instead of uui-color-picker due to its huge size and bad adaptability as a pop up\r\n\t\treturn html`\r\n\t\t\t<umb-form-validation-message id=\"validation-message\" @invalid=${this.#onInvalid} @valid=${this.#onValid}>\r\n\t\t\t\t<div id=\"item\">\r\n\t\t\t\t\t${this.disabled || this.readonly ? nothing : html`<uui-icon name=\"icon-grip\" class=\"handle\"></uui-icon>`}\r\n\t\t\t\t\t<div class=\"color-wrapper\">\r\n\t\t\t\t\t\t<uui-input\r\n\t\t\t\t\t\t\tid=\"input\"\r\n\t\t\t\t\t\t\tvalue=${this.value}\r\n\t\t\t\t\t\t\tlabel=${this.localize.term('general_value')}\r\n\t\t\t\t\t\t\tplaceholder=${this.localize.term('general_value')}\r\n\t\t\t\t\t\t\trequired=${this.required}\r\n\t\t\t\t\t\t\trequired-message=\"Value is missing\"\r\n\t\t\t\t\t\t\t@keydown=${this.#onValueKeydown}\r\n\t\t\t\t\t\t\t@input=${this.#onValueInput}\r\n\t\t\t\t\t\t\t@change=${this.#onValueChange}>\r\n\t\t\t\t\t\t\t<uui-color-swatch\r\n\t\t\t\t\t\t\t\tslot=\"prepend\"\r\n\t\t\t\t\t\t\t\tlabel=${this.value}\r\n\t\t\t\t\t\t\t\tvalue=${this._valueHex}\r\n\t\t\t\t\t\t\t\t@click=${this.#onColorClick}></uui-color-swatch>\r\n\t\t\t\t\t\t</uui-input>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"color\"\r\n\t\t\t\t\t\t\tid=\"color\"\r\n\t\t\t\t\t\t\tvalue=${this._valueHex}\r\n\t\t\t\t\t\t\taria-hidden=\"${true}\"\r\n\t\t\t\t\t\t\t@change=${this.#onColorChange} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t${when(\r\n\t\t\t\t\t\tthis.showLabels,\r\n\t\t\t\t\t\t() => html`\r\n\t\t\t\t\t\t\t<uui-input\r\n\t\t\t\t\t\t\t\tlabel=${this.localize.term('placeholders_label')}\r\n\t\t\t\t\t\t\t\tplaceholder=${this.localize.term('placeholders_label')}\r\n\t\t\t\t\t\t\t\tvalue=${ifDefined(this.label)}\r\n\t\t\t\t\t\t\t\t@keydown=${this.#onLabelKeydown}\r\n\t\t\t\t\t\t\t\t@input=\"${this.#onLabelInput}\"\r\n\t\t\t\t\t\t\t\t@change=\"${this.#onLabelChange}\"\r\n\t\t\t\t\t\t\t\t?disabled=${this.disabled}\r\n\t\t\t\t\t\t\t\t?readonly=${this.readonly}></uui-input>\r\n\t\t\t\t\t\t`,\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t${when(\r\n\t\t\t\t\t\t!this.readonly,\r\n\t\t\t\t\t\t() => html`\r\n\t\t\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\t\t\tcompact\r\n\t\t\t\t\t\t\t\tlabel=${this.localize.term('actions_delete')}\r\n\t\t\t\t\t\t\t\tlook=\"outline\"\r\n\t\t\t\t\t\t\t\t?disabled=${this.disabled}\r\n\t\t\t\t\t\t\t\t@click=${this.#onDelete}>\r\n\t\t\t\t\t\t\t\t<uui-icon name=\"icon-trash\"></uui-icon>\r\n\t\t\t\t\t\t\t</uui-button>\r\n\t\t\t\t\t\t`,\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</umb-form-validation-message>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tmargin-bottom: var(--uui-size-space-3);\r\n\t\t\t\tgap: var(--uui-size-space-3);\r\n\t\t\t}\r\n\r\n\t\t\t#item {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tgap: var(--uui-size-1);\r\n\t\t\t\talign-items: center;\r\n\t\t\t}\r\n\t\t\tuui-input {\r\n\t\t\t\tflex: 1;\r\n\t\t\t}\r\n\r\n\t\t\tuui-color-swatch {\r\n\t\t\t\tpadding: var(--uui-size-1);\r\n\t\t\t}\r\n\r\n\t\t\tuui-color-swatch:focus-within {\r\n\t\t\t\toutline: 2px solid var(--uui-color-selected);\r\n\t\t\t\toutline-offset: 0;\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t}\r\n\r\n\t\t\t.color-wrapper {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t}\r\n\r\n\t\t\tuui-input,\r\n\t\t\t#validation-message {\r\n\t\t\t\tflex: 1;\r\n\t\t\t}\r\n\r\n\t\t\tinput[type='color'] {\r\n\t\t\t\tvisibility: hidden;\r\n\t\t\t\twidth: 0px;\r\n\t\t\t\tpadding: 0;\r\n\t\t\t\tmargin: 0;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t}\r\n\r\n\t\t\t.handle {\r\n\t\t\t\tcursor: grab;\r\n\t\t\t}\r\n\r\n\t\t\t.handle:active {\r\n\t\t\t\tcursor: grabbing;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbMultipleColorPickerItemInputElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-multiple-color-picker-item-input': UmbMultipleColorPickerItemInputElement;\r\n\t}\r\n}\r\n","import type { UmbInputMultipleTextStringItemElement } from './input-multiple-text-string-item.element.js';\r\nimport { css, html, nothing, repeat, customElement, property, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbSorterController } from '@umbraco-cms/backoffice/sorter';\r\nimport type { UmbInputEvent, UmbDeleteEvent } from '@umbraco-cms/backoffice/event';\r\nimport { UmbFormControlMixin } from '@umbraco-cms/backoffice/validation';\r\n\r\n/**\r\n * @element umb-input-multiple-text-string\r\n */\r\n@customElement('umb-input-multiple-text-string')\r\nexport class UmbInputMultipleTextStringElement extends UmbFormControlMixin<undefined | string, typeof UmbLitElement>(\r\n\tUmbLitElement,\r\n\tundefined,\r\n) {\r\n\t#sorter = new UmbSorterController(this, {\r\n\t\tgetUniqueOfElement: (element) => {\r\n\t\t\treturn element.getAttribute('data-sort-entry-id');\r\n\t\t},\r\n\t\tgetUniqueOfModel: (modelEntry: string) => {\r\n\t\t\treturn modelEntry;\r\n\t\t},\r\n\t\tidentifier: 'Umb.SorterIdentifier.MultipleTextString',\r\n\t\titemSelector: 'umb-input-multiple-text-string-item',\r\n\t\tcontainerSelector: '#sorter-wrapper',\r\n\t\tonChange: ({ model }) => {\r\n\t\t\tconst oldValue = this._items;\r\n\t\t\tthis._items = model;\r\n\t\t\tthis.requestUpdate('_items', oldValue);\r\n\t\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t\t},\r\n\t});\r\n\r\n\t/**\r\n\t * This is a minimum amount of selected items in this input.\r\n\t * @type {number}\r\n\t * @attr\r\n\t * @default undefined\r\n\t */\r\n\t@property({ type: Number })\r\n\tmin?: number;\r\n\r\n\t/**\r\n\t * Min validation message.\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default\r\n\t */\r\n\t@property({ type: String, attribute: 'min-message' })\r\n\tminMessage = 'This field need more items';\r\n\r\n\t/**\r\n\t * This is a maximum amount of selected items in this input.\r\n\t * @type {number}\r\n\t * @attr\r\n\t * @default undefined\r\n\t */\r\n\t@property({ type: Number })\r\n\tmax?: number;\r\n\r\n\t/**\r\n\t * Max validation message.\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default\r\n\t */\r\n\t@property({ type: String, attribute: 'min-message' })\r\n\tmaxMessage = 'This field exceeds the allowed amount of items';\r\n\r\n\t/**\r\n\t * Disables the input\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default\r\n\t */\r\n\t@property({ type: Boolean, reflect: true })\r\n\tpublic set disabled(value) {\r\n\t\tthis.#disabled = value;\r\n\t\tif (value) {\r\n\t\t\tthis.#sorter.disable();\r\n\t\t}\r\n\t}\r\n\tpublic get disabled() {\r\n\t\treturn this.#disabled;\r\n\t}\r\n\t#disabled = false;\r\n\r\n\t/**\r\n\t * Makes the input readonly\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default\r\n\t */\r\n\t@property({ type: Boolean, reflect: true })\r\n\tpublic set readonly(value) {\r\n\t\tthis.#readonly = value;\r\n\t\tif (value) {\r\n\t\t\tthis.#sorter.disable();\r\n\t\t}\r\n\t}\r\n\tpublic get readonly() {\r\n\t\treturn this.#readonly;\r\n\t}\r\n\t#readonly = false;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\t// TODO: we need a way to overwrite the missing value validator. Se we can validate on other properties than value\r\n\t\t/*\r\n\t\tthis.removeValidator('valueMissing');\r\n\r\n\t\tthis.addValidator(\r\n\t\t\t'valueMissing',\r\n\t\t\t() => this.requiredMessage,\r\n\t\t\t() => this.items.length > 0\r\n\t\t);\r\n\t\t*/\r\n\r\n\t\tthis.addValidator(\r\n\t\t\t'rangeUnderflow',\r\n\t\t\t() => this.minMessage,\r\n\t\t\t() => !!this.min && this._items.length < this.min,\r\n\t\t);\r\n\t\tthis.addValidator(\r\n\t\t\t'rangeOverflow',\r\n\t\t\t() => this.maxMessage,\r\n\t\t\t() => !!this.max && this._items.length > this.max,\r\n\t\t);\r\n\t}\r\n\r\n\t@state()\r\n\tprivate _items: Array<string> = [];\r\n\r\n\t@property({ type: Array })\r\n\tpublic get items(): Array<string> {\r\n\t\treturn this._items;\r\n\t}\r\n\tpublic set items(items: Array<string>) {\r\n\t\t// TODO: when we have a way to overwrite the missing value validator we can remove this\r\n\t\tthis.value = items?.length > 0 ? 'some value' : '';\r\n\t\tthis._items = items ?? [];\r\n\t\tthis.#sorter.setModel(this.items);\r\n\t}\r\n\r\n\t// TODO: Some inputs might not have a value that is either FormDataEntryValue or FormData.\r\n\t//  How do we handle this?\r\n\t/*\r\n\t@property()\r\n\tpublic set value(value: FormDataEntryValue | FormData) {\r\n\t\tthrow new Error(`${this} does not support to set the value directly. Use items instead.`);\r\n\t}\r\n\tpublic get value() {\r\n\t\tthrow new Error(`${this} does not support to get the value directly. Use items instead.`);\r\n\t}\r\n\t*/\r\n\r\n\t#onAdd() {\r\n\t\tthis._items = [...this._items, ''];\r\n\t\tthis.pristine = false;\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t\tthis.#focusNewItem();\r\n\t}\r\n\r\n\t#onInput(event: UmbInputEvent, currentIndex: number) {\r\n\t\tevent.stopPropagation();\r\n\t\tconst target = event.currentTarget as UmbInputMultipleTextStringItemElement;\r\n\t\tconst value = target.value as string;\r\n\t\tthis._items = this._items.map((item, index) => (index === currentIndex ? value : item));\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\tasync #focusNewItem() {\r\n\t\tawait this.updateComplete;\r\n\t\tconst items = this.shadowRoot?.querySelectorAll(\r\n\t\t\t'umb-input-multiple-text-string-item',\r\n\t\t) as NodeListOf<UmbInputMultipleTextStringItemElement>;\r\n\t\tconst newItem = items[items.length - 1];\r\n\t\tnewItem.focus();\r\n\t}\r\n\r\n\t#deleteItem(event: UmbDeleteEvent, itemIndex: number) {\r\n\t\tevent.stopPropagation();\r\n\t\tthis._items = this._items.filter((item, index) => index !== itemIndex);\r\n\t\tthis.pristine = false;\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\toverride getFormElement() {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`<div id=\"sorter-wrapper\">${this.#renderItems()}</div>\r\n\t\t\t${this.#renderAddButton()}`;\r\n\t}\r\n\r\n\t#renderItems() {\r\n\t\treturn html`\r\n\t\t\t${repeat(\r\n\t\t\t\tthis._items,\r\n\t\t\t\t(item, index) => index,\r\n\t\t\t\t(item, index) => html`\r\n\t\t\t\t\t<umb-input-multiple-text-string-item\r\n\t\t\t\t\t\tname=\"item-${index}\"\r\n\t\t\t\t\t\tdata-sort-entry-id=${item}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\trequired-message=\"Item ${index + 1} is missing a value\"\r\n\t\t\t\t\t\tvalue=${item}\r\n\t\t\t\t\t\t?disabled=${this.disabled}\r\n\t\t\t\t\t\t?readonly=${this.readonly}\r\n\t\t\t\t\t\t@enter=${this.#onAdd}\r\n\t\t\t\t\t\t@delete=${(event: UmbDeleteEvent) => this.#deleteItem(event, index)}\r\n\t\t\t\t\t\t@input=${(event: UmbInputEvent) => this.#onInput(event, index)}>\r\n\t\t\t\t\t</umb-input-multiple-text-string-item>\r\n\t\t\t\t`,\r\n\t\t\t)}\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderAddButton() {\r\n\t\tif (this.disabled || this.readonly) return nothing;\r\n\t\treturn html`\r\n\t\t\t<uui-button\r\n\t\t\t\tcolor=\"default\"\r\n\t\t\t\tid=\"action\"\r\n\t\t\t\tlabel=\"Add\"\r\n\t\t\t\tlook=\"placeholder\"\r\n\t\t\t\t?disabled=${this.disabled}\r\n\t\t\t\t@click=${this.#onAdd}></uui-button>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\t#action {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t}\r\n\r\n\t\t\t.--umb-sorter-placeholder {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tvisibility: hidden;\r\n\t\t\t}\r\n\t\t\t.--umb-sorter-placeholder::after {\r\n\t\t\t\tcontent: '';\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tinset: 0px;\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t\tborder: 1px dashed var(--uui-color-divider-emphasis);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbInputMultipleTextStringElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-input-multiple-text-string': UmbInputMultipleTextStringElement;\r\n\t}\r\n}\r\n","import { css, customElement, html, nothing, property, query, when } from '@umbraco-cms/backoffice/external/lit';\r\nimport { umbConfirmModal } from '@umbraco-cms/backoffice/modal';\r\nimport { UmbChangeEvent, UmbInputEvent, UmbDeleteEvent } from '@umbraco-cms/backoffice/event';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UUIFormControlMixin } from '@umbraco-cms/backoffice/external/uui';\r\nimport type { UUIInputElement, UUIInputEvent } from '@umbraco-cms/backoffice/external/uui';\r\n\r\n/**\r\n * @element umb-input-multiple-text-string-item\r\n */\r\n@customElement('umb-input-multiple-text-string-item')\r\nexport class UmbInputMultipleTextStringItemElement extends UUIFormControlMixin(UmbLitElement, '') {\r\n\t/**\r\n\t * Disables the input\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default false\r\n\t */\r\n\t@property({ type: Boolean, reflect: true })\r\n\tdisabled = false;\r\n\r\n\t/**\r\n\t * Disables the input\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default false\r\n\t */\r\n\t@property({ type: Boolean, reflect: true })\r\n\treadonly = false;\r\n\r\n\t@query('#input')\r\n\tprotected _input?: UUIInputElement;\r\n\r\n\tasync #onDelete() {\r\n\t\tawait umbConfirmModal(this, {\r\n\t\t\theadline: `Delete ${this.value || 'item'}`,\r\n\t\t\tcontent: 'Are you sure you want to delete this item?',\r\n\t\t\tcolor: 'danger',\r\n\t\t\tconfirmLabel: 'Delete',\r\n\t\t});\r\n\r\n\t\tthis.dispatchEvent(new UmbDeleteEvent());\r\n\t}\r\n\r\n\t#onInput(event: UUIInputEvent) {\r\n\t\tevent.stopPropagation();\r\n\t\tconst target = event.currentTarget as UUIInputElement;\r\n\t\tthis.value = target.value as string;\r\n\t\tthis.dispatchEvent(new UmbInputEvent());\r\n\t}\r\n\r\n\t#onKeydown(event: KeyboardEvent) {\r\n\t\tevent.stopPropagation();\r\n\t\tconst target = event.currentTarget as UUIInputElement;\r\n\t\tif (event.key === 'Enter' && target.value) {\r\n\t\t\tthis.dispatchEvent(new CustomEvent('enter'));\r\n\t\t}\r\n\t}\r\n\r\n\t#onChange(event: UUIInputEvent) {\r\n\t\tevent.stopPropagation();\r\n\t\tconst target = event.currentTarget as UUIInputElement;\r\n\t\tthis.value = target.value as string;\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\t// Prevent valid events from bubbling outside the message element\r\n\t#onValid(event: Event) {\r\n\t\tevent.stopPropagation();\r\n\t}\r\n\r\n\t// Prevent invalid events from bubbling outside the message element\r\n\t#onInvalid(event: Event) {\r\n\t\tevent.stopPropagation();\r\n\t}\r\n\r\n\tpublic override async focus() {\r\n\t\tawait this.updateComplete;\r\n\t\tthis._input?.focus();\r\n\t}\r\n\r\n\tprotected override getFormElement() {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t${this.disabled || this.readonly ? nothing : html`<uui-icon name=\"icon-grip\" class=\"handle\"></uui-icon>`}\r\n\r\n\t\t\t<umb-form-validation-message id=\"validation-message\" @invalid=${this.#onInvalid} @valid=${this.#onValid}>\r\n\t\t\t\t<uui-input\r\n\t\t\t\t\tid=\"input\"\r\n\t\t\t\t\tlabel=\"Value\"\r\n\t\t\t\t\tvalue=${this.value}\r\n\t\t\t\t\t@keydown=${this.#onKeydown}\r\n\t\t\t\t\t@input=${this.#onInput}\r\n\t\t\t\t\t@change=${this.#onChange}\r\n\t\t\t\t\t?disabled=${this.disabled}\r\n\t\t\t\t\t?readonly=${this.readonly}\r\n\t\t\t\t\trequired=${this.required}\r\n\t\t\t\t\trequired-message=\"Value is missing\"></uui-input>\r\n\t\t\t</umb-form-validation-message>\r\n\r\n\t\t\t${when(\r\n\t\t\t\t!this.readonly,\r\n\t\t\t\t() => html`\r\n\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\tcompact\r\n\t\t\t\t\t\tlabel=\"${this.localize.term('general_remove')} ${this.value}\"\r\n\t\t\t\t\t\tlook=\"outline\"\r\n\t\t\t\t\t\t?disabled=${this.disabled}\r\n\t\t\t\t\t\t@click=${this.#onDelete}>\r\n\t\t\t\t\t\t<uui-icon name=\"icon-trash\"></uui-icon>\r\n\t\t\t\t\t</uui-button>\r\n\t\t\t\t`,\r\n\t\t\t)}\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tmargin-bottom: var(--uui-size-space-3);\r\n\t\t\t\tgap: var(--uui-size-space-3);\r\n\t\t\t}\r\n\r\n\t\t\t#validation-message {\r\n\t\t\t\tflex: 1;\r\n\t\t\t}\r\n\r\n\t\t\t#input {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t.handle {\r\n\t\t\t\tcursor: grab;\r\n\t\t\t}\r\n\r\n\t\t\t.handle:active {\r\n\t\t\t\tcursor: grabbing;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbInputMultipleTextStringItemElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-input-multiple-text-string-item': UmbInputMultipleTextStringItemElement;\r\n\t}\r\n}\r\n","import { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { css, html, customElement } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\n\r\n// TODO: maybe move this to UI Library.\r\n// TODO: add overwrites for customization.\r\n\r\n/**\r\n * Popover layout element.\r\n * @element umb-popover-layout\r\n */\r\n@customElement('umb-popover-layout')\r\nexport class UmbPopoverLayoutElement extends UmbLitElement {\r\n\toverride render() {\r\n\t\treturn html`<slot></slot>`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tbackground-color: var(--uui-color-surface);\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tborder: 1px solid var(--uui-color-border);\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t\tbox-shadow: var(--uui-shadow-depth-3);\r\n\t\t\t\toverflow: clip;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-popover-layout': UmbPopoverLayoutElement;\r\n\t}\r\n}\r\n","import { customElement, css, property, type PropertyValues } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbElementMixin } from '@umbraco-cms/backoffice/element-api';\r\nimport { UUIRefNodeElement } from '@umbraco-cms/backoffice/external/uui';\r\n\r\n@customElement('umb-ref-item')\r\nexport class UmbRefItemElement extends UmbElementMixin(UUIRefNodeElement) {\r\n\t@property({ type: String })\r\n\ticon? = '';\r\n\r\n\t#iconElement = document.createElement('umb-icon');\r\n\r\n\tprotected override firstUpdated(_changedProperties: PropertyValues): void {\r\n\t\tsuper.firstUpdated(_changedProperties);\r\n\r\n\t\tif (this.icon) {\r\n\t\t\t// Temporary fix for the icon appending, this could in the future be changed to override a renderIcon method, or other ways to make this happen without appending children.\r\n\t\t\tthis.#iconElement.setAttribute('slot', 'icon');\r\n\t\t\tthis.#iconElement.setAttribute('name', this.icon);\r\n\t\t\tthis.appendChild(this.#iconElement);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\t...UUIRefNodeElement.styles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tpadding-top: var(--uui-size-3);\r\n\t\t\t\tpadding-bottom: var(--uui-size-3);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-ref-item': UmbRefItemElement;\r\n\t}\r\n}\r\n","import { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport {\r\n\ttype PropertyValueMap,\r\n\tcss,\r\n\tcustomElement,\r\n\thtml,\r\n\tproperty,\r\n\tquery,\r\n\tstate,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { clamp } from '@umbraco-cms/backoffice/utils';\r\n\r\n/**\r\n * Custom element for a split panel with adjustable divider.\r\n * @element umb-split-panel\r\n * @slot start - Content for the start panel.\r\n * @slot end - Content for the end panel.\r\n * @cssprop --umb-split-panel-initial-position - Initial position of the divider.\r\n * @cssprop --umb-split-panel-start-min-width - Minimum width of the start panel.\r\n * @cssprop --umb-split-panel-end-min-width - Minimum width of the end panel.\r\n * @cssprop --umb-split-panel-divider-touch-area-width - Width of the divider touch area.\r\n * @cssprop --umb-split-panel-divider-width - Width of the divider.\r\n * @cssprop --umb-split-panel-divider-color - Color of the divider.\r\n */\r\n@customElement('umb-split-panel')\r\nexport class UmbSplitPanelElement extends UmbLitElement {\r\n\t@query('#main') mainElement!: HTMLElement;\r\n\t@query('#divider-touch-area') dividerTouchAreaElement!: HTMLElement;\r\n\t@query('#divider') dividerElement!: HTMLElement;\r\n\r\n\t/**\r\n\t * Snap points for the divider position.\r\n\t * Pixel or percent space-separated values: e.g., \"100px 50% -75% -200px\".\r\n\t * Negative values are relative to the end of the container.\r\n\t */\r\n\t@property({ type: String }) snap?: string; //TODO: Consider using css variables for snap points.\r\n\r\n\t/**\r\n\t * Locking mode for the split panel.\r\n\t * Possible values: \"start\", \"end\", \"none\" (default).\r\n\t */\r\n\t@property({ type: String }) lock: 'start' | 'end' | 'none' = 'none';\r\n\r\n\t/**\r\n\t * Initial position of the divider.\r\n\t * Pixel or percent value: e.g., \"100px\" or \"25%\".\r\n\t * Defaults to a CSS variable if not set: \"var(--umb-split-panel-initial-position) which defaults to 50%\".\r\n\t */\r\n\t@property({ type: String, reflect: true }) position = 'var(--umb-split-panel-initial-position)';\r\n\t//TODO: Add support for negative values (relative to end of container) similar to snap points.\r\n\r\n\t/** Width of the locked panel when in \"start\" or \"end\" lock mode */\r\n\t#lockedPanelWidth: number = 0;\r\n\t/** Pixel value for the snap threshold. Determines how close the divider needs to be to a snap point to snap to it. */\r\n\treadonly #SNAP_THRESHOLD = 25 as const;\r\n\r\n\t@state() private _hasStartPanel = false;\r\n\t@state() private _hasEndPanel = false;\r\n\tget #hasBothPanels() {\r\n\t\treturn this._hasStartPanel && this._hasEndPanel;\r\n\t}\r\n\r\n\t#hasInitialized = false;\r\n\r\n\toverride disconnectedCallback() {\r\n\t\tsuper.disconnectedCallback();\r\n\t\tthis.#disconnect();\r\n\t}\r\n\r\n\tprotected override updated(_changedProperties: PropertyValueMap<any> | Map<PropertyKey, unknown>): void {\r\n\t\tsuper.updated(_changedProperties);\r\n\r\n\t\tif (!this.#hasInitialized) return;\r\n\r\n\t\tif (_changedProperties.has('position')) {\r\n\t\t\tif (this.lock !== 'none') {\r\n\t\t\t\tconst { width } = this.mainElement.getBoundingClientRect();\r\n\r\n\t\t\t\tlet pos = parseFloat(this.position);\r\n\r\n\t\t\t\tif (this.position.endsWith('%')) {\r\n\t\t\t\t\tpos = (pos / 100) * width;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst lockedPanelWidth = this.lock === 'start' ? pos : width - pos;\r\n\t\t\t\tthis.#lockedPanelWidth = lockedPanelWidth;\r\n\t\t\t}\r\n\r\n\t\t\tthis.#updateSplit();\r\n\t\t}\r\n\t}\r\n\r\n\t#setPosition(pos: number) {\r\n    const { width } = this.mainElement.getBoundingClientRect();\r\n    const localPos = clamp(pos, 0, width);\r\n    const percentagePos = (localPos / width) * 100;\r\n    this.position = percentagePos + '%';\r\n    \r\n\t// Update ARIA value for divider\r\n    const formatted = percentagePos.toFixed(0);\r\n    const ariaText = this.localize?.term('general_dividerPosition', [formatted]) ?? `Divider at ${formatted}%`;\r\n\r\n    this.dividerTouchAreaElement.setAttribute('aria-valuetext', ariaText);\r\n}\r\n\r\n\t#updateSplit() {\r\n\t\t// If lock is none\r\n\t\tlet maxStartWidth = this.position;\r\n\t\tlet maxEndWidth = '1fr';\r\n\r\n\t\tif (this.lock === 'start') {\r\n\t\t\tmaxStartWidth = this.#lockedPanelWidth + 'px';\r\n\t\t\tmaxEndWidth = `1fr`;\r\n\t\t}\r\n\t\tif (this.lock === 'end') {\r\n\t\t\tmaxStartWidth = `1fr`;\r\n\t\t\tmaxEndWidth = this.#lockedPanelWidth + 'px';\r\n\t\t}\r\n\r\n\t\tthis.mainElement.style.gridTemplateColumns = `\r\n      minmax(var(--umb-split-panel-start-min-width), ${maxStartWidth})\r\n      0px\r\n      minmax(var(--umb-split-panel-end-min-width), ${maxEndWidth})\r\n    `;\r\n\t}\r\n\r\n\t#onDragStart = (event: PointerEvent | TouchEvent) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tconst move = (event: PointerEvent) => {\r\n\t\t\tconst { clientX } = event;\r\n\t\t\tconst { left, width } = this.mainElement.getBoundingClientRect();\r\n\t\t\tconst localPos = clamp(clientX - left, 0, width);\r\n\t\t\tconst mappedPos = mapXAxisToSnap(localPos, width);\r\n\r\n\t\t\tthis.#lockedPanelWidth = this.lock === 'start' ? mappedPos : width - mappedPos;\r\n\t\t\tthis.#setPosition(mappedPos);\r\n\t\t};\r\n\r\n\t\tconst stop = () => {\r\n\t\t\tdocument.removeEventListener('pointermove', move);\r\n\t\t\tdocument.removeEventListener('pointerup', stop);\r\n\r\n\t\t\tthis.dispatchEvent(new CustomEvent('position-changed', { detail: { position: this.position } }));\r\n\t\t};\r\n\r\n\t\tconst mapXAxisToSnap = (xPos: number, containerWidth: number) => {\r\n\t\t\tconst snaps = this.snap?.split(' ');\r\n\t\t\tif (!snaps) return xPos;\r\n\r\n\t\t\tconst snapsInPixels = snaps.map((snap) => {\r\n\t\t\t\tlet snapPx = parseFloat(snap);\r\n\r\n\t\t\t\tif (snap.endsWith('%')) {\r\n\t\t\t\t\tsnapPx = (snapPx / 100) * containerWidth;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (snap.startsWith('-')) {\r\n\t\t\t\t\tsnapPx = containerWidth + snapPx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn snapPx;\r\n\t\t\t});\r\n\r\n\t\t\tconst closestSnap = snapsInPixels.reduce((prev, curr) => {\r\n\t\t\t\treturn Math.abs(curr - xPos) < Math.abs(prev - xPos) ? curr : prev;\r\n\t\t\t});\r\n\r\n\t\t\tif (closestSnap < xPos + this.#SNAP_THRESHOLD && closestSnap > xPos - this.#SNAP_THRESHOLD) {\r\n\t\t\t\txPos = closestSnap;\r\n\t\t\t}\r\n\r\n\t\t\treturn xPos;\r\n\t\t};\r\n\r\n\t\tdocument.addEventListener('pointermove', move, { passive: true });\r\n\t\tdocument.addEventListener('pointerup', stop);\r\n\t};\r\n\r\n\t#disconnect() {\r\n\t\tthis.dividerTouchAreaElement.removeEventListener('pointerdown', this.#onDragStart);\r\n\t\tthis.dividerTouchAreaElement.removeEventListener('touchstart', this.#onDragStart);\r\n\t\tthis.dividerElement.style.display = 'none';\r\n\t\tthis.mainElement.style.display = 'flex';\r\n\t\tthis.#hasInitialized = false;\r\n\t}\r\n\r\n\tasync #connect() {\r\n\t\tthis.#hasInitialized = true;\r\n\r\n\t\tthis.mainElement.style.display = 'grid';\r\n\t\tthis.mainElement.style.gridTemplateColumns = `${this.position} 0px 1fr`;\r\n\t\tthis.dividerElement.style.display = 'unset';\r\n\r\n\t\tthis.dividerTouchAreaElement.addEventListener('pointerdown', this.#onDragStart);\r\n\t\tthis.dividerTouchAreaElement.addEventListener('touchstart', this.#onDragStart, { passive: false });\r\n\r\n\t\t// Wait for the next frame to get the correct position of the divider.\r\n\t\tawait new Promise((resolve) => requestAnimationFrame(resolve));\r\n\r\n\t\tconst { left: dividerLeft } = this.shadowRoot!.querySelector('#divider')!.getBoundingClientRect();\r\n\t\tconst { left: mainLeft, width: mainWidth } = this.mainElement.getBoundingClientRect();\r\n\t\tconst percentagePos = ((dividerLeft - mainLeft) / mainWidth) * 100;\r\n\t\tthis.position = `${percentagePos}%`;\r\n\t}\r\n\r\n\t#onSlotChanged(event: Event) {\r\n\t\tconst slot = event.target as HTMLSlotElement;\r\n\t\tconst name = slot.name;\r\n\r\n\t\tif (name === 'start') {\r\n\t\t\tthis._hasStartPanel = slot.assignedElements().length > 0;\r\n\t\t}\r\n\t\tif (name === 'end') {\r\n\t\t\tthis._hasEndPanel = slot.assignedElements().length > 0;\r\n\t\t}\r\n\r\n\t\tif (!this.#hasBothPanels) {\r\n\t\t\tif (this.#hasInitialized) {\r\n\t\t\t\tthis.#disconnect();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.#connect();\r\n\t}\r\n\r\n\t#onKeydown(event: KeyboardEvent) {\r\n\t\tif (event.key === 'ArrowLeft' || event.key === 'ArrowRight') {\r\n\t\t\tconst { width } = this.mainElement.getBoundingClientRect();\r\n\t\t\tconst divider = this.dividerElement.getBoundingClientRect();\r\n\r\n\t\t\tconst dividerPos = divider.left - this.mainElement.getBoundingClientRect().left;\r\n\t\t\tconst percentageFromWidth = (dividerPos / width) * 100;\r\n\r\n\t\t\tconst multiplier = event.shiftKey ? 10 : 1;\r\n\t\t\tconst step = 1 * multiplier * (event.key === 'ArrowLeft' ? -1 : 1);\r\n\r\n\t\t\tconst newPercent = percentageFromWidth + step;\r\n\t\t\tconst toPixels = (newPercent / 100) * this.mainElement.getBoundingClientRect().width;\r\n\r\n\t\t\tthis.#setPosition(toPixels);\r\n\t\t}\r\n\r\n\t\tif (event.key === 'Home' || event.key === 'End') {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tconst { width } = this.mainElement.getBoundingClientRect();\r\n\t\t\tconst newPos = event.key === 'Home' ? 0 : width;\r\n\t\t\tthis.#setPosition(newPos);\r\n\t\t}\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<div id=\"main\">\r\n\t\t\t\t<slot\r\n\t\t\t\t\tname=\"start\"\r\n\t\t\t\t\t@slotchange=${this.#onSlotChanged}\r\n\t\t\t\t\tstyle=\"width: ${this._hasStartPanel ? '100%' : '0'}\"></slot>\r\n\t\t\t\t<div id=\"divider\">\r\n\t\t\t\t\t<div id=\"divider-touch-area\" tabindex=\"0\" @keydown=${this.#onKeydown}></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<slot name=\"end\" @slotchange=${this.#onSlotChanged} style=\"width: ${this._hasEndPanel ? '100%' : '0'}\"></slot>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\tstatic override styles = css`\r\n\t\t:host {\r\n\t\t\tdisplay: contents;\r\n\t\t\t--umb-split-panel-initial-position: 50%;\r\n\t\t\t--umb-split-panel-start-min-width: 0;\r\n\t\t\t--umb-split-panel-end-min-width: 0;\r\n\t\t\t--umb-split-panel-divider-touch-area-width: 20px;\r\n\t\t\t--umb-split-panel-divider-width: 1px;\r\n\t\t\t--umb-split-panel-divider-color: transparent;\r\n\t\t\t--umb-split-panel-slot-overflow: hidden;\r\n\t\t}\r\n\t\tslot {\r\n\t\t\toverflow: var(--umb-split-panel-slot-overflow);\r\n\t\t\tdisplay: block;\r\n\t\t\tmin-height: 0;\r\n\t\t}\r\n\t\t#main {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tposition: relative;\r\n\t\t\tz-index: 0;\r\n\t\t\toverflow: hidden;\r\n\t\t}\r\n\t\t#divider {\r\n\t\t\theight: 100%;\r\n\t\t\tposition: relative;\r\n\t\t\tz-index: 999999;\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t\t#divider-touch-area {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 5px;\r\n\t\t\theight: 100%;\r\n\t\t\twidth: var(--umb-split-panel-divider-touch-area-width);\r\n\t\t\ttransform: translateX(-50%);\r\n\t\t\tcursor: col-resize;\r\n\t\t}\r\n\t\t/* Do we want a line that shows the divider? */\r\n\t\t#divider::after {\r\n\t\t\tcontent: '';\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 50%;\r\n\t\t\twidth: var(--umb-split-panel-divider-width);\r\n\t\t\theight: 100%;\r\n\t\t\ttransform: round(translateX(-50%));\r\n\t\t\tbackground-color: var(--umb-split-panel-divider-color);\r\n\t\t\tz-index: -1;\r\n\t\t}\r\n\t`;\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-split-panel': UmbSplitPanelElement;\r\n\t}\r\n}\r\n","import { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { classMap, customElement, css, html, property } from '@umbraco-cms/backoffice/external/lit';\r\n\r\n/**\r\n *  @element umb-stack\r\n *  @description - Element for displaying items in a stack with even spacing between\r\n *  @augments LitElement\r\n */\r\n@customElement('umb-stack')\r\nexport class UmbStackElement extends UmbLitElement {\r\n\t/**\r\n\t * Look\r\n\t * @type {string}\r\n\t * @memberof UmbStackElement\r\n\t */\r\n\t@property({ type: String })\r\n\tlook: 'compact' | 'default' = 'default';\r\n\r\n\t/**\r\n\t * Divide\r\n\t * @type {boolean}\r\n\t * @memberof UmbStackElement\r\n\t */\r\n\t@property({ type: Boolean })\r\n\tdivide: boolean = false;\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<div class=${classMap({ divide: this.divide, compact: this.look === 'compact' })}>\r\n\t\t\t\t<slot></slot>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\tdiv {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tposition: relative;\r\n\t\t\t}\r\n\r\n\t\t\t::slotted(*) {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tmargin-top: var(--uui-size-space-6);\r\n\t\t\t}\r\n\r\n\t\t\t.divide ::slotted(*)::before {\r\n\t\t\t\tcontent: '';\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: calc((var(--uui-size-space-6) / 2) * -1);\r\n\t\t\t\theight: 0;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tborder-top: solid 1px var(--uui-color-divider-standalone);\r\n\t\t\t}\r\n\r\n\t\t\t::slotted(*:first-child) {\r\n\t\t\t\tmargin-top: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.divide ::slotted(*:first-child)::before {\r\n\t\t\t\tdisplay: none;\r\n\t\t\t}\r\n\r\n\t\t\t.compact ::slotted(*) {\r\n\t\t\t\tmargin-top: var(--uui-size-space-3);\r\n\t\t\t}\r\n\r\n\t\t\t.compact ::slotted(*:first-child) {\r\n\t\t\t\tmargin-top: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.compact.divide ::slotted(*)::before {\r\n\t\t\t\tdisplay: none;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbStackElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-stack': UmbStackElement;\r\n\t}\r\n}\r\n","import type { UmbUfmRenderElement } from '../../../ufm/components/ufm-render/index.js';\r\nimport {\r\n\tcss,\r\n\tcustomElement,\r\n\thtml,\r\n\tifDefined,\r\n\tproperty,\r\n\trepeat,\r\n\tstate,\r\n\twhen,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbSorterController } from '@umbraco-cms/backoffice/sorter';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\n\r\nexport interface UmbTableItem {\r\n\tid: string;\r\n\ticon?: string | null;\r\n\tentityType?: string;\r\n\tdata: Array<UmbTableItemData>;\r\n}\r\n\r\nexport interface UmbTableItemData {\r\n\tcolumnAlias: string;\r\n\tvalue: any;\r\n}\r\n\r\nexport interface UmbTableColumn {\r\n\tname: string;\r\n\talias: string;\r\n\telementName?: string;\r\n\twidth?: string;\r\n\tallowSorting?: boolean;\r\n\talign?: 'left' | 'center' | 'right';\r\n\tlabelTemplate?: string;\r\n}\r\n\r\nexport interface UmbTableColumnLayoutElement extends HTMLElement {\r\n\tcolumn: UmbTableColumn;\r\n\titem: UmbTableItem;\r\n\tvalue: any;\r\n}\r\n\r\nexport interface UmbTableConfig {\r\n\tallowSelection: boolean;\r\n\thideIcon?: boolean;\r\n}\r\n\r\nexport class UmbTableSelectedEvent extends Event {\r\n\tpublic constructor() {\r\n\t\tsuper('selected', { bubbles: true, composed: true });\r\n\t}\r\n}\r\n\r\nexport class UmbTableDeselectedEvent extends Event {\r\n\tpublic constructor() {\r\n\t\tsuper('deselected', { bubbles: true, composed: true });\r\n\t}\r\n}\r\n\r\nexport class UmbTableOrderedEvent extends Event {\r\n\tpublic constructor() {\r\n\t\tsuper('ordered', { bubbles: true, composed: true });\r\n\t}\r\n}\r\n\r\nexport class UmbTableSortedEvent extends Event {\r\n\t#itemId: string;\r\n\r\n\tpublic constructor({ itemId }: { itemId: string }) {\r\n\t\tsuper('sorted', { bubbles: true, composed: true });\r\n\t\tthis.#itemId = itemId;\r\n\t}\r\n\r\n\tpublic getItemId() {\r\n\t\treturn this.#itemId;\r\n\t}\r\n}\r\n\r\n/**\r\n *  @element umb-table\r\n *  @description - Element for displaying a table\r\n *  @fires {UmbTableSelectedEvent} selected - fires when a row is selected\r\n *  @fires {UmbTableDeselectedEvent} deselected - fires when a row is deselected\r\n *  @fires {UmbTableOrderedEvent} sort - fires when a column order is changed\r\n *  @augments LitElement\r\n */\r\n@customElement('umb-table')\r\nexport class UmbTableElement extends UmbLitElement {\r\n\t/**\r\n\t * Table Items\r\n\t * @type {Array<UmbTableItem>}\r\n\t * @memberof UmbTableElement\r\n\t */\r\n\t@property({ type: Array, attribute: false })\r\n\tprivate _items: Array<UmbTableItem> = [];\r\n\tpublic get items(): Array<UmbTableItem> {\r\n\t\treturn this._items;\r\n\t}\r\n\tpublic set items(value: Array<UmbTableItem>) {\r\n\t\tthis._items = value;\r\n\t\tthis.#sorter.setModel(value);\r\n\t}\r\n\r\n\t/**\r\n\t * @description Table Columns\r\n\t * @type {Array<UmbTableColumn>}\r\n\t * @memberof UmbTableElement\r\n\t */\r\n\t@property({ type: Array, attribute: false })\r\n\tpublic columns: Array<UmbTableColumn> = [];\r\n\r\n\t/**\r\n\t * @description Table Config\r\n\t * @type {UmbTableConfig}\r\n\t * @memberof UmbTableElement\r\n\t */\r\n\t@property({ type: Object, attribute: false })\r\n\tpublic config: UmbTableConfig = {\r\n\t\tallowSelection: false,\r\n\t\thideIcon: false,\r\n\t};\r\n\r\n\t/**\r\n\t * @description Table Selection\r\n\t * @type {Array<string>}\r\n\t * @memberof UmbTableElement\r\n\t */\r\n\t@property({ type: Array, attribute: false })\r\n\tpublic selection: Array<string> = [];\r\n\r\n\t@property({ type: String, attribute: false })\r\n\tpublic orderingColumn = '';\r\n\r\n\t@property({ type: Boolean, attribute: false })\r\n\tpublic orderingDesc = false;\r\n\r\n\tprivate _sortable = false;\r\n\t@property({ type: Boolean, reflect: true })\r\n\tget sortable() {\r\n\t\treturn this._sortable;\r\n\t}\r\n\tset sortable(newVal) {\r\n\t\tconst oldVal = this._sortable;\r\n\t\tif (oldVal === newVal) return;\r\n\t\tthis._sortable = newVal;\r\n\r\n\t\tif (this._sortable) {\r\n\t\t\tthis.#sorter.enable();\r\n\t\t} else {\r\n\t\t\tthis.#sorter.disable();\r\n\t\t}\r\n\r\n\t\tthis.requestUpdate('sortable', oldVal);\r\n\t}\r\n\r\n\t@state()\r\n\tprivate _selectionMode = false;\r\n\r\n\t#sorter = new UmbSorterController<UmbTableItem>(this, {\r\n\t\tgetUniqueOfElement: (element) => {\r\n\t\t\treturn element.dataset.sortableId;\r\n\t\t},\r\n\t\tgetUniqueOfModel: (item) => {\r\n\t\t\treturn item.id;\r\n\t\t},\r\n\t\tidentifier: 'Umb.SorterIdentifier.UmbTable',\r\n\t\titemSelector: 'uui-table-row',\r\n\t\tcontainerSelector: 'uui-table',\r\n\t\tonChange: ({ model }) => {\r\n\t\t\tconst oldValue = this.items;\r\n\t\t\tthis.items = model;\r\n\t\t\tthis.requestUpdate('items', oldValue);\r\n\t\t},\r\n\t\tonEnd: ({ item }) => {\r\n\t\t\tthis.dispatchEvent(new UmbTableSortedEvent({ itemId: item.id }));\r\n\t\t},\r\n\t});\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.#sorter.disable();\r\n\t}\r\n\r\n\tprivate _isSelected(key: string) {\r\n\t\treturn this.selection.includes(key);\r\n\t}\r\n\r\n\tprivate _handleRowCheckboxChange(event: Event, item: UmbTableItem) {\r\n\t\tconst checkboxElement = event.target as HTMLInputElement;\r\n\t\tif (checkboxElement.checked) {\r\n\t\t\tthis._selectRow(item.id);\r\n\t\t} else {\r\n\t\t\tthis._deselectRow(item.id);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _handleAllRowsCheckboxChange(event: Event) {\r\n\t\tconst checkboxElement = event.target as HTMLInputElement;\r\n\t\tif (checkboxElement.checked) {\r\n\t\t\tthis._selectAllRows();\r\n\t\t} else {\r\n\t\t\tthis._deselectAllRows();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _handleOrderingChange(column: UmbTableColumn) {\r\n\t\tthis.orderingDesc = this.orderingColumn === column.alias ? !this.orderingDesc : false;\r\n\t\tthis.orderingColumn = column.alias;\r\n\t\tthis.dispatchEvent(new UmbTableOrderedEvent());\r\n\t}\r\n\r\n\tprivate _selectAllRows() {\r\n\t\tthis.selection = this.items.map((item: UmbTableItem) => item.id);\r\n\t\tthis._selectionMode = true;\r\n\t\tthis.dispatchEvent(new UmbTableSelectedEvent());\r\n\t}\r\n\r\n\tprivate _deselectAllRows() {\r\n\t\tthis.selection = [];\r\n\t\tthis._selectionMode = false;\r\n\t\tthis.dispatchEvent(new UmbTableDeselectedEvent());\r\n\t}\r\n\r\n\tprivate _selectRow(key: string) {\r\n\t\tthis.selection = [...this.selection, key];\r\n\t\tthis._selectionMode = this.selection.length > 0;\r\n\t\tthis.dispatchEvent(new UmbTableSelectedEvent());\r\n\t}\r\n\r\n\tprivate _deselectRow(key: string) {\r\n\t\tthis.selection = this.selection.filter((selectionKey) => selectionKey !== key);\r\n\t\tthis._selectionMode = this.selection.length > 0;\r\n\t\tthis.dispatchEvent(new UmbTableDeselectedEvent());\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tconst style = !(this.config.allowSelection === false && this.config.hideIcon === true) ? 'width: 60px' : undefined;\r\n\t\treturn html`\r\n\t\t\t<uui-table class=\"uui-text\">\r\n\t\t\t\t<uui-table-column style=${ifDefined(style)}></uui-table-column>\r\n\t\t\t\t<uui-table-head>\r\n\t\t\t\t\t${this._renderHeaderCheckboxCell()} ${this.columns.map((column) => this._renderHeaderCell(column))}\r\n\t\t\t\t</uui-table-head>\r\n\t\t\t\t${repeat(this.items, (item) => item.id, this._renderRow)}\r\n\t\t\t</uui-table>\r\n\t\t`;\r\n\t}\r\n\r\n\tprivate _renderHeaderCell(column: UmbTableColumn) {\r\n\t\treturn html`\r\n\t\t\t<uui-table-head-cell style=\"--uui-table-cell-padding: 0 var(--uui-size-5)\">\r\n\t\t\t\t${column.allowSorting\r\n\t\t\t\t\t? html`${this._renderSortingUI(column)}`\r\n\t\t\t\t\t: html`<span style=\"text-align:${column.align ?? 'left'};\">${column.name}</span>`}\r\n\t\t\t</uui-table-head-cell>\r\n\t\t`;\r\n\t}\r\n\r\n\tprivate _renderSortingUI(column: UmbTableColumn) {\r\n\t\treturn html`\r\n\t\t\t<button\r\n\t\t\t\tstyle=\"padding: var(--uui-size-5) var(--uui-size-1);\"\r\n\t\t\t\t@click=\"${() => this._handleOrderingChange(column)}\">\r\n\t\t\t\t<span style=\"text-align:${column.align ?? 'left'};\">${column.name}</span>\r\n\t\t\t\t<uui-symbol-sort ?active=${this.orderingColumn === column.alias} ?descending=${this.orderingDesc}>\r\n\t\t\t\t</uui-symbol-sort>\r\n\t\t\t</button>\r\n\t\t`;\r\n\t}\r\n\r\n\tprivate _renderHeaderCheckboxCell() {\r\n\t\tif (this.config.hideIcon && !this.config.allowSelection) return;\r\n\t\treturn html`\r\n\t\t\t<uui-table-head-cell style=\"--uui-table-cell-padding: 0; text-align: center;\">\r\n\t\t\t\t${when(\r\n\t\t\t\t\tthis.config.allowSelection,\r\n\t\t\t\t\t() => html`\r\n\t\t\t\t\t\t<uui-checkbox\r\n\t\t\t\t\t\t\taria-label=${this.localize.term('general_selectAll')}\r\n\t\t\t\t\t\t\tstyle=\"padding: var(--uui-size-4) var(--uui-size-5);\"\r\n\t\t\t\t\t\t\t@change=\"${this._handleAllRowsCheckboxChange}\"\r\n\t\t\t\t\t\t\t?checked=${this.selection.length === this.items.length}></uui-checkbox>\r\n\t\t\t\t\t`,\r\n\t\t\t\t)}\r\n\t\t\t</uui-table-head-cell>\r\n\t\t`;\r\n\t}\r\n\r\n\tprivate _renderRow = (item: UmbTableItem) => {\r\n\t\treturn html`\r\n\t\t\t<uui-table-row\r\n\t\t\t\tdata-sortable-id=${item.id}\r\n\t\t\t\t?selectable=\"${this.config.allowSelection && !this._sortable}\"\r\n\t\t\t\t?select-only=${this._selectionMode}\r\n\t\t\t\t?selected=${this._isSelected(item.id)}\r\n\t\t\t\t@selected=${() => this._selectRow(item.id)}\r\n\t\t\t\t@deselected=${() => this._deselectRow(item.id)}>\r\n\t\t\t\t${this._renderRowCheckboxCell(item)} ${this.columns.map((column) => this._renderRowCell(column, item))}\r\n\t\t\t</uui-table-row>\r\n\t\t`;\r\n\t};\r\n\r\n\tprivate _renderRowCheckboxCell(item: UmbTableItem) {\r\n\t\tif (this.sortable === true) {\r\n\t\t\treturn html`\r\n\t\t\t\t<uui-table-cell style=\"text-align: center;\">\r\n\t\t\t\t\t<uui-icon name=\"icon-grip\"></uui-icon>\r\n\t\t\t\t</uui-table-cell>\r\n\t\t\t`;\r\n\t\t}\r\n\r\n\t\tif (this.config.hideIcon && !this.config.allowSelection) return;\r\n\r\n\t\treturn html`\r\n\t\t\t<uui-table-cell style=\"text-align: center;\">\r\n\t\t\t\t${when(!this.config.hideIcon, () => html`<umb-icon name=\"${ifDefined(item.icon ?? undefined)}\"></umb-icon>`)}\r\n\t\t\t\t${when(\r\n\t\t\t\t\tthis.config.allowSelection,\r\n\t\t\t\t\t() => html`\r\n\t\t\t\t\t\t<uui-checkbox\r\n\t\t\t\t\t\t\taria-label=${this.localize.term('buttons_select')}\r\n\t\t\t\t\t\t\t@click=${(e: PointerEvent) => e.stopPropagation()}\r\n\t\t\t\t\t\t\t@change=${(event: Event) => this._handleRowCheckboxChange(event, item)}\r\n\t\t\t\t\t\t\t?checked=${this._isSelected(item.id)}></uui-checkbox>\r\n\t\t\t\t\t`,\r\n\t\t\t\t)}\r\n\t\t\t</uui-table-cell>\r\n\t\t`;\r\n\t}\r\n\r\n\tprivate _renderRowCell(column: UmbTableColumn, item: UmbTableItem) {\r\n\t\treturn html`\r\n\t\t\t<uui-table-cell\r\n\t\t\t\tstyle=\"--uui-table-cell-padding: 0 var(--uui-size-5); text-align:${column.align ?? 'left'}; width: ${column.width || 'auto'};\">\r\n\t\t\t\t\t${this._renderCellContent(column, item)}\r\n\t\t\t</uui-table-cell>\r\n\t\t</uui-table-cell>\r\n\t\t`;\r\n\t}\r\n\r\n\tprivate _renderCellContent(column: UmbTableColumn, item: UmbTableItem) {\r\n\t\tconst value = item.data.find((data) => data.columnAlias === column.alias)?.value;\r\n\r\n\t\tif (column.elementName) {\r\n\t\t\tconst element = document.createElement(column.elementName) as UmbTableColumnLayoutElement;\r\n\t\t\telement.column = column;\r\n\t\t\telement.item = item;\r\n\t\t\telement.value = value;\r\n\t\t\treturn element;\r\n\t\t}\r\n\r\n\t\tif (column.labelTemplate) {\r\n\t\t\timport('@umbraco-cms/backoffice/ufm');\r\n\t\t\tconst element = document.createElement('umb-ufm-render') as UmbUfmRenderElement;\r\n\t\t\telement.inline = true;\r\n\t\t\telement.markdown = column.labelTemplate;\r\n\t\t\telement.value = { value };\r\n\t\t\treturn element;\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\theight: fit-content;\r\n\t\t\t}\r\n\r\n\t\t\t:host([sortable]) {\r\n\t\t\t\tuui-table-row:hover {\r\n\t\t\t\t\tcursor: grab;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tuui-table-row:active {\r\n\t\t\t\t\tcursor: grabbing;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tuui-table {\r\n\t\t\t\tbox-shadow: var(--uui-shadow-depth-1);\r\n\t\t\t}\r\n\r\n\t\t\tuui-table-head {\r\n\t\t\t\tposition: sticky;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tz-index: 1;\r\n\t\t\t\tbackground-color: var(--uui-color-surface, #fff);\r\n\t\t\t}\r\n\r\n\t\t\tuui-table-row uui-checkbox {\r\n\t\t\t\tdisplay: none;\r\n\t\t\t}\r\n\r\n\t\t\tuui-table-row[selectable]:focus umb-icon,\r\n\t\t\tuui-table-row[selectable]:focus-within umb-icon,\r\n\t\t\tuui-table-row[selectable]:hover umb-icon,\r\n\t\t\tuui-table-row[select-only] umb-icon {\r\n\t\t\t\tdisplay: none;\r\n\t\t\t}\r\n\r\n\t\t\tuui-table-row[selectable]:focus uui-checkbox,\r\n\t\t\tuui-table-row[selectable]:focus-within uui-checkbox,\r\n\t\t\tuui-table-row[selectable]:hover uui-checkbox,\r\n\t\t\tuui-table-row[select-only] uui-checkbox {\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t}\r\n\r\n\t\t\tuui-table-head-cell:focus,\r\n\t\t\tuui-table-head-cell:focus-within,\r\n\t\t\tuui-table-head-cell:hover {\r\n\t\t\t\t--uui-symbol-sort-hover: 1;\r\n\t\t\t}\r\n\r\n\t\t\tuui-table-head-cell button {\r\n\t\t\t\tpadding: 0;\r\n\t\t\t\tbackground-color: transparent;\r\n\t\t\t\tcolor: inherit;\r\n\t\t\t\tborder: none;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\tfont-weight: inherit;\r\n\t\t\t\tfont-size: inherit;\r\n\t\t\t\tdisplay: inline-flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\r\n\t\t\tuui-table-head-cell button > span {\r\n\t\t\t\tflex: 1 0 auto;\r\n\t\t\t}\r\n\r\n\t\t\tuui-table-cell umb-icon {\r\n\t\t\t\tvertical-align: top;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbTableElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-table': UmbTableElement;\r\n\t}\r\n}\r\n","import { LitElement, css, customElement, html } from '@umbraco-cms/backoffice/external/lit';\r\n\r\n@customElement('umb-view-loader')\r\nexport class UmbViewLoaderElement extends LitElement {\r\n\t// Note just LitElement, not Umbraco Element.\r\n\r\n\toverride render() {\r\n\t\treturn html` <uui-loader></uui-loader>`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\topacity: 0;\r\n\t\t\t\tanimation: fadeIn 240ms 240ms forwards;\r\n\t\t\t}\r\n\r\n\t\t\t@keyframes fadeIn {\r\n\t\t\t\t100% {\r\n\t\t\t\t\topacity: 100%;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n"],"names":["_UmbBackofficeModalContainerElement_instances","createModalElements_fn","onCloseEnd_fn","renderModal_fn","UmbBackofficeModalContainerElement","UmbLitElement","__privateAdd","UMB_MODAL_MANAGER_CONTEXT","instance","modals","__privateMethod","html","repeat","modal","oldValue","oldModal","modalElement","modalContext","UmbModalElement","key","nothing","UmbTextStyles","css","__decorateClass","state","property","customElement","UmbBackofficeNotificationContainerElement","UMB_NOTIFICATION_CONTEXT","notifications","notificatonData","message","list","newest","notification","query","UmbBadgeElement","LitElement","ifDefined","_hasNodes","_onScroll","_UmbBodyLayoutElement_instances","setSlotVisibility_fn","UmbBodyLayoutElement","__privateGet","target","hasChildren","_UmbCodeBlockElement_instances","renderHeader_fn","UmbCodeBlockElement","text","when","_open","_UmbDropdownElement_instances","onToggle_fn","UmbDropdownElement","value","__privateSet","event","UmbOpenedEvent","UmbClosedEvent","_entityContext","_inViewport","_observingEntityActions","_UmbEntityActionsBundleElement_instances","observeEntityActions_fn","createFirstActionApi_fn","onFirstActionClick_fn","renderMore_fn","renderFirstAction_fn","UmbEntityActionsBundleElement","UmbEntityContext","entries","entry","_changedProperties","UmbExtensionsManifestInitializer","umbExtensionsRegistry","ext","actions","oldFirstManifest","oldFirstApi","createExtensionApi","UmbFooterLayoutElement","manifest","UmbHeaderAppButtonElement","UmbHistoryItemElement","UmbHistoryListElement","_color","_fallbackColor","_UmbIconElement_instances","updateColorStyle_fn","UmbIconElement","icon","color","styleMap","variable","extractUmbColorVariable","styling","_UmbInputColorElement_instances","onChange_fn","renderColors_fn","UmbInputColorElement","UUIFormControlMixin","UmbChangeEvent","map","swatch","UmbInputDateElement","UUIInputElement","type","_options","_UmbInputDropdownListElement_instances","UmbInputDropdownListElement","UmbFormControlMixin","UMB_VALIDATION_EMPTY_LOCALIZATION_KEY","option","_sorter","_min","_max","_pickerContext","_UmbInputEntityElement_instances","observePickerContext_fn","openPicker_fn","removeItem_fn","renderAddButton_fn","renderItems_fn","renderItem_fn","UmbInputEntityElement","UmbSorterController","element","modelEntry","model","uniques","selectionString","splitStringToArray","ctor","selection","selectedItems","item","_UmbInputEyeDropperElement_instances","UmbInputEyeDropperElement","swatches","_extensions","_extensionType","_UmbInputManifestElement_instances","observeExtensions_fn","onClick_fn","UmbInputManifestElement","extensions","a","b","modalManager","modalValue","UMB_ITEM_PICKER_MODAL","_validationRange","_UmbInputNumberRangeElement_instances","updateValue_fn","onMinInput_fn","onMaxInput_fn","getNumberOrUndefined","num","UmbInputNumberRangeElement","valueString","splittedValue","x","newValue","__superGet","__superSet","_value","_UmbInputRadioButtonListElement_instances","renderRadioButton_fn","UmbInputRadioButtonListElement","UUIRadioElement","classMap","_valueLow","_valueHigh","_UmbInputSliderElement_instances","setValueFromLowHigh_fn","renderSlider_fn","renderRangeSlider_fn","splitString","from","to","fromNumber","makeNumberOrUndefined","fallback","n","undefinedFallbackToString","UmbInputSliderElement","_checked","_UmbInputToggleElement_instances","UmbInputToggleElement","toggle","label","_UmbInputWithAliasElement_instances","onNameChange_fn","onAliasChange_fn","onAliasBlur_fn","onToggleAliasLock_fn","UmbInputWithAliasElement","nameLabel","aliasLabel","UUIInputEvent","generateAlias","_UmbMultipleColorPickerInputElement_instances","onAdd_fn","focusNewItem_fn","deleteItem_fn","UmbMultipleColorPickerInputElement","UMB_PROPERTY_DATASET_CONTEXT","workspace","items","currentIndex","index","itemIndex","_UmbMultipleColorPickerItemInputElement_instances","expandHex_fn","onDelete_fn","onLabelInput_fn","onLabelKeydown_fn","onLabelChange_fn","onValueKeydown_fn","onValueChange_fn","onValueInput_fn","onColorChange_fn","onValid_fn","onInvalid_fn","onColorClick_fn","UmbMultipleColorPickerItemInputElement","hex","ch","umbConfirmModal","UmbDeleteEvent","UmbInputEvent","_disabled","_readonly","_UmbInputMultipleTextStringElement_instances","onInput_fn","UmbInputMultipleTextStringElement","_UmbInputMultipleTextStringItemElement_instances","onKeydown_fn","UmbInputMultipleTextStringItemElement","UmbPopoverLayoutElement","_iconElement","UmbRefItemElement","UmbElementMixin","UUIRefNodeElement","_lockedPanelWidth","_SNAP_THRESHOLD","_UmbSplitPanelElement_instances","hasBothPanels_get","_hasInitialized","setPosition_fn","updateSplit_fn","_onDragStart","disconnect_fn","connect_fn","onSlotChanged_fn","UmbSplitPanelElement","move","clientX","left","width","localPos","clamp","mappedPos","mapXAxisToSnap","stop","xPos","containerWidth","snaps","closestSnap","snap","snapPx","prev","curr","pos","lockedPanelWidth","percentagePos","formatted","ariaText","maxStartWidth","maxEndWidth","resolve","dividerLeft","mainLeft","mainWidth","slot","name","percentageFromWidth","step","toPixels","newPos","UmbStackElement","UmbTableSelectedEvent","UmbTableDeselectedEvent","UmbTableOrderedEvent","UmbTableSortedEvent","#itemId","itemId","UmbTableElement","column","newVal","oldVal","selectionKey","style","e","data","UmbViewLoaderElement"],"mappings":"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"}