{"version":3,"file":"extension-collection.element-Bk8DYdj6.js","sources":["../../../src/packages/extension-insights/collection/extension-collection.element.ts"],"sourcesContent":["import type { UmbExtensionCollectionFilterModel, UmbExtensionDetailModel } from './types.js';\r\nimport { css, customElement, html } from '@umbraco-cms/backoffice/external/lit';\r\nimport { fromCamelCase } from '@umbraco-cms/backoffice/utils';\r\nimport { umbExtensionsRegistry } from '@umbraco-cms/backoffice/extension-registry';\r\nimport { UMB_COLLECTION_CONTEXT, UmbCollectionDefaultElement } from '@umbraco-cms/backoffice/collection';\r\nimport type { UmbDefaultCollectionContext } from '@umbraco-cms/backoffice/collection';\r\nimport type { UUISelectEvent } from '@umbraco-cms/backoffice/external/uui';\r\n\r\n@customElement('umb-extension-collection')\r\nexport class UmbExtensionCollectionElement extends UmbCollectionDefaultElement {\r\n\t#collectionContext?: UmbDefaultCollectionContext<UmbExtensionDetailModel, UmbExtensionCollectionFilterModel>;\r\n\r\n\t#options: Array<Option> = [];\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_COLLECTION_CONTEXT, (collectionContext) => {\r\n\t\t\tthis.#collectionContext = collectionContext;\r\n\t\t});\r\n\r\n\t\tthis.observe(umbExtensionsRegistry.extensions, (extensions) => {\r\n\t\t\tconst types = [...new Set(extensions.map((x) => x.type))];\r\n\t\t\tconst options = types.sort().map((x) => ({ name: fromCamelCase(x), value: x }));\r\n\t\t\tthis.#options = [{ name: 'All', value: '' }, ...options];\r\n\t\t});\r\n\t}\r\n\r\n\t#onChange(event: UUISelectEvent) {\r\n\t\tconst extensionType = event.target.value as string;\r\n\t\tthis.#collectionContext?.setFilter({ type: extensionType });\r\n\t}\r\n\r\n\tprotected override renderToolbar() {\r\n\t\treturn html`\r\n\t\t\t<umb-collection-toolbar slot=\"header\">\r\n\t\t\t\t<div id=\"toolbar\">\r\n\t\t\t\t\t<umb-collection-filter-field></umb-collection-filter-field>\r\n\t\t\t\t\t<uui-select\r\n\t\t\t\t\t\tlabel=\"Select type...\"\r\n\t\t\t\t\t\tplaceholder=\"Select type...\"\r\n\t\t\t\t\t\t.options=${this.#options}\r\n\t\t\t\t\t\t@change=${this.#onChange}></uui-select>\r\n\t\t\t\t</div>\r\n\t\t\t</umb-collection-toolbar>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\t#toolbar {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tgap: var(--uui-size-space-5);\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\r\n\t\t\t\tumb-collection-filter-field {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tuui-select {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\n/** @deprecated Should be exported as `element` only; to be removed in Umbraco 17. */\r\nexport default UmbExtensionCollectionElement;\r\n\r\nexport { UmbExtensionCollectionElement as element };\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-extension-collection': UmbExtensionCollectionElement;\r\n\t}\r\n}\r\n"],"names":["_collectionContext","_options","_UmbExtensionCollectionElement_instances","onChange_fn","UmbExtensionCollectionElement","UmbCollectionDefaultElement","__privateAdd","UMB_COLLECTION_CONTEXT","collectionContext","__privateSet","umbExtensionsRegistry","extensions","options","x","fromCamelCase","html","__privateGet","__privateMethod","event","extensionType","css","__decorateClass","customElement","UmbExtensionCollectionElement$1"],"mappings":";;;;;;;;;;wYAAAA,GAAAC,GAAAC,GAAAC;AASO,IAAMC,IAAN,cAA4CC,EAA4B;AAAA,EAK9E,cAAc;AACb,UAAA,GANKC,EAAA,MAAAJ,CAAA,GACNI,EAAA,MAAAN,CAAA,GAEAM,EAAA,MAAAL,GAA0B,EAAC,GAK1B,KAAK,eAAeM,GAAwB,CAACC,MAAsB;AAClE,MAAAC,EAAA,MAAKT,GAAqBQ,CAAA;AAAA,IAC3B,CAAC,GAED,KAAK,QAAQE,EAAsB,YAAY,CAACC,MAAe;AAE9D,YAAMC,IADQ,CAAC,GAAG,IAAI,IAAID,EAAW,IAAI,CAACE,MAAMA,EAAE,IAAI,CAAC,CAAC,EAClC,KAAA,EAAO,IAAI,CAACA,OAAO,EAAE,MAAMC,EAAcD,CAAC,GAAG,OAAOA,IAAI;AAC9E,MAAAJ,EAAA,MAAKR,GAAW,CAAC,EAAE,MAAM,OAAO,OAAO,GAAA,GAAM,GAAGW,CAAO,CAAA;AAAA,IACxD,CAAC;AAAA,EACF;AAAA,EAOmB,gBAAgB;AAClC,WAAOG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAOQC,QAAKf,CAAA,CAAQ;AAAA,gBACdgB,QAAKf,GAAAC,CAAA,CAAS;AAAA;AAAA;AAAA;AAAA,EAI7B;AAoBD;AAxDCH,IAAA,oBAAA,QAAA;AAEAC,IAAA,oBAAA,QAAA;AAHMC,IAAA,oBAAA,QAAA;AAmBNC,IAAS,SAACe,GAAuB;AAChC,QAAMC,IAAgBD,EAAM,OAAO;AACnC,EAAAF,EAAA,MAAKhB,CAAA,GAAoB,UAAU,EAAE,MAAMmB,GAAe;AAC3D;AAtBYf,EAuCI,SAAS;AAAA,EACxBgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBD;AAxDYhB,IAANiB,EAAA;AAAA,EADNC,EAAc,0BAA0B;AAAA,GAC5BlB,CAAA;AA4Db,MAAAmB,IAAenB;"}