{"version":3,"file":"language-workspace.context-B1BBxKKM.js","sources":["../../../src/packages/language/workspace/language/language-workspace-editor.element.ts","../../../src/packages/language/workspace/language/language-workspace.context.ts"],"sourcesContent":["import { UMB_LANGUAGE_ROOT_WORKSPACE_PATH } from '../language-root/paths.js';\r\nimport { UMB_LANGUAGE_WORKSPACE_CONTEXT } from './language-workspace.context-token.js';\r\nimport { html, customElement, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\n@customElement('umb-language-workspace-editor')\r\nexport class UmbLanguageWorkspaceEditorElement extends UmbLitElement {\r\n\t@state()\r\n\tprivate _isNew?: boolean;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_LANGUAGE_WORKSPACE_CONTEXT, (context) => {\r\n\t\t\tthis.observe(context?.isNew, (isNew) => (this._isNew = isNew));\r\n\t\t});\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`<umb-entity-detail-workspace-editor .backPath=${UMB_LANGUAGE_ROOT_WORKSPACE_PATH}>\r\n\t\t\t${this._isNew\r\n\t\t\t\t? html`<h3 slot=\"header\">Add language</h3>`\r\n\t\t\t\t: html`<umb-workspace-header-name-editable slot=\"header\"></umb-workspace-header-name-editable> `}\r\n\t\t</umb-entity-detail-workspace-editor>`;\r\n\t}\r\n\r\n\tstatic override styles = [UmbTextStyles];\r\n}\r\n\r\nexport default UmbLanguageWorkspaceEditorElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-language-workspace-editor': UmbLanguageWorkspaceEditorElement;\r\n\t}\r\n}\r\n","import { UmbLanguageDetailRepository } from '../../repository/index.js';\r\nimport { UMB_LANGUAGE_DETAIL_REPOSITORY_ALIAS } from '../../constants.js';\r\nimport type { UmbLanguageDetailModel } from '../../types.js';\r\nimport { UMB_LANGUAGE_ENTITY_TYPE, UMB_LANGUAGE_ROOT_ENTITY_TYPE } from '../../entity.js';\r\nimport { UmbLanguageWorkspaceEditorElement } from './language-workspace-editor.element.js';\r\nimport { UMB_LANGUAGE_WORKSPACE_ALIAS } from './constants.js';\r\nimport {\r\n\ttype UmbSubmittableWorkspaceContext,\r\n\tUmbWorkspaceIsNewRedirectController,\r\n\ttype UmbRoutableWorkspaceContext,\r\n\tUmbWorkspaceIsNewRedirectControllerAlias,\r\n\tUmbEntityNamedDetailWorkspaceContextBase,\r\n} from '@umbraco-cms/backoffice/workspace';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\n\r\nexport class UmbLanguageWorkspaceContext\r\n\textends UmbEntityNamedDetailWorkspaceContextBase<UmbLanguageDetailModel, UmbLanguageDetailRepository>\r\n\timplements UmbSubmittableWorkspaceContext, UmbRoutableWorkspaceContext\r\n{\r\n\tpublic readonly repository: UmbLanguageDetailRepository = new UmbLanguageDetailRepository(this);\r\n\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tsuper(host, {\r\n\t\t\tworkspaceAlias: UMB_LANGUAGE_WORKSPACE_ALIAS,\r\n\t\t\tentityType: UMB_LANGUAGE_ENTITY_TYPE,\r\n\t\t\tdetailRepositoryAlias: UMB_LANGUAGE_DETAIL_REPOSITORY_ALIAS,\r\n\t\t});\r\n\r\n\t\tthis.routes.setRoutes([\r\n\t\t\t{\r\n\t\t\t\tpath: 'create',\r\n\t\t\t\tcomponent: UmbLanguageWorkspaceEditorElement,\r\n\t\t\t\tsetup: async () => {\r\n\t\t\t\t\tawait this.createScaffold({ parent: { entityType: UMB_LANGUAGE_ROOT_ENTITY_TYPE, unique: null } });\r\n\r\n\t\t\t\t\tnew UmbWorkspaceIsNewRedirectController(\r\n\t\t\t\t\t\tthis,\r\n\t\t\t\t\t\tthis,\r\n\t\t\t\t\t\tthis.getHostElement().shadowRoot!.querySelector('umb-router-slot')!,\r\n\t\t\t\t\t);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: 'edit/:unique',\r\n\t\t\t\tcomponent: UmbLanguageWorkspaceEditorElement,\r\n\t\t\t\tsetup: (_component, info) => {\r\n\t\t\t\t\tthis.removeUmbControllerByAlias(UmbWorkspaceIsNewRedirectControllerAlias);\r\n\t\t\t\t\tthis.load(info.match.params.unique);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t]);\r\n\t}\r\n\r\n\tsetCulture(unique: string) {\r\n\t\tthis._data.updateCurrent({ unique });\r\n\t}\r\n\r\n\tsetMandatory(isMandatory: boolean) {\r\n\t\tthis._data.updateCurrent({ isMandatory });\r\n\t}\r\n\r\n\tsetDefault(isDefault: boolean) {\r\n\t\tthis._data.updateCurrent({ isDefault });\r\n\t}\r\n\r\n\tsetFallbackCulture(unique: string) {\r\n\t\tthis._data.updateCurrent({ fallbackIsoCode: unique });\r\n\t}\r\n}\r\n\r\nexport { UmbLanguageWorkspaceContext as api };\r\n"],"names":["UmbLanguageWorkspaceEditorElement","UmbLitElement","UMB_LANGUAGE_WORKSPACE_CONTEXT","context","isNew","html","UMB_LANGUAGE_ROOT_WORKSPACE_PATH","UmbTextStyles","__decorateClass","state","customElement","UmbLanguageWorkspaceContext","UmbEntityNamedDetailWorkspaceContextBase","host","UMB_LANGUAGE_WORKSPACE_ALIAS","UMB_LANGUAGE_ENTITY_TYPE","UMB_LANGUAGE_DETAIL_REPOSITORY_ALIAS","UmbLanguageDetailRepository","UMB_LANGUAGE_ROOT_ENTITY_TYPE","UmbWorkspaceIsNewRedirectController","_component","info","UmbWorkspaceIsNewRedirectControllerAlias","unique","isMandatory","isDefault"],"mappings":";;;;;;;;;;;;;;;AAMO,IAAMA,IAAN,cAAgDC,EAAc;AAAA,EAIpE,cAAc;AACb,UAAA,GAEA,KAAK,eAAeC,GAAgC,CAACC,MAAY;AAChE,WAAK,QAAQA,GAAS,OAAO,CAACC,MAAW,KAAK,SAASA,CAAM;AAAA,IAC9D,CAAC;AAAA,EACF;AAAA,EAES,SAAS;AACjB,WAAOC,kDAAqDC,CAAgC;AAAA,KACzF,KAAK,SACJD,yCACAA,2FAA8F;AAAA;AAAA,EAEnG;AAGD;AArBaL,EAoBI,SAAS,CAACO,CAAa;AAlB/BC,EAAA;AAAA,EADPC,EAAA;AAAM,GADKT,EAEJ,WAAA,UAAA,CAAA;AAFIA,IAANQ,EAAA;AAAA,EADNE,EAAc,+BAA+B;AAAA,GACjCV,CAAA;ACSN,MAAMW,UACJC,EAET;AAAA,EAGC,YAAYC,GAAyB;AACpC,UAAMA,GAAM;AAAA,MACX,gBAAgBC;AAAA,MAChB,YAAYC;AAAA,MACZ,uBAAuBC;AAAA,IAAA,CACvB,GAPF,KAAgB,aAA0C,IAAIC,EAA4B,IAAI,GAS7F,KAAK,OAAO,UAAU;AAAA,MACrB;AAAA,QACC,MAAM;AAAA,QACN,WAAWjB;AAAA,QACX,OAAO,YAAY;AAClB,gBAAM,KAAK,eAAe,EAAE,QAAQ,EAAE,YAAYkB,GAA+B,QAAQ,KAAA,GAAQ,GAEjG,IAAIC;AAAA,YACH;AAAA,YACA;AAAA,YACA,KAAK,eAAA,EAAiB,WAAY,cAAc,iBAAiB;AAAA,UAAA;AAAA,QAEnE;AAAA,MAAA;AAAA,MAED;AAAA,QACC,MAAM;AAAA,QACN,WAAWnB;AAAA,QACX,OAAO,CAACoB,GAAYC,MAAS;AAC5B,eAAK,2BAA2BC,CAAwC,GACxE,KAAK,KAAKD,EAAK,MAAM,OAAO,MAAM;AAAA,QACnC;AAAA,MAAA;AAAA,IACD,CACA;AAAA,EACF;AAAA,EAEA,WAAWE,GAAgB;AAC1B,SAAK,MAAM,cAAc,EAAE,QAAAA,EAAA,CAAQ;AAAA,EACpC;AAAA,EAEA,aAAaC,GAAsB;AAClC,SAAK,MAAM,cAAc,EAAE,aAAAA,EAAA,CAAa;AAAA,EACzC;AAAA,EAEA,WAAWC,GAAoB;AAC9B,SAAK,MAAM,cAAc,EAAE,WAAAA,EAAA,CAAW;AAAA,EACvC;AAAA,EAEA,mBAAmBF,GAAgB;AAClC,SAAK,MAAM,cAAc,EAAE,iBAAiBA,GAAQ;AAAA,EACrD;AACD;"}