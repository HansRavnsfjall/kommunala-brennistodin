{"version":3,"file":"property-editor-ui-upload-field.element-6bXGWNpu.js","sources":["../../../src/packages/media/media/property-editors/upload-field/property-editor-ui-upload-field.element.ts"],"sourcesContent":["import type { UmbInputUploadFieldElement } from '../../components/input-upload-field/input-upload-field.element.js';\r\nimport type { UmbMediaValueType } from './types.js';\r\nimport { html, customElement, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport type {\r\n\tUmbPropertyEditorUiElement,\r\n\tUmbPropertyEditorConfigCollection,\r\n} from '@umbraco-cms/backoffice/property-editor';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\nimport { UmbFormControlMixin } from '@umbraco-cms/backoffice/validation';\r\n\r\nimport '../../components/input-upload-field/input-upload-field.element.js';\r\n\r\n/**\r\n * @element umb-property-editor-ui-upload-field\r\n */\r\n@customElement('umb-property-editor-ui-upload-field')\r\nexport class UmbPropertyEditorUIUploadFieldElement\r\n\textends UmbFormControlMixin<UmbMediaValueType, typeof UmbLitElement>(UmbLitElement)\r\n\timplements UmbPropertyEditorUiElement\r\n{\r\n\t@state()\r\n\tprivate _fileExtensions?: Array<string>;\r\n\r\n\tpublic set config(config: UmbPropertyEditorConfigCollection | undefined) {\r\n\t\tif (!config) return;\r\n\t\tthis._fileExtensions = config.getValueByAlias<Array<string>>('fileExtensions');\r\n\t\tif (this._fileExtensions?.length) {\r\n\t\t\tthis._fileExtensions = this._fileExtensions.map((ext) =>\r\n\t\t\t\text.startsWith('.') ? ext : ext.includes('/') ? ext : `.${ext}`,\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\toverride firstUpdated() {\r\n\t\tthis.addFormControlElement(this.shadowRoot!.querySelector('umb-input-upload-field')!);\r\n\t}\r\n\r\n\t#onChange(event: CustomEvent) {\r\n\t\tthis.value = (event.target as UmbInputUploadFieldElement).value;\r\n\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-input-upload-field\r\n\t\t\t\t.allowedFileExtensions=${this._fileExtensions}\r\n\t\t\t\t.value=${this.value}\r\n\t\t\t\t@change=${this.#onChange}>\r\n\t\t\t</umb-input-upload-field>\r\n\t\t`;\r\n\t}\r\n}\r\n\r\nexport default UmbPropertyEditorUIUploadFieldElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-property-editor-ui-upload-field': UmbPropertyEditorUIUploadFieldElement;\r\n\t}\r\n}\r\n"],"names":["_UmbPropertyEditorUIUploadFieldElement_instances","onChange_fn","UmbPropertyEditorUIUploadFieldElement","UmbFormControlMixin","UmbLitElement","__privateAdd","config","ext","html","__privateMethod","event","UmbChangeEvent","__decorateClass","state","customElement","UmbPropertyEditorUIUploadFieldElement$1"],"mappings":";;;;;;;;;;;8OAAAA,GAAAC;AAiBO,IAAMC,IAAN,cACEC,EAA6DC,CAAa,EAEnF;AAAA,EAHO,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAL,CAAA;AAAA,EAAA;AAAA,EAON,IAAW,OAAOM,GAAuD;AACxE,IAAKA,MACL,KAAK,kBAAkBA,EAAO,gBAA+B,gBAAgB,GACzE,KAAK,iBAAiB,WACzB,KAAK,kBAAkB,KAAK,gBAAgB;AAAA,MAAI,CAACC,MAChDA,EAAI,WAAW,GAAG,KAAUA,EAAI,SAAS,GAAG,IAAtBA,IAAgC,IAAIA,CAAG;AAAA,IAAA;AAAA,EAGhE;AAAA,EAES,eAAe;AACvB,SAAK,sBAAsB,KAAK,WAAY,cAAc,wBAAwB,CAAE;AAAA,EACrF;AAAA,EAOS,SAAS;AACjB,WAAOC;AAAA;AAAA,6BAEoB,KAAK,eAAe;AAAA,aACpC,KAAK,KAAK;AAAA,cACTC,QAAKT,GAAAC,CAAA,CAAS;AAAA;AAAA;AAAA,EAG3B;AACD;AAnCOD,IAAA,oBAAA,QAAA;AAqBNC,IAAS,SAACS,GAAoB;AAC7B,OAAK,QAASA,EAAM,OAAsC,OAC1D,KAAK,cAAc,IAAIC,GAAgB;AACxC;AAnBQC,EAAA;AAAA,EADPC,EAAA;AAAM,GAJKX,EAKJ,WAAA,mBAAA,CAAA;AALIA,IAANU,EAAA;AAAA,EADNE,EAAc,qCAAqC;AAAA,GACvCZ,CAAA;AAqCb,MAAAa,IAAeb;"}