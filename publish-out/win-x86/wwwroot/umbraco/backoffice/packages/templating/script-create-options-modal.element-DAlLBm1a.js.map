{"version":3,"file":"script-create-options-modal.element-DAlLBm1a.js","sources":["../../../src/packages/templating/scripts/entity-actions/create/options-modal/script-create-options-modal.element.ts"],"sourcesContent":["import { UMB_SCRIPT_FOLDER_REPOSITORY_ALIAS } from '../../../tree/folder/index.js';\r\nimport type { UmbScriptCreateOptionsModalData } from './types.js';\r\nimport { html, customElement } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbModalBaseElement } from '@umbraco-cms/backoffice/modal';\r\nimport { UmbCreateFolderEntityAction } from '@umbraco-cms/backoffice/tree';\r\n\r\n@customElement('umb-script-create-options-modal')\r\nexport class UmbScriptCreateOptionsModalElement extends UmbModalBaseElement<UmbScriptCreateOptionsModalData, string> {\r\n\t#createFolderAction?: UmbCreateFolderEntityAction;\r\n\r\n\toverride connectedCallback(): void {\r\n\t\tsuper.connectedCallback();\r\n\t\tif (!this.data?.parent) throw new Error('A parent is required to create a folder');\r\n\r\n\t\tthis.#createFolderAction = new UmbCreateFolderEntityAction(this, {\r\n\t\t\tunique: this.data.parent.unique,\r\n\t\t\tentityType: this.data.parent.entityType,\r\n\t\t\tmeta: {\r\n\t\t\t\ticon: 'icon-folder',\r\n\t\t\t\tlabel: 'New folder...',\r\n\t\t\t\tfolderRepositoryAlias: UMB_SCRIPT_FOLDER_REPOSITORY_ALIAS,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tasync #onCreateFolderClick(event: PointerEvent) {\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tthis.#createFolderAction\r\n\t\t\t?.execute()\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis._submitModal();\r\n\t\t\t})\r\n\t\t\t.catch(() => {});\r\n\t}\r\n\r\n\t// close the modal when navigating to data type\r\n\t#onNavigate() {\r\n\t\tthis._submitModal();\r\n\t}\r\n\r\n\t#getCreateHref() {\r\n\t\treturn `section/settings/workspace/script/create/parent/${this.data?.parent.entityType}/${\r\n\t\t\tthis.data?.parent.unique || 'null'\r\n\t\t}`;\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout headline=\"Create Script\">\r\n\t\t\t\t<uui-box>\r\n\t\t\t\t\t<!-- TODO: construct url -->\r\n\t\t\t\t\t<uui-menu-item href=${this.#getCreateHref()} label=\"New Javascript file\" @click=${this.#onNavigate}>\r\n\t\t\t\t\t\t<uui-icon slot=\"icon\" name=\"icon-document-js\"></uui-icon>}\r\n\t\t\t\t\t</uui-menu-item>\r\n\r\n\t\t\t\t\t<uui-menu-item @click=${this.#onCreateFolderClick} label=\"New Folder...\">\r\n\t\t\t\t\t\t<uui-icon slot=\"icon\" name=\"icon-folder\"></uui-icon>}\r\n\t\t\t\t\t</uui-menu-item>\r\n\t\t\t\t</uui-box>\r\n\r\n\t\t\t\t<uui-button slot=\"actions\" id=\"cancel\" label=\"Cancel\" @click=\"${this._rejectModal}\"></uui-button>\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n}\r\n\r\nexport default UmbScriptCreateOptionsModalElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-script-create-options-modal': UmbScriptCreateOptionsModalElement;\r\n\t}\r\n}\r\n"],"names":["_createFolderAction","_UmbScriptCreateOptionsModalElement_instances","onCreateFolderClick_fn","onNavigate_fn","getCreateHref_fn","UmbScriptCreateOptionsModalElement","UmbModalBaseElement","__privateAdd","__privateSet","UmbCreateFolderEntityAction","UMB_SCRIPT_FOLDER_REPOSITORY_ALIAS","html","__privateMethod","event","__privateGet","__decorateClass","customElement","UmbScriptCreateOptionsModalElement$1"],"mappings":";;;;;;;;;;;;;;;wXAAAA,GAAAC,GAAAC,GAAAC,GAAAC;AAOO,IAAMC,IAAN,cAAiDC,EAA6D;AAAA,EAA9G,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAN,CAAA,GACNM,EAAA,MAAAP,CAAA;AAAA,EAAA;AAAA,EAES,oBAA0B;AAElC,QADA,MAAM,kBAAA,GACF,CAAC,KAAK,MAAM,OAAQ,OAAM,IAAI,MAAM,yCAAyC;AAEjF,IAAAQ,EAAA,MAAKR,GAAsB,IAAIS,EAA4B,MAAM;AAAA,MAChE,QAAQ,KAAK,KAAK,OAAO;AAAA,MACzB,YAAY,KAAK,KAAK,OAAO;AAAA,MAC7B,MAAM;AAAA,QACL,MAAM;AAAA,QACN,OAAO;AAAA,QACP,uBAAuBC;AAAA,MAAA;AAAA,IACxB,CACA,CAAA;AAAA,EACF;AAAA,EAwBS,SAAS;AACjB,WAAOC;AAAA;AAAA;AAAA;AAAA,2BAIkBC,EAAA,MAAKX,GAAAG,CAAA,EAAL,KAAA,IAAA,CAAqB,uCAAuCQ,QAAKX,GAAAE,CAAA,CAAW;AAAA;AAAA;AAAA;AAAA,6BAI1ES,QAAKX,GAAAC,CAAA,CAAoB;AAAA;AAAA;AAAA;AAAA;AAAA,oEAKc,KAAK,YAAY;AAAA;AAAA;AAAA,EAGpF;AACD;AAzDCF,IAAA,oBAAA,QAAA;AADMC,IAAA,oBAAA,QAAA;AAkBAC,IAAoB,eAACW,GAAqB;AAC/C,EAAAA,EAAM,gBAAA,GAENC,EAAA,MAAKd,CAAA,GACF,QAAA,EACD,KAAK,MAAM;AACX,SAAK,aAAA;AAAA,EACN,CAAC,EACA,MAAM,MAAM;AAAA,EAAC,CAAC;AACjB;AAGAG,IAAW,WAAG;AACb,OAAK,aAAA;AACN;AAEAC,IAAc,WAAG;AAChB,SAAO,mDAAmD,KAAK,MAAM,OAAO,UAAU,IACrF,KAAK,MAAM,OAAO,UAAU,MAC7B;AACD;AAtCYC,IAANU,EAAA;AAAA,EADNC,EAAc,iCAAiC;AAAA,GACnCX,CAAA;AA4Db,MAAAY,IAAeZ;"}