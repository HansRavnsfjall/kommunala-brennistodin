{"version":3,"file":"character-map.tiptap-toolbar-api-GS87ITUB.js","sources":["../../../src/packages/tiptap/extensions/character-map/character-map.tiptap-toolbar-api.ts"],"sourcesContent":["import { UmbTiptapToolbarElementApiBase } from '../tiptap-toolbar-element-api-base.js';\r\nimport { UMB_TIPTAP_CHARACTER_MAP_MODAL } from './modals/index.js';\r\nimport { UMB_MODAL_MANAGER_CONTEXT } from '@umbraco-cms/backoffice/modal';\r\nimport type { Editor } from '@umbraco-cms/backoffice/external/tiptap';\r\n\r\nexport default class UmbTiptapToolbarCharacterMapExtensionApi extends UmbTiptapToolbarElementApiBase {\r\n\toverride async execute(editor?: Editor) {\r\n\t\tif (!editor) return;\r\n\r\n\t\tconst modalManager = await this.getContext(UMB_MODAL_MANAGER_CONTEXT);\r\n\t\tif (!modalManager) throw new Error('Modal manager not found');\r\n\t\tconst modal = modalManager.open(this, UMB_TIPTAP_CHARACTER_MAP_MODAL);\r\n\r\n\t\tif (!modal) return;\r\n\r\n\t\tconst data = await modal.onSubmit().catch(() => undefined);\r\n\t\tif (!data) return;\r\n\r\n\t\teditor?.chain().focus().insertContent(data).run();\r\n\t}\r\n}\r\n"],"names":["UmbTiptapToolbarCharacterMapExtensionApi","UmbTiptapToolbarElementApiBase","editor","modalManager","UMB_MODAL_MANAGER_CONTEXT","modal","UMB_TIPTAP_CHARACTER_MAP_MODAL","data"],"mappings":";;;AAKA,MAAqBA,UAAiDC,EAA+B;AAAA,EACpG,MAAe,QAAQC,GAAiB;AACvC,QAAI,CAACA,EAAQ;AAEb,UAAMC,IAAe,MAAM,KAAK,WAAWC,CAAyB;AACpE,QAAI,CAACD,EAAc,OAAM,IAAI,MAAM,yBAAyB;AAC5D,UAAME,IAAQF,EAAa,KAAK,MAAMG,CAA8B;AAEpE,QAAI,CAACD,EAAO;AAEZ,UAAME,IAAO,MAAMF,EAAM,WAAW,MAAM,MAAA;AAAA,KAAe;AACzD,IAAKE,KAELL,GAAQ,QAAQ,MAAA,EAAQ,cAAcK,CAAI,EAAE,IAAA;AAAA,EAC7C;AACD;"}