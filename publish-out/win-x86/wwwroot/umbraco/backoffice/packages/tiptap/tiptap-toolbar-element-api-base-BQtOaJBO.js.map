{"version":3,"file":"tiptap-toolbar-element-api-base-BQtOaJBO.js","sources":["../../../src/packages/tiptap/extensions/tiptap-toolbar-element-api-base.ts"],"sourcesContent":["import type { ManifestTiptapToolbarExtension, UmbTiptapToolbarElementApi } from './types.js';\r\nimport { UmbControllerBase } from '@umbraco-cms/backoffice/class-api';\r\nimport type { Editor } from '@umbraco-cms/backoffice/external/tiptap';\r\nimport type { UmbPropertyEditorConfigCollection } from '@umbraco-cms/backoffice/property-editor';\r\n\r\nexport abstract class UmbTiptapToolbarElementApiBase extends UmbControllerBase implements UmbTiptapToolbarElementApi {\r\n\t#enabledExtensions?: Array<string>;\r\n\r\n\t/**\r\n\t * The manifest for the extension.\r\n\t */\r\n\tmanifest?: ManifestTiptapToolbarExtension;\r\n\r\n\t/**\r\n\t * The data type configuration for the property editor that the editor is used for.\r\n\t */\r\n\tconfiguration?: UmbPropertyEditorConfigCollection;\r\n\r\n\t/**\r\n\t * A method to execute the toolbar element action.\r\n\t * @see {ManifestTiptapToolbarExtension}\r\n\t * @param {Editor} editor The editor instance.\r\n\t */\r\n\tpublic abstract execute(editor?: Editor): void;\r\n\r\n\t/**\r\n\t * Informs the toolbar element if it is active or not. It uses the manifest meta alias to check if the toolbar element is active.\r\n\t * @see {ManifestTiptapToolbarExtension}\r\n\t * @param {Editor} editor The editor instance.\r\n\t * @returns {boolean} Returns true if the toolbar element is active.\r\n\t */\r\n\tpublic isActive(editor?: Editor): boolean {\r\n\t\treturn editor && this.manifest?.meta.alias ? editor?.isActive(this.manifest.meta.alias) === true : false;\r\n\t}\r\n\r\n\t/**\r\n\t * Informs the toolbar element if it is disabled or not.\r\n\t * @see {ManifestTiptapToolbarExtension}\r\n\t * @param {Editor} editor The editor instance.\r\n\t * @returns {boolean} Returns true if the toolbar element is disabled.\r\n\t */\r\n\tisDisabled(editor?: Editor): boolean {\r\n\t\tif (!editor) return true;\r\n\t\tif (!this.#enabledExtensions) {\r\n\t\t\tthis.#enabledExtensions = this.configuration?.getValueByAlias<string[]>('extensions') ?? [];\r\n\t\t}\r\n\t\treturn this.manifest?.forExtensions?.every((ext) => this.#enabledExtensions?.includes(ext)) === false;\r\n\t}\r\n}\r\n"],"names":["UmbTiptapToolbarElementApiBase","UmbControllerBase","#enabledExtensions","editor","ext"],"mappings":";AAKO,MAAeA,UAAuCC,EAAwD;AAAA,EACpHC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAyBO,SAASC,GAA0B;AACzC,WAAOA,KAAU,KAAK,UAAU,KAAK,QAAQA,GAAQ,SAAS,KAAK,SAAS,KAAK,KAAK,MAAM,KAAO;AAAA,EACpG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,WAAWA,GAA0B;AACpC,WAAKA,KACA,KAAKD,OACT,KAAKA,KAAqB,KAAK,eAAe,gBAA0B,YAAY,KAAK,CAAA,IAEnF,KAAK,UAAU,eAAe,MAAM,CAACE,MAAQ,KAAKF,IAAoB,SAASE,CAAG,CAAC,MAAM,MAJ5E;AAAA,EAKrB;AACD;"}