{"version":3,"file":"marked-ufmjs.plugin-0rM2Tt_X.js","sources":["../../../src/packages/ufm/plugins/marked-ufmjs.plugin.ts"],"sourcesContent":["import type { MarkedExtension, Tokens } from '@umbraco-cms/backoffice/external/marked';\r\n\r\n/**\r\n * @returns {MarkedExtension} A Marked extension object.\r\n */\r\nexport function ufmjs(): MarkedExtension {\r\n\treturn {\r\n\t\textensions: [\r\n\t\t\t{\r\n\t\t\t\tname: 'ufmjs',\r\n\t\t\t\tlevel: 'inline',\r\n\t\t\t\tstart: (src: string) => src.search(/(?<!\\\\)\\$\\{/),\r\n\t\t\t\ttokenizer: (src: string) => {\r\n\t\t\t\t\tconst pattern = /^\\$\\{((?:[^{}]|\\{[^{}]*\\})*)\\}/;\r\n\t\t\t\t\tconst regex = new RegExp(pattern);\r\n\t\t\t\t\tconst match = src.match(regex);\r\n\r\n\t\t\t\t\tif (match) {\r\n\t\t\t\t\t\tconst [raw, text] = match;\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\ttype: 'ufmjs',\r\n\t\t\t\t\t\t\traw: raw,\r\n\t\t\t\t\t\t\ttokens: [],\r\n\t\t\t\t\t\t\ttext: text.trim(),\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn undefined;\r\n\t\t\t\t},\r\n\t\t\t\trenderer: (token: Tokens.Generic) => {\r\n\t\t\t\t\treturn `<umb-ufm-js-expression>${token.text}</umb-ufm-js-expression>`;\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t};\r\n}\r\n"],"names":["ufmjs","src","pattern","regex","match","raw","text","token"],"mappings":"AAKO,SAASA,IAAyB;AACxC,SAAO;AAAA,IACN,YAAY;AAAA,MACX;AAAA,QACC,MAAM;AAAA,QACN,OAAO;AAAA,QACP,OAAO,CAACC,MAAgBA,EAAI,OAAO,aAAa;AAAA,QAChD,WAAW,CAACA,MAAgB;AAC3B,gBAAMC,IAAU,kCACVC,IAAQ,IAAI,OAAOD,CAAO,GAC1BE,IAAQH,EAAI,MAAME,CAAK;AAE7B,cAAIC,GAAO;AACV,kBAAM,CAACC,GAAKC,CAAI,IAAIF;AACpB,mBAAO;AAAA,cACN,MAAM;AAAA,cACN,KAAAC;AAAA,cACA,QAAQ,CAAA;AAAA,cACR,MAAMC,EAAK,KAAA;AAAA,YAAK;AAAA,UAElB;AAAA,QAGD;AAAA,QACA,UAAU,CAACC,MACH,0BAA0BA,EAAM,IAAI;AAAA,MAC5C;AAAA,IACD;AAAA,EACD;AAEF;"}