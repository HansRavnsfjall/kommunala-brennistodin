{"version":3,"file":"ufm-marked-extension.api-BdhvEn6Q.js","sources":["../../../src/packages/ufm/extensions/ufm-marked-extension.api.ts"],"sourcesContent":["import { ufm } from '../plugins/marked-ufm.plugin.js';\r\nimport type { UfmPlugin } from '../plugins/types.js';\r\nimport type { ManifestUfmComponent } from './ufm-component.extension.js';\r\nimport type { UmbMarkedExtensionApi } from './marked-extension.extension.js';\r\nimport { umbExtensionsRegistry } from '@umbraco-cms/backoffice/extension-registry';\r\nimport { UmbExtensionsApiInitializer } from '@umbraco-cms/backoffice/extension-api';\r\nimport type { Marked } from '@umbraco-cms/backoffice/external/marked';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport type { UmbExtensionApiInitializer } from '@umbraco-cms/backoffice/extension-api';\r\n\r\nexport class UmbUfmMarkedExtensionApi implements UmbMarkedExtensionApi {\r\n\tconstructor(host: UmbControllerHost, marked: Marked) {\r\n\t\tnew UmbExtensionsApiInitializer(host, umbExtensionsRegistry, 'ufmComponent', [], undefined, (controllers) => {\r\n\t\t\tmarked.use(\r\n\t\t\t\tufm(\r\n\t\t\t\t\tcontrollers\r\n\t\t\t\t\t\t.map((controller) => {\r\n\t\t\t\t\t\t\tconst ctrl = controller as unknown as UmbExtensionApiInitializer<ManifestUfmComponent>;\r\n\t\t\t\t\t\t\tif (!ctrl.manifest || !ctrl.api) return;\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\talias: ctrl.manifest.meta.alias || ctrl.manifest.alias,\r\n\t\t\t\t\t\t\t\tmarker: ctrl.manifest.meta.marker,\r\n\t\t\t\t\t\t\t\trender: ctrl.api.render,\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.filter((x) => x) as Array<UfmPlugin>,\r\n\t\t\t\t),\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\tdestroy() {}\r\n}\r\n\r\nexport default UmbUfmMarkedExtensionApi;\r\n"],"names":["UmbUfmMarkedExtensionApi","host","marked","UmbExtensionsApiInitializer","umbExtensionsRegistry","controllers","ufm","controller","ctrl","x"],"mappings":";;;AAUO,MAAMA,EAA0D;AAAA,EACtE,YAAYC,GAAyBC,GAAgB;AACpD,QAAIC,EAA4BF,GAAMG,GAAuB,gBAAgB,IAAI,QAAW,CAACC,MAAgB;AAC5G,MAAAH,EAAO;AAAA,QACNI;AAAA,UACCD,EACE,IAAI,CAACE,MAAe;AACpB,kBAAMC,IAAOD;AACb,gBAAI,GAACC,EAAK,YAAY,CAACA,EAAK;AAC5B,qBAAO;AAAA,gBACN,OAAOA,EAAK,SAAS,KAAK,SAASA,EAAK,SAAS;AAAA,gBACjD,QAAQA,EAAK,SAAS,KAAK;AAAA,gBAC3B,QAAQA,EAAK,IAAI;AAAA,cAAA;AAAA,UAEnB,CAAC,EACA,OAAO,CAACC,MAAMA,CAAC;AAAA,QAAA;AAAA,MAClB;AAAA,IAEF,CAAC;AAAA,EACF;AAAA,EAEA,UAAU;AAAA,EAAC;AACZ;"}