{"version":3,"file":"constants-DjdF3T-M.js","sources":["../../../src/packages/user/user/collection/repository/constants.ts","../../../src/packages/user/user/repository/detail/user-detail.store.token.ts","../../../src/packages/user/user/repository/item/user-item.store.token.ts","../../../src/packages/user/user/entity.ts","../../../src/packages/user/user/collection/views/constants.ts","../../../src/packages/user/user/collection/user-collection.context-token.ts","../../../src/packages/user/user/collection/constants.ts","../../../src/packages/user/user/repository/avatar/constants.ts","../../../src/packages/user/user/repository/change-password/constants.ts","../../../src/packages/user/user/utils/user-kind.ts","../../../src/packages/user/user/repository/detail/constants.ts","../../../src/packages/user/user/repository/item/user-item.server.cache.ts","../../../src/packages/user/user/repository/item/constants.ts","../../../src/packages/user/user/repository/disable/constants.ts","../../../src/packages/user/user/repository/enable/constants.ts","../../../src/packages/user/user/repository/unlock/constants.ts","../../../src/packages/user/user/components/user-avatar/user-avatar.element.ts","../../../src/packages/user/user/components/user-document-start-node/user-document-start-node.element.ts","../../../src/packages/user/user/modals/user-picker/user-picker-modal.token.ts","../../../src/packages/user/user/components/user-input/user-input.context.ts","../../../src/packages/user/user/components/user-input/user-input.element.ts","../../../src/packages/user/user/components/user-media-start-node/user-media-start-node.element.ts","../../../src/packages/user/user/client-credential/repository/constants.ts","../../../src/packages/user/user/client-credential/create/modal/manifests.ts","../../../src/packages/user/user/client-credential/create/modal/create-user-client-credential-modal.token.ts","../../../src/packages/user/user/conditions/allow-change-password/constants.ts","../../../src/packages/user/user/conditions/allow-delete/constants.ts","../../../src/packages/user/user/conditions/allow-disable/constants.ts","../../../src/packages/user/user/conditions/allow-external-login/constants.ts","../../../src/packages/user/user/conditions/allow-mfa/constants.ts","../../../src/packages/user/user/conditions/allow-unlock/constants.ts","../../../src/packages/user/user/conditions/is-default-kind/constants.ts","../../../src/packages/user/user/entity-actions/create/modal/manifests.ts","../../../src/packages/user/user/entity-actions/create/modal/create-user-modal.token.ts","../../../src/packages/user/user/entity-actions/create/modal/create-user-success-modal.token.ts","../../../src/packages/user/user/modals/user-mfa/user-mfa-modal.token.ts","../../../src/packages/user/user/repository/config/user-config.store.token.ts","../../../src/packages/user/user/repository/config/current-user-config.store.token.ts","../../../src/packages/user/user/repository/config/constants.ts","../../../src/packages/user/user/workspace/user/user-workspace.context-token.ts","../../../src/packages/user/user/workspace/user/constants.ts","../../../src/packages/user/user/workspace/user-root/constants.ts","../../../src/packages/user/user/invite/repository/constants.ts"],"sourcesContent":["export const UMB_USER_COLLECTION_REPOSITORY_ALIAS = 'Umb.Repository.UserCollection';\r\n","import type UmbUserDetailStore from './user-detail.store.js';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\n\r\nexport const UMB_USER_DETAIL_STORE_CONTEXT = new UmbContextToken<UmbUserDetailStore>('UmbUserDetailStore');\r\n","import type UmbUserItemStore from './user-item.store.js';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\n\r\nexport const UMB_USER_ITEM_STORE_CONTEXT = new UmbContextToken<UmbUserItemStore>('UmbUserItemStore');\r\n","export const UMB_USER_ENTITY_TYPE = 'user';\r\nexport const UMB_USER_ROOT_ENTITY_TYPE = 'user-root';\r\n\r\nexport type UmbUserEntityType = typeof UMB_USER_ENTITY_TYPE;\r\nexport type UmbUserRootEntityType = typeof UMB_USER_ROOT_ENTITY_TYPE;\r\n","export const UMB_COLLECTION_VIEW_USER_TABLE = 'Umb.CollectionView.User.Table';\r\nexport const UMB_COLLECTION_VIEW_USER_GRID = 'Umb.CollectionView.User.Grid';\r\n","import type { UmbUserCollectionContext } from './user-collection.context.js';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\n\r\nexport const UMB_USER_COLLECTION_CONTEXT = new UmbContextToken<UmbUserCollectionContext>('UmbCollectionContext');\r\n","export * from './views/constants.js';\r\nexport const UMB_USER_COLLECTION_ALIAS = 'Umb.Collection.User';\r\nexport { UMB_USER_COLLECTION_CONTEXT } from './user-collection.context-token.js';\r\n","export const UMB_USER_AVATAR_REPOSITORY_ALIAS = 'Umb.Repository.User.Avatar';\r\n","export const UMB_CHANGE_USER_PASSWORD_REPOSITORY_ALIAS = 'Umb.Repository.User.ChangePassword';\r\n","export type UmbUserKindType = 'Default' | 'Api';\r\n\r\nexport const UmbUserKind = Object.freeze({\r\n\tDEFAULT: 'Default',\r\n\tAPI: 'Api',\r\n});\r\n","export const UMB_USER_DETAIL_REPOSITORY_ALIAS = 'Umb.Repository.User.Detail';\r\nexport const UMB_USER_DETAIL_STORE_ALIAS = 'Umb.Store.User.Detail';\r\n","import type { UserItemResponseModel } from '@umbraco-cms/backoffice/external/backend-api';\r\nimport { UmbManagementApiItemDataCache } from '@umbraco-cms/backoffice/management-api';\r\n\r\nconst userItemCache = new UmbManagementApiItemDataCache<UserItemResponseModel>();\r\n\r\nexport { userItemCache };\r\n","export const UMB_USER_ITEM_REPOSITORY_ALIAS = 'Umb.Repository.User.Item';\r\nexport const UMB_USER_ITEM_STORE_ALIAS = 'Umb.ItemStore.User';\r\n","export const UMB_DISABLE_USER_REPOSITORY_ALIAS = 'Umb.Repository.User.Disable';\r\n","export const UMB_ENABLE_USER_REPOSITORY_ALIAS = 'Umb.Repository.User.Enable';\r\n","export const UMB_UNLOCK_USER_REPOSITORY_ALIAS = 'Umb.Repository.User.Unlock';\r\n","import type { UmbUserKindType } from '../../utils/index.js';\r\nimport { UmbUserKind } from '../../utils/index.js';\r\nimport type { UUIAvatarElement } from '@umbraco-cms/backoffice/external/uui';\r\nimport {\r\n\tcss,\r\n\thtml,\r\n\tcustomElement,\r\n\tproperty,\r\n\tifDefined,\r\n\tstate,\r\n\tclassMap,\r\n\tquery,\r\n} from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\n\r\nconst elementName = 'umb-user-avatar';\r\n@customElement(elementName)\r\nexport class UmbUserAvatarElement extends UmbLitElement {\r\n\t@property({ type: String })\r\n\tname?: string;\r\n\r\n\t@property({ type: String })\r\n\tkind?: UmbUserKindType = UmbUserKind.DEFAULT;\r\n\r\n\t@property({ type: Array, attribute: false })\r\n\tpublic get imgUrls(): Array<string> {\r\n\t\treturn this.#imgUrls;\r\n\t}\r\n\tpublic set imgUrls(value: Array<string>) {\r\n\t\tthis.#imgUrls = value;\r\n\t\tthis._hasImgUrls = value.length > 0;\r\n\t\tthis.#setImgSrcSizes();\r\n\t}\r\n\t#imgUrls: Array<string> = [];\r\n\r\n\t@state()\r\n\tprivate _imgSrcSizes: Array<{ w: number; url: string }> = [];\r\n\r\n\t@state()\r\n\tprivate _imgSrc = '';\r\n\r\n\t@state()\r\n\tprivate _hasImgUrls = false;\r\n\r\n\t@query('uui-avatar')\r\n\tavatarElement!: UUIAvatarElement;\r\n\r\n\t#setImgSrcSizes() {\r\n\t\tif (this.#imgUrls.length === 0) {\r\n\t\t\tthis._imgSrcSizes = [];\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._imgSrcSizes = [\r\n\t\t\t{\r\n\t\t\t\tw: 30,\r\n\t\t\t\turl: this.#imgUrls[0],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tw: 60,\r\n\t\t\t\turl: this.#imgUrls[1],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tw: 90,\r\n\t\t\t\turl: this.#imgUrls[2],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tw: 150,\r\n\t\t\t\turl: this.#imgUrls[3],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tw: 300,\r\n\t\t\t\turl: this.#imgUrls[4],\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\tthis.#setImgSrc();\r\n\t}\r\n\r\n\tprotected override firstUpdated(): void {\r\n\t\tthis.#setImgSrc();\r\n\t}\r\n\r\n\tasync #setImgSrc() {\r\n\t\tif (!this._hasImgUrls) return;\r\n\t\tif (!this.avatarElement) return;\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\t// TODO: look into img sizes=\"auto\" to let the browser handle the correct image size based on the element size\r\n\t\t\tconst elementSize = this.avatarElement.getBoundingClientRect();\r\n\t\t\tconst elementWidth = elementSize.width;\r\n\r\n\t\t\tconst matchingSizes = this._imgSrcSizes.filter((size) => {\r\n\t\t\t\t// we multiply the element width to make sure we have a good quality image\r\n\t\t\t\treturn elementWidth * 1.5 <= size.w;\r\n\t\t\t});\r\n\r\n\t\t\t// We use the smallest image that is larger than the element width\r\n\t\t\tthis._imgSrc = matchingSizes[0]?.url;\r\n\t\t}, 0);\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tconst classes = {\r\n\t\t\tdefault: this.kind === UmbUserKind.API,\r\n\t\t\tapi: this.kind === UmbUserKind.API,\r\n\t\t\t'has-image': this._hasImgUrls,\r\n\t\t};\r\n\r\n\t\treturn html`<uui-avatar\r\n\t\t\t.name=${this.name || 'Unknown'}\r\n\t\t\timg-src=${ifDefined(this._imgSrc ? this._imgSrc : undefined)}\r\n\t\t\tclass=${classMap(classes)}></uui-avatar>`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\tuui-avatar {\r\n\t\t\t\tbackground-color: transparent;\r\n\t\t\t\tcolor: inherit;\r\n\t\t\t\tbox-shadow: 0 0 0 1.5px var(--uui-color-border);\r\n\t\t\t}\r\n\r\n\t\t\tuui-avatar.has-image {\r\n\t\t\t\tborder-color: transparent;\r\n\t\t\t}\r\n\r\n\t\t\tuui-avatar.api {\r\n\t\t\t\tborder-radius: 9%;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t[elementName]: UmbUserAvatarElement;\r\n\t}\r\n}\r\n","import { createExtensionApiByAlias } from '@umbraco-cms/backoffice/extension-registry';\r\nimport { html, customElement, property, repeat, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport type { UmbItemRepository } from '@umbraco-cms/backoffice/repository';\r\n\r\n@customElement('umb-user-document-start-node')\r\nexport class UmbUserDocumentStartNodeElement extends UmbLitElement {\r\n\t#uniques: Array<string> = [];\r\n\t@property({ type: Array, attribute: false })\r\n\tpublic get uniques(): Array<string> {\r\n\t\treturn this.#uniques;\r\n\t}\r\n\tpublic set uniques(value: Array<string>) {\r\n\t\tthis.#uniques = value;\r\n\r\n\t\tif (this.#uniques.length > 0) {\r\n\t\t\tthis.#observeItems();\r\n\t\t}\r\n\t}\r\n\r\n\t@property({ type: Boolean })\r\n\treadonly = false;\r\n\r\n\t@state()\r\n\tprivate _displayValue: Array<any> = [];\r\n\r\n\tasync #observeItems() {\r\n\t\t// TODO: get back to this when documents have been decoupled from users.\r\n\t\t// The repository alias is hardcoded on purpose to avoid a document import in the user module.\r\n\t\tconst itemRepository = await createExtensionApiByAlias<UmbItemRepository<any>>(this, 'Umb.Repository.DocumentItem');\r\n\t\tconst { asObservable } = await itemRepository.requestItems(this.#uniques);\r\n\r\n\t\tthis.observe(asObservable?.(), (data) => {\r\n\t\t\tthis._displayValue = data || [];\r\n\t\t});\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tif (this.uniques.length < 1) {\r\n\t\t\treturn html`\r\n\t\t\t\t<uui-ref-node\r\n\t\t\t\t\tname=\"Content Root\"\r\n\t\t\t\t\t?disabled=${this.readonly}\r\n\t\t\t\t\tstyle=\"--uui-color-disabled-contrast: var(--uui-color-text)\">\r\n\t\t\t\t\t<uui-icon slot=\"icon\" name=\"folder\"></uui-icon>\r\n\t\t\t\t</uui-ref-node>\r\n\t\t\t`;\r\n\t\t}\r\n\r\n\t\treturn repeat(\r\n\t\t\tthis._displayValue,\r\n\t\t\t(item) => item.unique,\r\n\t\t\t(item) => {\r\n\t\t\t\treturn html`\r\n\t\t\t\t\t<!-- TODO: get correct variant name -->\r\n\t\t\t\t\t<uui-ref-node\r\n\t\t\t\t\t\tname=${item.variants[0]?.name}\r\n\t\t\t\t\t\t?disabled=${this.readonly}\r\n\t\t\t\t\t\tstyle=\"--uui-color-disabled-contrast: var(--uui-color-text)\">\r\n\t\t\t\t\t\t<uui-icon slot=\"icon\" name=\"folder\"></uui-icon>\r\n\t\t\t\t\t</uui-ref-node>\r\n\t\t\t\t`;\r\n\t\t\t},\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default UmbUserDocumentStartNodeElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-user-document-start-node': UmbUserDocumentStartNodeElement;\r\n\t}\r\n}\r\n","import type { UmbUserDetailModel } from '../../types.js';\r\nimport type { UmbPickerModalData } from '@umbraco-cms/backoffice/modal';\r\nimport { UmbModalToken } from '@umbraco-cms/backoffice/modal';\r\n\r\nexport type UmbUserPickerModalData = UmbPickerModalData<UmbUserDetailModel>;\r\n\r\nexport interface UmbUserPickerModalValue {\r\n\tselection: Array<string | null>;\r\n}\r\n\r\nexport const UMB_USER_PICKER_MODAL = new UmbModalToken<UmbUserPickerModalData, UmbUserPickerModalValue>(\r\n\t'Umb.Modal.User.Picker',\r\n\t{\r\n\t\tmodal: {\r\n\t\t\ttype: 'sidebar',\r\n\t\t\tsize: 'small',\r\n\t\t},\r\n\t},\r\n);\r\n","import { UMB_USER_ITEM_REPOSITORY_ALIAS } from '../../repository/index.js';\r\nimport type { UmbUserDetailModel } from '../../types.js';\r\nimport { UMB_USER_PICKER_MODAL } from '../../modals/user-picker/user-picker-modal.token.js';\r\nimport { UmbPickerInputContext } from '@umbraco-cms/backoffice/picker-input';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\n\r\nexport class UmbUserPickerInputContext extends UmbPickerInputContext<UmbUserDetailModel> {\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tsuper(host, UMB_USER_ITEM_REPOSITORY_ALIAS, UMB_USER_PICKER_MODAL);\r\n\t}\r\n}\r\n","import type { UmbUserItemModel } from '../../repository/index.js';\r\nimport { UmbUserPickerInputContext } from './user-input.context.js';\r\nimport { css, customElement, html, nothing, property, repeat, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { splitStringToArray } from '@umbraco-cms/backoffice/utils';\r\nimport { UmbChangeEvent } from '@umbraco-cms/backoffice/event';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbSorterController } from '@umbraco-cms/backoffice/sorter';\r\nimport { UUIFormControlMixin } from '@umbraco-cms/backoffice/external/uui';\r\n\r\n// TODO: Shall we rename to 'umb-input-user'? [LK]\r\n@customElement('umb-user-input')\r\nexport class UmbUserInputElement extends UUIFormControlMixin(UmbLitElement, '') {\r\n\t#sorter = new UmbSorterController<string>(this, {\r\n\t\tgetUniqueOfElement: (element) => {\r\n\t\t\treturn element.id;\r\n\t\t},\r\n\t\tgetUniqueOfModel: (modelEntry) => {\r\n\t\t\treturn modelEntry;\r\n\t\t},\r\n\t\tidentifier: 'Umb.SorterIdentifier.InputUser',\r\n\t\titemSelector: 'umb-entity-item-ref',\r\n\t\tcontainerSelector: 'uui-ref-list',\r\n\t\tonChange: ({ model }) => {\r\n\t\t\tthis.selection = model;\r\n\t\t\tthis.dispatchEvent(new UmbChangeEvent());\r\n\t\t},\r\n\t});\r\n\r\n\t/**\r\n\t * This is a minimum amount of selected items in this input.\r\n\t * @type {number}\r\n\t * @attr\r\n\t * @default\r\n\t */\r\n\t@property({ type: Number })\r\n\tpublic get min(): number {\r\n\t\treturn this.#pickerContext.min;\r\n\t}\r\n\tpublic set min(value: number) {\r\n\t\tthis.#pickerContext.min = value;\r\n\t}\r\n\r\n\t/**\r\n\t * Min validation message.\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default\r\n\t */\r\n\t@property({ type: String, attribute: 'min-message' })\r\n\tminMessage = 'This field need more items';\r\n\r\n\t/**\r\n\t * This is a maximum amount of selected items in this input.\r\n\t * @type {number}\r\n\t * @attr\r\n\t * @default\r\n\t */\r\n\t@property({ type: Number })\r\n\tpublic get max(): number {\r\n\t\treturn this.#pickerContext.max;\r\n\t}\r\n\tpublic set max(value: number) {\r\n\t\tthis.#pickerContext.max = value;\r\n\t}\r\n\r\n\t/**\r\n\t * Max validation message.\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default\r\n\t */\r\n\t@property({ type: String, attribute: 'min-message' })\r\n\tmaxMessage = 'This field exceeds the allowed amount of items';\r\n\r\n\t@property({ type: Array })\r\n\tpublic set selection(uniques: Array<string>) {\r\n\t\tthis.#pickerContext.setSelection(uniques);\r\n\t\tthis.#sorter.setModel(uniques);\r\n\t}\r\n\tpublic get selection(): Array<string> {\r\n\t\treturn this.#pickerContext.getSelection();\r\n\t}\r\n\r\n\t@property()\r\n\tpublic override set value(uniques: string) {\r\n\t\tthis.selection = splitStringToArray(uniques);\r\n\t}\r\n\tpublic override get value(): string {\r\n\t\treturn this.selection.join(',');\r\n\t}\r\n\r\n\t@state()\r\n\tprivate _items?: Array<UmbUserItemModel>;\r\n\r\n\t#pickerContext = new UmbUserPickerInputContext(this);\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.addValidator(\r\n\t\t\t'rangeUnderflow',\r\n\t\t\t() => this.minMessage,\r\n\t\t\t() => !!this.min && this.#pickerContext.getSelection().length < this.min,\r\n\t\t);\r\n\r\n\t\tthis.addValidator(\r\n\t\t\t'rangeOverflow',\r\n\t\t\t() => this.maxMessage,\r\n\t\t\t() => !!this.max && this.#pickerContext.getSelection().length > this.max,\r\n\t\t);\r\n\r\n\t\tthis.observe(this.#pickerContext.selection, (selection) => (this.value = selection.join(',')), '_observeSelection');\r\n\t\tthis.observe(this.#pickerContext.selectedItems, (selectedItems) => (this._items = selectedItems), '_observerItems');\r\n\t}\r\n\r\n\tprotected override getFormElement() {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\t#openPicker() {\r\n\t\tthis.#pickerContext.openPicker({});\r\n\t}\r\n\r\n\t#removeItem(item: UmbUserItemModel) {\r\n\t\tthis.#pickerContext.requestRemoveItem(item.unique);\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`${this.#renderItems()} ${this.#renderAddButton()}`;\r\n\t}\r\n\r\n\t#renderAddButton() {\r\n\t\tif (this.max > 0 && this.selection.length >= this.max) return nothing;\r\n\t\treturn html`\r\n\t\t\t<uui-button\r\n\t\t\t\tid=\"btn-add\"\r\n\t\t\t\tlook=\"placeholder\"\r\n\t\t\t\tlabel=${this.localize.term('general_choose')}\r\n\t\t\t\t@click=${this.#openPicker}></uui-button>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderItems() {\r\n\t\tif (!this._items) return nothing;\r\n\t\treturn html`\r\n\t\t\t<uui-ref-list>\r\n\t\t\t\t${repeat(\r\n\t\t\t\t\tthis._items,\r\n\t\t\t\t\t(item) => item.unique,\r\n\t\t\t\t\t(item) => this.#renderItem(item),\r\n\t\t\t\t)}\r\n\t\t\t</uui-ref-list>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderItem(item: UmbUserItemModel) {\r\n\t\tif (!item.unique) return nothing;\r\n\t\treturn html`\r\n\t\t\t<umb-entity-item-ref .item=${item} id=${item.unique} ?standalone=${this.max === 1}>\r\n\t\t\t\t<uui-action-bar slot=\"actions\">\r\n\t\t\t\t\t<uui-button label=${this.localize.term('general_remove')} @click=${() => this.#removeItem(item)}></uui-button>\r\n\t\t\t\t</uui-action-bar>\r\n\t\t\t</umb-entity-item-ref>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\t#btn-add {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbUserInputElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-user-input': UmbUserInputElement;\r\n\t}\r\n}\r\n","import { createExtensionApiByAlias } from '@umbraco-cms/backoffice/extension-registry';\r\nimport { html, customElement, property, repeat, state, ifDefined } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport type { UmbItemRepository } from '@umbraco-cms/backoffice/repository';\r\n\r\n@customElement('umb-user-media-start-node')\r\nexport class UmbUserMediaStartNodeElement extends UmbLitElement {\r\n\t#uniques: Array<string> = [];\r\n\t@property({ type: Array, attribute: false })\r\n\tpublic get uniques(): Array<string> {\r\n\t\treturn this.#uniques;\r\n\t}\r\n\tpublic set uniques(value: Array<string>) {\r\n\t\tthis.#uniques = value;\r\n\r\n\t\tif (this.#uniques.length > 0) {\r\n\t\t\tthis.#observeItems();\r\n\t\t}\r\n\t}\r\n\r\n\t@property({ type: Boolean })\r\n\treadonly = false;\r\n\r\n\t@state()\r\n\tprivate _displayValue: Array<any> = [];\r\n\r\n\tasync #observeItems() {\r\n\t\t// TODO: get back to this when documents have been decoupled from users.\r\n\t\t// The repository alias is hardcoded on purpose to avoid a document import in the user module.\r\n\t\tconst itemRepository = await createExtensionApiByAlias<UmbItemRepository<any>>(this, 'Umb.Repository.MediaItem');\r\n\t\tconst { asObservable } = await itemRepository.requestItems(this.#uniques);\r\n\r\n\t\tthis.observe(asObservable?.(), (data) => {\r\n\t\t\tthis._displayValue = data || [];\r\n\t\t});\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tif (this.uniques.length < 1) {\r\n\t\t\treturn html`\r\n\t\t\t\t<uui-ref-node\r\n\t\t\t\t\tname=\"Media Root\"\r\n\t\t\t\t\t?disabled=${this.readonly}\r\n\t\t\t\t\tstyle=\"--uui-color-disabled-contrast: var(--uui-color-text)\">\r\n\t\t\t\t\t<uui-icon slot=\"icon\" name=\"folder\"></uui-icon>\r\n\t\t\t\t</uui-ref-node>\r\n\t\t\t`;\r\n\t\t}\r\n\r\n\t\treturn repeat(\r\n\t\t\tthis._displayValue,\r\n\t\t\t(item) => item.unique,\r\n\t\t\t(item) => {\r\n\t\t\t\treturn html`\r\n\t\t\t\t\t<!-- TODO: get correct variant name -->\r\n\t\t\t\t\t<uui-ref-node\r\n\t\t\t\t\t\tname=${ifDefined(item.variants[0]?.name)}\r\n\t\t\t\t\t\t?disabled=${this.readonly}\r\n\t\t\t\t\t\tstyle=\"--uui-color-disabled-contrast: var(--uui-color-text)\">\r\n\t\t\t\t\t\t<uui-icon slot=\"icon\" name=\"folder\"></uui-icon>\r\n\t\t\t\t\t</uui-ref-node>\r\n\t\t\t\t`;\r\n\t\t\t},\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default UmbUserMediaStartNodeElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-user-media-start-node': UmbUserMediaStartNodeElement;\r\n\t}\r\n}\r\n","export const UMB_USER_CLIENT_CREDENTIAL_REPOSITORY_ALIAS = 'Umb.Repository.User.ClientCredential';\r\n","export const UMB_CREATE_USER_CLIENT_CREDENTIAL_MODAL_ALIAS = 'Umb.Modal.User.ClientCredential.Create';\r\n\r\nexport const manifests: Array<UmbExtensionManifest> = [\r\n\t{\r\n\t\ttype: 'modal',\r\n\t\talias: UMB_CREATE_USER_CLIENT_CREDENTIAL_MODAL_ALIAS,\r\n\t\tname: 'Create User Client Credential Modal',\r\n\t\telement: () => import('./create-user-client-credential-modal.element.js'),\r\n\t},\r\n];\r\n","import { UMB_CREATE_USER_CLIENT_CREDENTIAL_MODAL_ALIAS } from './manifests.js';\r\nimport { UmbModalToken } from '@umbraco-cms/backoffice/modal';\r\n\r\nexport interface UmbCreateUserClientCredentialModalData {\r\n\tuser: {\r\n\t\tunique: string;\r\n\t};\r\n}\r\n\r\nexport interface UmbCreateUserClientCredentialModalValue {\r\n\tclient: {\r\n\t\tunique: string;\r\n\t\tsecret: string;\r\n\t};\r\n}\r\n\r\nexport const UMB_CREATE_USER_CLIENT_CREDENTIAL_MODAL = new UmbModalToken<\r\n\tUmbCreateUserClientCredentialModalData,\r\n\tUmbCreateUserClientCredentialModalValue\r\n>(UMB_CREATE_USER_CLIENT_CREDENTIAL_MODAL_ALIAS, {\r\n\tmodal: {\r\n\t\ttype: 'dialog',\r\n\t\tsize: 'small',\r\n\t},\r\n});\r\n","export const UMB_USER_ALLOW_CHANGE_PASSWORD_CONDITION_ALIAS = 'Umb.Condition.User.AllowChangePassword';\r\nexport const UMB_CURRENT_USER_ALLOW_CHANGE_PASSWORD_CONDITION_ALIAS = 'Umb.Condition.CurrentUser.AllowChangePassword';\r\n","export const UMB_USER_ALLOW_DELETE_CONDITION_ALIAS = 'Umb.Condition.User.AllowDeleteAction';\r\n","export const UMB_USER_ALLOW_DISABLE_CONDITION_ALIAS = 'Umb.Condition.User.AllowDisableAction';\r\n","export const UMB_USER_ALLOW_EXTERNAL_LOGIN_CONDITION_ALIAS = 'Umb.Condition.User.AllowExternalLoginAction';\r\n","export const UMB_USER_ALLOW_MFA_CONDITION_ALIAS = 'Umb.Condition.User.AllowMfaAction';\r\nexport const UMB_CURRENT_USER_ALLOW_MFA_CONDITION_ALIAS = 'Umb.Condition.CurrentUser.AllowMfaAction';\r\n","export const UMB_USER_ALLOW_UNLOCK_CONDITION_ALIAS = 'Umb.Condition.User.AllowUnlockAction';\r\n","export const UMB_USER_IS_DEFAULT_KIND_CONDITION_ALIAS = 'Umb.Condition.User.IsDefaultKind';\r\n","export const UMB_CREATE_USER_MODAL_ALIAS = 'Umb.Modal.User.Create';\r\n\r\nexport const manifests: Array<UmbExtensionManifest> = [\r\n\t{\r\n\t\ttype: 'modal',\r\n\t\talias: UMB_CREATE_USER_MODAL_ALIAS,\r\n\t\tname: 'Create User Modal',\r\n\t\tjs: () => import('./create-user-modal.element.js'),\r\n\t},\r\n\t{\r\n\t\ttype: 'modal',\r\n\t\talias: 'Umb.Modal.User.CreateSuccess',\r\n\t\tname: 'Create Success User Modal',\r\n\t\tjs: () => import('./create-user-success-modal.element.js'),\r\n\t},\r\n];\r\n","import type { UmbUserKindType } from '../../../utils/index.js';\r\nimport { UMB_CREATE_USER_MODAL_ALIAS } from './manifests.js';\r\nimport { UmbModalToken } from '@umbraco-cms/backoffice/modal';\r\n\r\nexport interface UmbCreateUserModalData {\r\n\tuser: {\r\n\t\tkind?: UmbUserKindType;\r\n\t};\r\n}\r\n\r\nexport const UMB_CREATE_USER_MODAL = new UmbModalToken<UmbCreateUserModalData>(UMB_CREATE_USER_MODAL_ALIAS, {\r\n\tmodal: {\r\n\t\ttype: 'dialog',\r\n\t\tsize: 'small',\r\n\t},\r\n});\r\n","import { UmbModalToken } from '@umbraco-cms/backoffice/modal';\r\n\r\nexport interface UmbCreateUserSuccessModalData {\r\n\tuser: {\r\n\t\tunique: string;\r\n\t};\r\n}\r\n\r\nexport type UmbCreateUserSuccessModalValue = undefined;\r\n\r\nexport const UMB_CREATE_USER_SUCCESS_MODAL = new UmbModalToken<\r\n\tUmbCreateUserSuccessModalData,\r\n\tUmbCreateUserSuccessModalValue\r\n>('Umb.Modal.User.CreateSuccess', {\r\n\tmodal: {\r\n\t\ttype: 'dialog',\r\n\t\tsize: 'small',\r\n\t},\r\n});\r\n","import { UmbModalToken } from '@umbraco-cms/backoffice/modal';\r\n\r\nexport type UmbUserMfaModalConfiguration = {\r\n\tunique: string;\r\n};\r\n\r\nexport const UMB_USER_MFA_MODAL = new UmbModalToken<UmbUserMfaModalConfiguration, never>('Umb.Modal.User.Mfa', {\r\n\tmodal: {\r\n\t\ttype: 'sidebar',\r\n\t\tsize: 'small',\r\n\t},\r\n});\r\n","import type { UmbUserConfigStore } from './user-config.store.js';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\n\r\nexport const UMB_USER_CONFIG_STORE_CONTEXT = new UmbContextToken<UmbUserConfigStore>('UmbUserConfigStore');\r\n","import type { UmbCurrentUserConfigStore } from './current-user-config.store.js';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\n\r\nexport const UMB_CURRENT_USER_CONFIG_STORE_CONTEXT = new UmbContextToken<UmbCurrentUserConfigStore>(\r\n\t'UmbCurrentUserConfigStore',\r\n);\r\n","export const UMB_USER_CONFIG_REPOSITORY_ALIAS = 'Umb.Repository.User.Config';\r\nexport const UMB_USER_CONFIG_STORE_ALIAS = 'Umb.Store.User.Config';\r\nexport { UMB_USER_CONFIG_STORE_CONTEXT } from './user-config.store.token.js';\r\n\r\nexport const UMB_CURRENT_USER_CONFIG_REPOSITORY_ALIAS = 'Umb.Repository.CurrentUser.Config';\r\nexport const UMB_CURRENT_USER_CONFIG_STORE_ALIAS = 'Umb.Store.CurrentUser.Config';\r\nexport { UMB_CURRENT_USER_CONFIG_STORE_CONTEXT } from './current-user-config.store.token.js';\r\n","import { UMB_USER_ENTITY_TYPE } from '../../entity.js';\r\nimport type { UmbUserWorkspaceContext } from './user-workspace.context.js';\r\nimport { UmbContextToken } from '@umbraco-cms/backoffice/context-api';\r\nimport type { UmbSubmittableWorkspaceContext } from '@umbraco-cms/backoffice/workspace';\r\n\r\nexport const UMB_USER_WORKSPACE_CONTEXT = new UmbContextToken<UmbSubmittableWorkspaceContext, UmbUserWorkspaceContext>(\r\n\t'UmbWorkspaceContext',\r\n\tundefined,\r\n\t(context): context is UmbUserWorkspaceContext => context.getEntityType?.() === UMB_USER_ENTITY_TYPE,\r\n);\r\n","export const UMB_USER_WORKSPACE_ALIAS = 'Umb.Workspace.User';\r\nexport { UMB_USER_WORKSPACE_CONTEXT } from './user-workspace.context-token.js';\r\n","export const UMB_USER_ROOT_WORKSPACE_ALIAS = 'Umb.Workspace.UserRoot';\r\n","export const UMB_INVITE_USER_REPOSITORY_ALIAS = 'Umb.Repository.User.Invite';\r\n"],"names":["UMB_USER_COLLECTION_REPOSITORY_ALIAS","UMB_USER_DETAIL_STORE_CONTEXT","UmbContextToken","UMB_USER_ITEM_STORE_CONTEXT","UMB_USER_ENTITY_TYPE","UMB_USER_ROOT_ENTITY_TYPE","UMB_COLLECTION_VIEW_USER_TABLE","UMB_COLLECTION_VIEW_USER_GRID","UMB_USER_COLLECTION_CONTEXT","UMB_USER_COLLECTION_ALIAS","UMB_USER_AVATAR_REPOSITORY_ALIAS","UMB_CHANGE_USER_PASSWORD_REPOSITORY_ALIAS","UmbUserKind","UMB_USER_DETAIL_REPOSITORY_ALIAS","UMB_USER_DETAIL_STORE_ALIAS","userItemCache","UmbManagementApiItemDataCache","UMB_USER_ITEM_REPOSITORY_ALIAS","UMB_USER_ITEM_STORE_ALIAS","UMB_DISABLE_USER_REPOSITORY_ALIAS","UMB_ENABLE_USER_REPOSITORY_ALIAS","UMB_UNLOCK_USER_REPOSITORY_ALIAS","_imgUrls","_UmbUserAvatarElement_instances","setImgSrcSizes_fn","setImgSrc_fn","elementName","UmbUserAvatarElement","UmbLitElement","__privateAdd","__privateGet","value","__privateSet","__privateMethod","classes","html","ifDefined","classMap","elementWidth","matchingSizes","size","css","__decorateClass","property","state","query","customElement","_uniques","_UmbUserDocumentStartNodeElement_instances","observeItems_fn","UmbUserDocumentStartNodeElement","repeat","item","itemRepository","createExtensionApiByAlias","asObservable","data","UMB_USER_PICKER_MODAL","UmbModalToken","UmbUserPickerInputContext","UmbPickerInputContext","host","_sorter","_pickerContext","_UmbUserInputElement_instances","openPicker_fn","removeItem_fn","renderAddButton_fn","renderItems_fn","renderItem_fn","UmbUserInputElement","UUIFormControlMixin","UmbSorterController","element","modelEntry","model","UmbChangeEvent","selection","selectedItems","uniques","splitStringToArray","nothing","_UmbUserMediaStartNodeElement_instances","UmbUserMediaStartNodeElement","UMB_USER_CLIENT_CREDENTIAL_REPOSITORY_ALIAS","UMB_CREATE_USER_CLIENT_CREDENTIAL_MODAL_ALIAS","manifests","UMB_CREATE_USER_CLIENT_CREDENTIAL_MODAL","UMB_USER_ALLOW_CHANGE_PASSWORD_CONDITION_ALIAS","UMB_CURRENT_USER_ALLOW_CHANGE_PASSWORD_CONDITION_ALIAS","UMB_USER_ALLOW_DELETE_CONDITION_ALIAS","UMB_USER_ALLOW_DISABLE_CONDITION_ALIAS","UMB_USER_ALLOW_EXTERNAL_LOGIN_CONDITION_ALIAS","UMB_USER_ALLOW_MFA_CONDITION_ALIAS","UMB_CURRENT_USER_ALLOW_MFA_CONDITION_ALIAS","UMB_USER_ALLOW_UNLOCK_CONDITION_ALIAS","UMB_USER_IS_DEFAULT_KIND_CONDITION_ALIAS","UMB_CREATE_USER_MODAL_ALIAS","UMB_CREATE_USER_MODAL","UMB_CREATE_USER_SUCCESS_MODAL","UMB_USER_MFA_MODAL","UMB_USER_CONFIG_STORE_CONTEXT","UMB_CURRENT_USER_CONFIG_STORE_CONTEXT","UMB_USER_CONFIG_REPOSITORY_ALIAS","UMB_USER_CONFIG_STORE_ALIAS","UMB_CURRENT_USER_CONFIG_REPOSITORY_ALIAS","UMB_CURRENT_USER_CONFIG_STORE_ALIAS","UMB_USER_WORKSPACE_CONTEXT","context","UMB_USER_WORKSPACE_ALIAS","UMB_USER_ROOT_WORKSPACE_ALIAS","UMB_INVITE_USER_REPOSITORY_ALIAS"],"mappings":";;;;;;;;;;;;;;;;;;;AAAO,MAAMA,KAAuC,iCCGvCC,KAAgC,IAAIC,EAAoC,oBAAoB,GCA5FC,KAA8B,IAAID,EAAkC,kBAAkB,GCHtFE,KAAuB,QACvBC,KAA4B,aCD5BC,KAAiC,iCACjCC,KAAgC,gCCEhCC,KAA8B,IAAIN,EAA0C,sBAAsB,GCFlGO,KAA4B,uBCD5BC,KAAmC,8BCAnCC,KAA4C,sCCE5CC,IAAc,OAAO,OAAO;AAAA,EACxC,SAAS;AAAA,EACT,KAAK;AACN,CAAC,GCLYC,KAAmC,8BACnCC,KAA8B,yBCErCC,KAAgB,IAAIC,GAAA,GCHbC,KAAiC,4BACjCC,KAA4B,sBCD5BC,KAAoC,+BCApCC,KAAmC,8BCAnCC,KAAmC;;;;;;;yYCAhDC,GAAAC,GAAAC,GAAAC;AAeA,MAAMC,KAAc;AAEb,IAAMC,IAAN,cAAmCC,EAAc;AAAA,EAAjD,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAN,CAAA,GAKN,KAAA,OAAyBX,EAAY,SAWrCiB,EAAA,MAAAP,GAA0B,EAAC,GAG3B,KAAQ,eAAkD,CAAA,GAG1D,KAAQ,UAAU,IAGlB,KAAQ,cAAc;AAAA,EAAA;AAAA,EAjBtB,IAAW,UAAyB;AACnC,WAAOQ,EAAA,MAAKR,CAAA;AAAA,EACb;AAAA,EACA,IAAW,QAAQS,GAAsB;AACxCC,IAAAA,GAAA,MAAKV,GAAWS,CAAA,GAChB,KAAK,cAAcA,EAAM,SAAS,GAClCE,EAAA,MAAKV,GAAAC,CAAA,EAAL,KAAA,IAAA;AAAA,EACD;AAAA,EA+CmB,eAAqB;AACvCS,IAAAA,EAAA,MAAKV,GAAAE,CAAA,EAAL,KAAA,IAAA;AAAA,EACD;AAAA,EAqBS,SAAS;AACjB,UAAMS,IAAU;AAAA,MACf,SAAS,KAAK,SAAStB,EAAY;AAAA,MACnC,KAAK,KAAK,SAASA,EAAY;AAAA,MAC/B,aAAa,KAAK;AAAA,IAAA;AAGnB,WAAOuB;AAAA,WACE,KAAK,QAAQ,SAAS;AAAA,aACpBC,EAAU,KAAK,UAAU,KAAK,UAAU,MAAS,CAAC;AAAA,WACpDC,GAASH,CAAO,CAAC;AAAA,EAC3B;AAmBD;AAnGCZ,IAAA,oBAAA,QAAA;AAhBMC,IAAA,oBAAA,QAAA;AA8BNC,IAAe,WAAG;AACjB,MAAIM,EAAA,MAAKR,CAAA,EAAS,WAAW,GAAG;AAC/B,SAAK,eAAe,CAAA;AACpB;AAAA,EACD;AAEA,OAAK,eAAe;AAAA,IACnB;AAAA,MACC,GAAG;AAAA,MACH,KAAKQ,EAAA,MAAKR,CAAA,EAAS,CAAC;AAAA,IAAA;AAAA,IAErB;AAAA,MACC,GAAG;AAAA,MACH,KAAKQ,EAAA,MAAKR,CAAA,EAAS,CAAC;AAAA,IAAA;AAAA,IAErB;AAAA,MACC,GAAG;AAAA,MACH,KAAKQ,EAAA,MAAKR,CAAA,EAAS,CAAC;AAAA,IAAA;AAAA,IAErB;AAAA,MACC,GAAG;AAAA,MACH,KAAKQ,EAAA,MAAKR,CAAA,EAAS,CAAC;AAAA,IAAA;AAAA,IAErB;AAAA,MACC,GAAG;AAAA,MACH,KAAKQ,EAAA,MAAKR,CAAA,EAAS,CAAC;AAAA,IAAA;AAAA,EACrB,GAGDW,EAAA,MAAKV,GAAAE,CAAA,EAAL,KAAA,IAAA;AACD;AAMMA,IAAU,iBAAG;AAClB,EAAK,KAAK,eACL,KAAK,iBAEV,WAAW,MAAM;AAGhB,UAAMa,IADc,KAAK,cAAc,sBAAA,EACN,OAE3BC,IAAgB,KAAK,aAAa,OAAO,CAACC,MAExCF,IAAe,OAAOE,EAAK,CAClC;AAGD,SAAK,UAAUD,EAAc,CAAC,GAAG;AAAA,EAClC,GAAG,CAAC;AACL;AAnFYZ,EAkGI,SAAS;AAAA,EACxBc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeD;AAhHAC,EAAA;AAAA,EADCC,EAAS,EAAE,MAAM,OAAA,CAAQ;AAAA,GADdhB,EAEZ,WAAA,QAAA,CAAA;AAGAe,EAAA;AAAA,EADCC,EAAS,EAAE,MAAM,OAAA,CAAQ;AAAA,GAJdhB,EAKZ,WAAA,QAAA,CAAA;AAGWe,EAAA;AAAA,EADVC,EAAS,EAAE,MAAM,OAAO,WAAW,IAAO;AAAA,GAP/BhB,EAQD,WAAA,WAAA,CAAA;AAWHe,EAAA;AAAA,EADPE,EAAA;AAAM,GAlBKjB,EAmBJ,WAAA,gBAAA,CAAA;AAGAe,EAAA;AAAA,EADPE,EAAA;AAAM,GArBKjB,EAsBJ,WAAA,WAAA,CAAA;AAGAe,EAAA;AAAA,EADPE,EAAA;AAAM,GAxBKjB,EAyBJ,WAAA,eAAA,CAAA;AAGRe,EAAA;AAAA,EADCG,GAAM,YAAY;AAAA,GA3BPlB,EA4BZ,WAAA,iBAAA,CAAA;AA5BYA,IAANe,EAAA;AAAA,EADNI,EAAcpB,EAAW;AAAA,GACbC,CAAA;;;;;;;0YCjBboB,GAAAC,GAAAC;AAMO,IAAMC,IAAN,cAA8CtB,EAAc;AAAA,EAA5D,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAmB,CAAA,GACNnB,EAAA,MAAAkB,GAA0B,EAAC,GAc3B,KAAA,WAAW,IAGX,KAAQ,gBAA4B,CAAA;AAAA,EAAC;AAAA,EAfrC,IAAW,UAAyB;AACnC,WAAOjB,EAAA,MAAKiB,CAAA;AAAA,EACb;AAAA,EACA,IAAW,QAAQhB,GAAsB;AACxCC,IAAAA,GAAA,MAAKe,GAAWhB,CAAA,GAEZD,EAAA,MAAKiB,CAAA,EAAS,SAAS,KAC1Bd,GAAA,MAAKe,GAAAC,EAAA,EAAL,KAAA,IAAA;AAAA,EAEF;AAAA,EAmBS,SAAS;AACjB,WAAI,KAAK,QAAQ,SAAS,IAClBd;AAAA;AAAA;AAAA,iBAGO,KAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,OAOrBgB;AAAA,MACN,KAAK;AAAA,MACL,CAACC,MAASA,EAAK;AAAA,MACf,CAACA,MACOjB;AAAA;AAAA;AAAA,aAGEiB,EAAK,SAAS,CAAC,GAAG,IAAI;AAAA,kBACjB,KAAK,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,IAK5B;AAAA,EAEF;AACD;AA1DCL,IAAA,oBAAA,QAAA;AADMC,IAAA,oBAAA,QAAA;AAoBAC,KAAa,iBAAG;AAGrB,QAAMI,IAAiB,MAAMC,EAAkD,MAAM,6BAA6B,GAC5G,EAAE,cAAAC,EAAA,IAAiB,MAAMF,EAAe,aAAavB,QAAKiB,CAAA,CAAQ;AAExE,OAAK,QAAQQ,IAAA,GAAkB,CAACC,MAAS;AACxC,SAAK,gBAAgBA,KAAQ,CAAA;AAAA,EAC9B,CAAC;AACF;AA1BWd,EAAA;AAAA,EADVC,EAAS,EAAE,MAAM,OAAO,WAAW,IAAO;AAAA,GAF/BO,EAGD,WAAA,WAAA,CAAA;AAYXR,EAAA;AAAA,EADCC,EAAS,EAAE,MAAM,QAAA,CAAS;AAAA,GAdfO,EAeZ,WAAA,YAAA,CAAA;AAGQR,EAAA;AAAA,EADPE,EAAA;AAAM,GAjBKM,EAkBJ,WAAA,iBAAA,CAAA;AAlBIA,IAANR,EAAA;AAAA,EADNI,EAAc,8BAA8B;AAAA,GAChCI,CAAA;ACIN,MAAMO,KAAwB,IAAIC;AAAA,EACxC;AAAA,EACA;AAAA,IACC,OAAO;AAAA,MACN,MAAM;AAAA,MACN,MAAM;AAAA,IAAA;AAAA,EACP;AAEF;ACZO,MAAMC,WAAkCC,GAA0C;AAAA,EACxF,YAAYC,GAAyB;AACpC,UAAMA,GAAM5C,IAAgCwC,EAAqB;AAAA,EAClE;AACD;;;;;;;oUCVAK,GAAAC,GAAAC,GAAAC,IAAAC,IAAAC,IAAAC,IAAAC;AAWO,IAAMC,IAAN,cAAkCC,GAAoB3C,GAAe,EAAE,EAAE;AAAA,EAqF/E,cAAc;AACb,UAAA,GAtFKC,EAAA,MAAAmC,CAAA,GACNnC,EAAA,MAAAiC,GAAU,IAAIU,GAA4B,MAAM;AAAA,MAC/C,oBAAoB,CAACC,MACbA,EAAQ;AAAA,MAEhB,kBAAkB,CAACC,MACXA;AAAA,MAER,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,mBAAmB;AAAA,MACnB,UAAU,CAAC,EAAE,OAAAC,QAAY;AACxB,aAAK,YAAYA,GACjB,KAAK,cAAc,IAAIC,IAAgB;AAAA,MACxC;AAAA,IAAA,CACA,CAAA,GAuBD,KAAA,aAAa,8BAuBb,KAAA,aAAa,kDAsBb/C,EAAA,MAAAkC,GAAiB,IAAIJ,GAA0B,IAAI,CAAA,GAKlD,KAAK;AAAA,MACJ;AAAA,MACA,MAAM,KAAK;AAAA,MACX,MAAM,CAAC,CAAC,KAAK,OAAO7B,QAAKiC,CAAA,EAAe,aAAA,EAAe,SAAS,KAAK;AAAA,IAAA,GAGtE,KAAK;AAAA,MACJ;AAAA,MACA,MAAM,KAAK;AAAA,MACX,MAAM,CAAC,CAAC,KAAK,OAAOjC,QAAKiC,CAAA,EAAe,aAAA,EAAe,SAAS,KAAK;AAAA,IAAA,GAGtE,KAAK,QAAQjC,EAAA,MAAKiC,CAAA,EAAe,WAAW,CAACc,MAAe,KAAK,QAAQA,EAAU,KAAK,GAAG,GAAI,mBAAmB,GAClH,KAAK,QAAQ/C,QAAKiC,CAAA,EAAe,eAAe,CAACe,MAAmB,KAAK,SAASA,GAAgB,gBAAgB;AAAA,EACnH;AAAA,EA9EA,IAAW,MAAc;AACxB,WAAOhD,QAAKiC,CAAA,EAAe;AAAA,EAC5B;AAAA,EACA,IAAW,IAAIhC,GAAe;AAC7BD,IAAAA,EAAA,MAAKiC,GAAe,MAAMhC;AAAA,EAC3B;AAAA,EAkBA,IAAW,MAAc;AACxB,WAAOD,QAAKiC,CAAA,EAAe;AAAA,EAC5B;AAAA,EACA,IAAW,IAAIhC,GAAe;AAC7BD,IAAAA,EAAA,MAAKiC,GAAe,MAAMhC;AAAA,EAC3B;AAAA,EAYA,IAAW,UAAUgD,GAAwB;AAC5CjD,IAAAA,EAAA,MAAKiC,CAAA,EAAe,aAAagB,CAAO,GACxCjD,EAAA,MAAKgC,CAAA,EAAQ,SAASiB,CAAO;AAAA,EAC9B;AAAA,EACA,IAAW,YAA2B;AACrC,WAAOjD,EAAA,MAAKiC,GAAe,aAAA;AAAA,EAC5B;AAAA,EAGA,IAAoB,MAAMgB,GAAiB;AAC1C,SAAK,YAAYC,GAAmBD,CAAO;AAAA,EAC5C;AAAA,EACA,IAAoB,QAAgB;AACnC,WAAO,KAAK,UAAU,KAAK,GAAG;AAAA,EAC/B;AAAA,EA0BmB,iBAAiB;AAAA,EAEpC;AAAA,EAUS,SAAS;AACjB,WAAO5C,IAAOF,EAAA,MAAK+B,GAAAI,EAAA,EAAL,UAAmB,IAAInC,EAAA,MAAK+B,OAAL,KAAA,IAAA,CAAuB;AAAA,EAC7D;AA4CD;AAjKCF,IAAA,oBAAA,QAAA;AAkFAC,IAAA,oBAAA,QAAA;AAnFMC,IAAA,oBAAA,QAAA;AA4GNC,KAAW,WAAG;AACbnC,EAAAA,EAAA,MAAKiC,CAAA,EAAe,WAAW,CAAA,CAAE;AAClC;AAEAG,KAAW,SAACd,GAAwB;AACnCtB,EAAAA,EAAA,MAAKiC,CAAA,EAAe,kBAAkBX,EAAK,MAAM;AAClD;AAMAe,KAAgB,WAAG;AAClB,SAAI,KAAK,MAAM,KAAK,KAAK,UAAU,UAAU,KAAK,MAAYc,IACvD9C;AAAA;AAAA;AAAA;AAAA,YAIG,KAAK,SAAS,KAAK,gBAAgB,CAAC;AAAA,aACnCF,QAAK+B,GAAAC,EAAA,CAAW;AAAA;AAE5B;AAEAG,KAAY,WAAG;AACd,SAAK,KAAK,SACHjC;AAAA;AAAA,MAEHgB;AAAA,IACD,KAAK;AAAA,IACL,CAACC,MAASA,EAAK;AAAA,IACf,CAACA,MAASnB,EAAA,MAAK+B,GAAAK,EAAA,EAAL,KAAA,MAAiBjB,CAAA;AAAA,EAAA,CAC3B;AAAA;AAAA,MAPsB6B;AAU1B;AAEAZ,KAAW,SAACjB,GAAwB;AACnC,SAAKA,EAAK,SACHjB;AAAA,gCACuBiB,CAAI,OAAOA,EAAK,MAAM,gBAAgB,KAAK,QAAQ,CAAC;AAAA;AAAA,yBAE3D,KAAK,SAAS,KAAK,gBAAgB,CAAC,WAAW,MAAMnB,EAAA,MAAK+B,GAAAE,EAAA,EAAL,KAAA,MAAiBd,CAAA,CAAK;AAAA;AAAA;AAAA,MAJzE6B;AAQ1B;AAzJYX,EA2JI,SAAS;AAAA,EACxB7B;AAAA;AAAA;AAAA;AAAA;AAKD;AAzIWC,EAAA;AAAA,EADVC,EAAS,EAAE,MAAM,OAAA,CAAQ;AAAA,GAvBd2B,EAwBD,WAAA,OAAA,CAAA;AAcX5B,EAAA;AAAA,EADCC,EAAS,EAAE,MAAM,QAAQ,WAAW,eAAe;AAAA,GArCxC2B,EAsCZ,WAAA,cAAA,CAAA;AASW5B,EAAA;AAAA,EADVC,EAAS,EAAE,MAAM,OAAA,CAAQ;AAAA,GA9Cd2B,EA+CD,WAAA,OAAA,CAAA;AAcX5B,EAAA;AAAA,EADCC,EAAS,EAAE,MAAM,QAAQ,WAAW,eAAe;AAAA,GA5DxC2B,EA6DZ,WAAA,cAAA,CAAA;AAGW5B,EAAA;AAAA,EADVC,EAAS,EAAE,MAAM,MAAA,CAAO;AAAA,GA/Db2B,EAgED,WAAA,aAAA,CAAA;AASS5B,EAAA;AAAA,EADnBC,EAAA;AAAS,GAxEE2B,EAyEQ,WAAA,SAAA,CAAA;AAQZ5B,EAAA;AAAA,EADPE,EAAA;AAAM,GAhFK0B,EAiFJ,WAAA,UAAA,CAAA;AAjFIA,IAAN5B,EAAA;AAAA,EADNI,EAAc,gBAAgB;AAAA,GAClBwB,CAAA;;;;;;;4YCXbvB,GAAAmC,GAAAjC;AAMO,IAAMkC,IAAN,cAA2CvD,EAAc;AAAA,EAAzD,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAqD,CAAA,GACNrD,EAAA,MAAAkB,GAA0B,EAAC,GAc3B,KAAA,WAAW,IAGX,KAAQ,gBAA4B,CAAA;AAAA,EAAC;AAAA,EAfrC,IAAW,UAAyB;AACnC,WAAOjB,EAAA,MAAKiB,CAAA;AAAA,EACb;AAAA,EACA,IAAW,QAAQhB,GAAsB;AACxC,IAAAC,GAAA,MAAKe,GAAWhB,CAAA,GAEZD,EAAA,MAAKiB,CAAA,EAAS,SAAS,KAC1Bd,GAAA,MAAKiD,GAAAjC,EAAA,EAAL,KAAA,IAAA;AAAA,EAEF;AAAA,EAmBS,SAAS;AACjB,WAAI,KAAK,QAAQ,SAAS,IAClBd;AAAA;AAAA;AAAA,iBAGO,KAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,OAOrBgB;AAAA,MACN,KAAK;AAAA,MACL,CAACC,MAASA,EAAK;AAAA,MACf,CAACA,MACOjB;AAAA;AAAA;AAAA,aAGEC,EAAUgB,EAAK,SAAS,CAAC,GAAG,IAAI,CAAC;AAAA,kBAC5B,KAAK,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,IAK5B;AAAA,EAEF;AACD;AA1DCL,IAAA,oBAAA,QAAA;AADMmC,IAAA,oBAAA,QAAA;AAoBAjC,KAAa,iBAAG;AAGrB,QAAMI,IAAiB,MAAMC,EAAkD,MAAM,0BAA0B,GACzG,EAAE,cAAAC,EAAA,IAAiB,MAAMF,EAAe,aAAavB,QAAKiB,CAAA,CAAQ;AAExE,OAAK,QAAQQ,IAAA,GAAkB,CAACC,MAAS;AACxC,SAAK,gBAAgBA,KAAQ,CAAA;AAAA,EAC9B,CAAC;AACF;AA1BWd,EAAA;AAAA,EADVC,EAAS,EAAE,MAAM,OAAO,WAAW,IAAO;AAAA,GAF/BwC,EAGD,WAAA,WAAA,CAAA;AAYXzC,EAAA;AAAA,EADCC,EAAS,EAAE,MAAM,QAAA,CAAS;AAAA,GAdfwC,EAeZ,WAAA,YAAA,CAAA;AAGQzC,EAAA;AAAA,EADPE,EAAA;AAAM,GAjBKuC,EAkBJ,WAAA,iBAAA,CAAA;AAlBIA,IAANzC,EAAA;AAAA,EADNI,EAAc,2BAA2B;AAAA,GAC7BqC,CAAA;ACNN,MAAMC,KAA8C,wCCA9CC,KAAgD,0CAEhDC,KAAyC;AAAA,EACrD;AAAA,IACC,MAAM;AAAA,IACN,OAAOD;AAAA,IACP,MAAM;AAAA,IACN,SAAS,MAAM,OAAO,2DAAkD;AAAA,EAAA;AAE1E,GCOaE,KAA0C,IAAI7B,EAGzD2B,IAA+C;AAAA,EAChD,OAAO;AAAA,IACN,MAAM;AAAA,IACN,MAAM;AAAA,EAAA;AAER,CAAC,GCxBYG,KAAiD,0CACjDC,KAAyD,iDCDzDC,KAAwC,wCCAxCC,KAAyC,yCCAzCC,KAAgD,+CCAhDC,KAAqC,qCACrCC,KAA6C,4CCD7CC,KAAwC,wCCAxCC,KAA2C,oCCA3CC,KAA8B,yBAE9BX,KAAyC;AAAA,EACrD;AAAA,IACC,MAAM;AAAA,IACN,OAAOW;AAAA,IACP,MAAM;AAAA,IACN,IAAI,MAAM,OAAO,yCAAgC;AAAA,EAAA;AAAA,EAElD;AAAA,IACC,MAAM;AAAA,IACN,OAAO;AAAA,IACP,MAAM;AAAA,IACN,IAAI,MAAM,OAAO,iDAAwC;AAAA,EAAA;AAE3D,GCLaC,KAAwB,IAAIxC,EAAsCuC,IAA6B;AAAA,EAC3G,OAAO;AAAA,IACN,MAAM;AAAA,IACN,MAAM;AAAA,EAAA;AAER,CAAC,GCLYE,KAAgC,IAAIzC,EAG/C,gCAAgC;AAAA,EACjC,OAAO;AAAA,IACN,MAAM;AAAA,IACN,MAAM;AAAA,EAAA;AAER,CAAC,GCZY0C,KAAqB,IAAI1C,EAAmD,sBAAsB;AAAA,EAC9G,OAAO;AAAA,IACN,MAAM;AAAA,IACN,MAAM;AAAA,EAAA;AAER,CAAC,GCRY2C,KAAgC,IAAInG,EAAoC,oBAAoB,GCA5FoG,KAAwC,IAAIpG;AAAA,EACxD;AACD,GCLaqG,KAAmC,8BACnCC,KAA8B,yBAG9BC,KAA2C,qCAC3CC,KAAsC,gCCAtCC,KAA6B,IAAIzG;AAAA,EAC7C;AAAA,EACA;AAAA,EACA,CAAC0G,MAAgDA,EAAQ,sBAAsBxG;AAChF,GCTayG,KAA2B,sBCA3BC,KAAgC,0BCAhCC,KAAmC;"}