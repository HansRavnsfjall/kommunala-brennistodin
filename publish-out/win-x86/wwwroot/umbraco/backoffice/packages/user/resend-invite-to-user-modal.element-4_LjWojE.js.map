{"version":3,"file":"resend-invite-to-user-modal.element-4_LjWojE.js","sources":["../../../src/packages/user/user/invite/modal/resend-invite/resend-invite-to-user-modal.element.ts"],"sourcesContent":["import { UmbInviteUserRepository } from '../../repository/invite-user.repository.js';\r\nimport type {\r\n\tUmbResendInviteToUserModalData,\r\n\tUmbResendInviteToUserModalValue,\r\n} from './resend-invite-to-user-modal.token.js';\r\nimport { html, customElement } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbModalBaseElement } from '@umbraco-cms/backoffice/modal';\r\n\r\n@customElement('umb-resend-invite-to-user-modal')\r\nexport class UmbResendInviteToUserModalElement extends UmbModalBaseElement<\r\n\tUmbResendInviteToUserModalData,\r\n\tUmbResendInviteToUserModalValue\r\n> {\r\n\t#userInviteUserRepository = new UmbInviteUserRepository(this);\r\n\r\n\tasync #onSubmitForm(e: Event) {\r\n\t\te.preventDefault();\r\n\r\n\t\tif (!this.modalContext?.data.user.unique) throw new Error('User unique is missing');\r\n\r\n\t\tconst form = e.target as HTMLFormElement;\r\n\t\tif (!form) return;\r\n\r\n\t\tconst isValid = form.checkValidity();\r\n\t\tif (!isValid) return;\r\n\r\n\t\tconst formData = new FormData(form);\r\n\t\tconst message = formData.get('message') as string;\r\n\r\n\t\tconst { error } = await this.#userInviteUserRepository.resendInvite({\r\n\t\t\tuser: {\r\n\t\t\t\tunique: this.modalContext.data.user.unique,\r\n\t\t\t},\r\n\t\t\tmessage,\r\n\t\t});\r\n\r\n\t\tif (!error) {\r\n\t\t\tthis._submitModal();\r\n\t\t}\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`<uui-dialog-layout headline=\"Resend invite\">\r\n\t\t\t${this.#renderForm()}\r\n\r\n\t\t\t<uui-button @click=${this._rejectModal} slot=\"actions\" label=\"Cancel\" look=\"secondary\"></uui-button>\r\n\t\t\t<uui-button\r\n\t\t\t\tslot=\"actions\"\r\n\t\t\t\ttype=\"submit\"\r\n\t\t\t\tlabel=\"Resend invite\"\r\n\t\t\t\tlook=\"primary\"\r\n\t\t\t\tcolor=\"positive\"\r\n\t\t\t\tform=\"ResendInviteToUserForm\"></uui-button>\r\n\t\t</uui-dialog-layout>`;\r\n\t}\r\n\r\n\t#renderForm() {\r\n\t\treturn html` <uui-form>\r\n\t\t\t<form id=\"ResendInviteToUserForm\" name=\"form\" @submit=\"${this.#onSubmitForm}\">\r\n\t\t\t\t<uui-form-layout-item>\r\n\t\t\t\t\t<uui-label id=\"messageLabel\" slot=\"label\" for=\"message\" required>Message</uui-label>\r\n\t\t\t\t\t<uui-textarea id=\"message\" label=\"message\" name=\"message\" required></uui-textarea>\r\n\t\t\t\t</uui-form-layout-item>\r\n\t\t\t</form>\r\n\t\t</uui-form>`;\r\n\t}\r\n}\r\n\r\nexport default UmbResendInviteToUserModalElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-resend-invite-to-user-modal': UmbResendInviteToUserModalElement;\r\n\t}\r\n}\r\n"],"names":["_userInviteUserRepository","_UmbResendInviteToUserModalElement_instances","onSubmitForm_fn","renderForm_fn","UmbResendInviteToUserModalElement","UmbModalBaseElement","__privateAdd","UmbInviteUserRepository","html","__privateMethod","form","message","error","__privateGet","__decorateClass","customElement","UmbResendInviteToUserModalElement$1"],"mappings":";;;;;;;;;+TAAAA,GAAAC,GAAAC,GAAAC;AASO,IAAMC,IAAN,cAAgDC,EAGrD;AAAA,EAHK,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAL,CAAA,GAINK,EAAA,MAAAN,GAA4B,IAAIO,EAAwB,IAAI,CAAA;AAAA,EAAA;AAAA,EA4BnD,SAAS;AACjB,WAAOC;AAAA,KACJC,EAAA,MAAKR,MAAL,KAAA,IAAA,CAAkB;AAAA;AAAA,wBAEC,KAAK,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASxC;AAYD;AArDCD,IAAA,oBAAA,QAAA;AAJMC,IAAA,oBAAA,QAAA;AAMAC,IAAa,eAAC,GAAU;AAG7B,MAFA,EAAE,eAAA,GAEE,CAAC,KAAK,cAAc,KAAK,KAAK,OAAQ,OAAM,IAAI,MAAM,wBAAwB;AAElF,QAAMQ,IAAO,EAAE;AAIf,MAHI,CAACA,KAGD,CADYA,EAAK,cAAA,EACP;AAGd,QAAMC,IADW,IAAI,SAASD,CAAI,EACT,IAAI,SAAS,GAEhC,EAAE,OAAAE,EAAA,IAAU,MAAMC,EAAA,MAAKb,GAA0B,aAAa;AAAA,IACnE,MAAM;AAAA,MACL,QAAQ,KAAK,aAAa,KAAK,KAAK;AAAA,IAAA;AAAA,IAErC,SAAAW;AAAA,EAAA,CACA;AAED,EAAKC,KACJ,KAAK,aAAA;AAEP;AAiBAT,IAAW,WAAG;AACb,SAAOK;AAAA,4DACmDC,QAAKR,GAAAC,CAAA,CAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAO7E;AAxDYE,IAANU,EAAA;AAAA,EADNC,EAAc,iCAAiC;AAAA,GACnCX,CAAA;AA2Db,MAAAY,IAAeZ;"}